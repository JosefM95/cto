<!doctype html>
<html lang="de"l>
<head>
<meta charset="utf-8">
<title>Implementierung des erweiterten Euklidischen Algorithmus</title>
<link rel="stylesheet" type="text/css" href="slides/slides.css"></head>
<body>
<h1>Implementierung des erweiterten Euklidischen Algorithmus</h1>
<div class="slides">
<div><div>
<h1>Implementierung des erweiterten Euklidischen Algorithmus</h1>
</div>

<ul><li>
 Leider bietet die verwendete Mathe-Bibliothek keinen Algorithmus, um
  das Inverse Element zu einer Restklasse zu bestimmen
</li><li>
 Daher wird der Erweiterte Euklidische Algorithmus hier direkt
  implementiert
</li></ul></div>

<div><div>
<code>

<span class="add">@globdef(<span class="name">gcd</span>)</span><br/>

<span class="in1"></span><span class="type">let</span> <span class="var">ca</span> = <span class="var">a</span>;<br/>

<span class="in1"></span><span class="type">let</span> <span class="var">cb</span> = <span class="var">b</span>;<br/>

<span class="end">@end(<span class="name">gcd</span>)</span><br/>

</code>
</div>

<ul><li>
 Die aktuellen Werte von <code>a</code> und <code>b</code> werden in <code>ca</code> und
  <code>cb</code> gespeichert
</li><li>
 Solange <code>cb</code> nicht <code>0</code> ist gilt stets, dass der größte
  gemeinsame Teiler von <code>a</code> und <code>b</code> auch der größte gemeinsame
  Teiler von <code>ca</code> und <code>cb</code> ist
</li><li>
 Der Euklidische Algorithmus reduziert <code>ca</code> und <code>cb</code>, bis
  <code>cb</code> gleich <code>0</code> wird
</li></ul></div>

<div><div>
<code>

<span class="add">@globadd(<span class="name">gcd</span>)</span><br/>

<span class="in1"></span><span class="type">let</span> <span class="var">u</span> = <span class="fn">bigInt</span>.<span class="var">one</span>;<br/>

<span class="in1"></span><span class="type">let</span> <span class="var">v</span> = <span class="fn">bigInt</span>.<span class="var">zero</span>;<br/>

<span class="in1"></span><span class="type">let</span> <span class="var">s</span> = <span class="var">v</span>;<br/>

<span class="in1"></span><span class="type">let</span> <span class="var">t</span> = <span class="var">u</span>;<br/>

<span class="end">@end(<span class="name">gcd</span>)</span><br/>

</code>
</div>

<ul><li>
 Der Erweiterte Euklidische Algorithmus enthält vier weitere Parameter
  <code>u</code>, <code>v</code>, <code>s</code> und <code>t</code>
</li><li>
 Es gilt stets, dass <code>ca = u * a + v * b</code>
</li><li>
 Und <code>cb = s * a + t * b</code>
</li></ul></div>

<div><div>
<code>

<span class="add">@globadd(<span class="name">gcd</span>)</span><br/>

<span class="in1"></span><span class="keyword">while</span> (! <span class="var">cb</span>.<span class="fn">isZero</span>()) {<br/>

<span class="in2"></span><span class="expand">@expand(<span class="name">gcd loop</span>)</span>;<br/>

<span class="in1"></span>}<br/>

<span class="end">@end(<span class="name">gcd</span>)</span><br/>

</code>
</div>

<ul><li>
 Solange <code>cb</code> nicht <code>0</code> ist, wird die Schleife ausgeführt
</li></ul></div>

<div><div>
<code>

<span class="add">@def(<span class="name">gcd loop</span>)</span><br/>

<span class="in1"></span><span class="type">const</span> <span class="var">dd</span> = <span class="var">ca</span>.<span class="fn">divmod</span>(<span class="var">cb</span>);<br/>

<span class="in1"></span><span class="type">const</span> <span class="var">na</span> = <span class="var">cb</span>;<br/>

<span class="in1"></span><span class="type">const</span> <span class="var">nb</span> = <span class="var">dd</span>.<span class="var">remainder</span>;<br/>

<span class="end">@end(<span class="name">gcd loop</span>)</span><br/>

</code>
</div>

<ul><li>
 <code>ca</code> wird durch <code>cb</code> geteilt
</li><li>
 Der neue Wert von <code>ca</code> (<code>na</code>) wird auf <code>cb</code> gesetzt
</li><li>
 Der neue Wert von <code>cb</code> (<code>nb</code>) ist der Rest aus der Division
</li><li>
 Der größte gemeinsame Teiler von <code>ca</code> und <code>cb</code> ist auch der
  größte gemeinsame Teiler von <code>na</code> und <code>nb</code>
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">gcd loop</span>)</span><br/>

<span class="in1"></span><span class="type">const</span> <span class="var">nu</span> = <span class="var">s</span>;<br/>

<span class="in1"></span><span class="type">const</span> <span class="var">nv</span> = <span class="var">t</span>;<br/>

<span class="end">@end(<span class="name">gcd loop</span>)</span><br/>

</code>
</div>

<ul><li>
 Dadurch, dass <code>cb</code> nach <code>na</code> kopiert wurde, können die
  Koeffizienten <code>s</code> und <code>t</code> nach <code>nu</code> und <code>nv</code> kopiert
  werden
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">gcd loop</span>)</span><br/>

<span class="in1"></span><span class="type">const</span> <span class="var">ns</span> = <span class="var">u</span>.<span class="fn">subtract</span>(<br/>

<span class="in2"></span><span class="var">dd</span>.<span class="var">quotient</span>.<span class="fn">multiply</span>(<span class="var">s</span>)<br/>

<span class="in1"></span>);<br/>

<span class="in1"></span><span class="type">const</span> <span class="var">nt</span> = <span class="var">v</span>.<span class="fn">subtract</span>(<br/>

<span class="in2"></span><span class="var">dd</span>.<span class="var">quotient</span>.<span class="fn">multiply</span>(<span class="var">t</span>)<br/>

<span class="in1"></span>);<br/>

<span class="end">@end(<span class="name">gcd loop</span>)</span><br/>

</code>
</div>

<ul><li>
 Aus den aktuellen <code>u</code> und <code>v</code> können die neuen <code>s</code> und
  <code>t</code> bestimmt werden
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">gcd loop</span>)</span><br/>

<span class="in1"></span><span class="var">ca</span> = <span class="var">na</span>;<br/>

<span class="in1"></span><span class="var">cb</span> = <span class="var">nb</span>;<br/>

<span class="end">@end(<span class="name">gcd loop</span>)</span><br/>

</code>
</div>

<ul><li>
 Die neuen Werte werden zu den aktuellen Werten
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">gcd loop</span>)</span><br/>

<span class="in1"></span><span class="var">u</span> = <span class="var">nu</span>;<br/>

<span class="in1"></span><span class="var">v</span> = <span class="var">nv</span>;<br/>

<span class="in1"></span><span class="var">s</span> = <span class="var">ns</span>;<br/>

<span class="in1"></span><span class="var">t</span> = <span class="var">nt</span>;<br/>

<span class="end">@end(<span class="name">gcd loop</span>)</span><br/>

</code>
</div>

<ul><li>
 Die neuen Werte werden zu den aktuellen Werten
</li></ul></div>

<div><div>
<code>

<span class="add">@globadd(<span class="name">gcd</span>)</span><br/>

<span class="in1"></span><span class="keyword">return</span> {<br/>

<span class="in2"></span><span class="str">a</span>: <span class="var">ca</span>, <span class="str">u</span>: <span class="var">u</span>, <span class="str">v</span>: <span class="var">v</span>,<br/>

<span class="in2"></span><span class="str">s</span>: <span class="var">s</span>, <span class="str">t</span>: <span class="var">t</span> <br/>

<span class="in1"></span>};<br/>

<span class="end">@end(<span class="name">gcd</span>)</span><br/>

</code>
</div>

<ul><li>
 Zurück liefert die Funktion den größten gemeinsamen Teiler <code>a</code>
</li><li>
 Und die Koeffizienten
</li></ul></div>

</div>
<h2>Unit-Test</h2>
<div class="slides">
<div><div>
<h2>Unit-Test</h2>
</div>


</div>
<div><div>
<code>

<span class="add">@globadd(<span class="name">globals</span>)</span> {<br/>

<span class="in1"></span><span class="expand">@expand(<span class="name">unit test</span>)</span>;<br/>

} <span class="end">@end(<span class="name">globals</span>)</span><br/>

</code>
</div>

<ul><li>
 Unit-Test wird in einem eigenen Block bei jedem Start ausgeführt
</li></ul></div>

<div><div>
<code>

<span class="add">@def(<span class="name">unit test</span>)</span><br/>

<span class="in1"></span><span class="type">const</span> <span class="fn">eq</span> = (<span class="var">a</span>, <span class="var">b</span>) =&gt; {<br/>

<span class="in2"></span><span class="keyword">if</span> (! <span class="var">a</span>.<span class="fn">equals</span>(<span class="var">b</span>)) {<br/>

<span class="in3"></span><span class="var">console</span>.<span class="fn">error</span>(<br/>

<span class="in4"></span><span class="str">`expected ${a}, got ${b}`</span><br/>

<span class="in3"></span>);<br/>

<span class="in2"></span>}<br/>

<span class="in1"></span>};<br/>

<span class="end">@end(<span class="name">unit test</span>)</span><br/>

</code>
</div>

<ul><li>
 Die Funktion prüft, ob zwei große Zahlen gleich sind
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">unit test</span>)</span><br/>

<span class="in1"></span><span class="type">const</span> <span class="var">g</span> = <span class="fn">gcd</span>(<br/>

<span class="in2"></span><span class="fn">bigInt</span>(<span class="num">70</span>), <span class="fn">bigInt</span>(<span class="num">4</span>)<br/>

<span class="in1"></span>);<br/>

<span class="in1"></span><span class="fn">eq</span>(<span class="var">g</span>.<span class="var">a</span>, <span class="fn">bigInt</span>(<span class="num">2</span>));<br/>

<span class="end">@end(<span class="name">unit test</span>)</span><br/>

</code>
</div>

<ul><li>
 Der größte gemeinsame Teiler muss <code>2</code> sein
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">unit test</span>)</span><br/>

<span class="in1"></span><span class="fn">eq</span>(<span class="var">g</span>.<span class="var">u</span>, <span class="fn">bigInt</span>(<span class="num">1</span>));<br/>

<span class="in1"></span><span class="fn">eq</span>(<span class="var">g</span>.<span class="var">v</span>, <span class="fn">bigInt</span>(-<span class="num">17</span>));<br/>

<span class="end">@end(<span class="name">unit test</span>)</span><br/>

</code>
</div>

<ul><li>
 Die Koeffizienten <code>g.u</code> und <code>g.v</code> liefern
  eine Linearkombination für den größten gemeinsamen Teiler
</li></ul></div>

<div><div>
<code>

<span class="add">@add(<span class="name">unit test</span>)</span><br/>

<span class="in1"></span><span class="fn">eq</span>(<span class="var">g</span>.<span class="var">s</span>, <span class="fn">bigInt</span>(-<span class="num">2</span>));<br/>

<span class="in1"></span><span class="fn">eq</span>(<span class="var">g</span>.<span class="var">t</span>, <span class="fn">bigInt</span>(<span class="num">35</span>));<br/>

<span class="end">@end(<span class="name">unit test</span>)</span><br/>

</code>
</div>

<ul><li>
 Die Koeffizienten <code>g.s</code> und <code>g.t</code> liefern nicht-triviale
  Linearkombination von <code>0</code>
</li><li>
 Also <code>g.s * 70 + g.t * 4 == 0</code> wobei <code>g.s</code> und
  <code>g.t</code> nicht <code>0</code> sind
</li></ul></div>

