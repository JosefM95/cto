!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){function r(e,t,n){function r(e,o){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,o)}var i=!1;return n=n||o,r.count=e,0===e?t():r}function o(){}t.exports=r},{}],2:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],3:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},{}],4:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],5:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;n.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var n,r,o,i,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),f=new Uint8Array(l);for(n=0;n<c;n+=4)r=t[e.charCodeAt(n)],o=t[e.charCodeAt(n+1)],i=t[e.charCodeAt(n+2)],s=t[e.charCodeAt(n+3)],f[u++]=r<<2|o>>4,f[u++]=(15&o)<<4|i>>2,f[u++]=(3&i)<<6|63&s;return l}}()},{}],6:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),a=s&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?r:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){},{}],8:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],9:[function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],10:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],11:[function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function c(){try{return n.storage.debug}catch(e){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=s,n.formatArgs=i,n.save=a,n.load=c,n.useColors=o,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(c())}).call(this,e("_process"))},{"./debug":12,_process:46}],12:[function(e,t,n){function r(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function o(e){function t(){if(t.enabled){var e=t,r=+new Date,o=r-(u||r);e.diff=o,e.prev=u,e.curr=r,u=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var s=i[a];t=o.call(e,s),i.splice(a,1),a--}return t}),n.formatArgs.call(e,i);var c=t.log||n.log||console.log.bind(console);c.apply(e,i)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=r(e),"function"==typeof n.init&&n.init(t),t}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o.debug=o.default=o,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u},{ms:38}],13:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":14}],14:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":15,"engine.io-parser":26}],15:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var o="object"==typeof n&&n;o.global===o&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports/index"),s=e("component-emitter"),a=e("debug")("engine.io-client:socket"),c=e("indexof"),u=e("engine.io-parser"),l=e("parseuri"),f=e("parsejson"),d=e("parseqs");t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=e("./transport"),r.transports=e("./transports/index"),r.parser=e("engine.io-parser"),r.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;f=f||t}f||(a('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!f)if("pong"===t.type&&"probe"===t.data){if(a('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,a('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){f||"closed"!==d.readyState&&(a("changing transport and sending upgrade packet"),u(),d.setTransport(l),l.send([{type:"upgrade"}]),d.emit("upgrade",l),l=null,d.upgrading=!1,d.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,d.emit("upgradeError",n)}}))}function n(){f||(f=!0,u(),l.close(),l=null)}function o(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),a('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function c(e){l&&e.name!==l.name&&(a('"%s" works - aborting "%s"',e.name,l.name),n())}function u(){l.removeListener("open",t),l.removeListener("error",o),l.removeListener("close",i),d.removeListener("close",s),d.removeListener("upgrading",c)}a('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),f=!1,d=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",o),l.once("close",i),this.once("close",s),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(f(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){a("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":16,"./transports/index":17,"component-emitter":23,debug:24,"engine.io-parser":26,indexof:33,parsejson:40,parseqs:41,parseuri:42}],16:[function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=e("engine.io-parser"),i=e("component-emitter");t.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":23,"engine.io-parser":26}],17:[function(e,t,n){(function(t){function r(e){var n,r=!1,a=!1,c=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),r=e.hostname!==location.hostname||l!==e.port,a=e.secure!==u}if(e.xdomain=r,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new i(e);if(!c)throw new Error("JSONP disabled");return new s(e)}var o=e("xmlhttprequest-ssl"),i=e("./polling-xhr"),s=e("./polling-jsonp"),a=e("./websocket");n.polling=r,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":18,"./polling-xhr":19,"./websocket":21,"xmlhttprequest-ssl":22}],18:[function(e,t,n){(function(n){function r(){}function o(e){i.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}var i=e("./polling"),s=e("component-inherit");t.exports=o;var a,c=/\n/g,u=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":20,"component-inherit":10}],19:[function(e,t,n){(function(n){function r(){}function o(e){if(c.call(this,e),this.requestTimeout=e.requestTimeout,n.location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd=e.hostname!==n.location.hostname||r!==e.port,this.xs=e.secure!==t}else this.extraHeaders=e.extraHeaders}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var a=e("xmlhttprequest-ssl"),c=e("./polling"),u=e("component-emitter"),l=e("component-inherit"),f=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,l(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=r},o.prototype.doPoll=function(){f("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),r=this;try{f("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout(function(){r.onError(t.status)},0))},f("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,i=n.length;o<i;o++)r.push(n[o]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":20,"component-emitter":23,"component-inherit":10,debug:24,"xmlhttprequest-ssl":22}],20:[function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("parseqs"),s=e("engine.io-parser"),a=e("component-inherit"),c=e("yeast"),u=e("debug")("engine.io-client:polling");t.exports=r;var l=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||t()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":16,"component-inherit":10,debug:24,"engine.io-parser":26,parseqs:41,"xmlhttprequest-ssl":22,yeast:93}],21:[function(e,t,n){(function(n){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=f&&!e.forceNode,this.usingBrowserWebSocket||(d=o),i.call(this,e)}var o,i=e("../transport"),s=e("engine.io-parser"),a=e("parseqs"),c=e("component-inherit"),u=e("yeast"),l=e("debug")("engine.io-client:websocket"),f=n.WebSocket||n.MozWebSocket;if("undefined"==typeof window)try{o=e("ws")}catch(e){}var d=f;d||"undefined"!=typeof window||(d=o),t.exports=r,c(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new d(e):new d(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function t(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=e.length,i=0,a=o;i<a;i++)!function(e){s.encodePacket(e,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),r.perMessageDeflate){var a="string"==typeof i?n.Buffer.byteLength(i):i.length;a<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,s)}catch(e){l("websocket closed before onclose event")}--o||t()})}(e[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this);
},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":16,"component-inherit":10,debug:24,"engine.io-parser":26,parseqs:41,ws:7,yeast:93}],22:[function(e,t,n){(function(n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,o=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(e){}if(!t)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":31}],23:[function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}"undefined"!=typeof t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],24:[function(e,t,n){(function(r){function o(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function c(){try{return n.storage.debug}catch(e){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=s,n.formatArgs=i,n.save=a,n.load=c,n.useColors=o,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(c())}).call(this,e("_process"))},{"./debug":25,_process:46}],25:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;c++;var o=n.formatters[r];if("function"==typeof o){var i=s[c];t=o.call(e,i),s.splice(c,1),c--}return t}),s=n.formatArgs.apply(e,s);var l=o.log||n.log||console.log.bind(console);l.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o.debug=o,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:38}],26:[function(e,t,n){(function(t){function r(e,t){var r="b"+n.packets[e.type]+e.data.data;return t(r)}function o(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=g[e.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,r)},o.readAsArrayBuffer(e.data)}function s(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(m)return i(e,t,r);var o=new Uint8Array(1);o[0]=g[e.type];var s=new w([o.buffer,e.data]);return r(s)}function a(e){try{e=h.decode(e)}catch(e){return!1}return e}function c(e,t,n){for(var r=new Array(e.length),o=p(e.length,n),i=function(e,n,o){t(n,function(t,n){r[e]=n,o(t,r)})},s=0;s<e.length;s++)i(s,e[s],o)}var u,l=e("./keys"),f=e("has-binary"),d=e("arraybuffer.slice"),p=e("after"),h=e("wtf-8");t&&t.ArrayBuffer&&(u=e("base64-arraybuffer"));var v="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),y="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),m=v||y;n.protocol=3;var g=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=l(g),b={type:"error",data:"parser error"},w=e("blob");n.encodePacket=function(e,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,n,a);if(w&&c instanceof t.Blob)return s(e,n,a);if(c&&c.base64)return r(e,a);var u=g[e.type];return void 0!==e.data&&(u+=i?h.encode(String(e.data)):String(e.data)),a(""+u)},n.encodeBase64Packet=function(e,r){var o="b"+n.packets[e.type];if(w&&e.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(o+e)},i.readAsDataURL(e.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),r(o)},n.decodePacket=function(e,t,r){if(void 0===e)return b;if("string"==typeof e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r&&(e=a(e),e===!1))return b;var o=e.charAt(0);return Number(o)==o&&_[o]?e.length>1?{type:_[o],data:e.substring(1)}:{type:_[o]}:b}var i=new Uint8Array(e),o=i[0],s=d(e,1);return w&&"blob"===t&&(s=new w([s])),{type:_[o],data:s}},n.decodeBase64Packet=function(e,t){var n=_[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=u.decode(e.substr(1));return"blob"===t&&w&&(r=new w([r])),{type:n,data:r}},n.encodePayload=function(e,t,r){function o(e){return e.length+":"+e}function i(e,r){n.encodePacket(e,!!s&&t,!0,function(e){r(null,o(e))})}"function"==typeof t&&(r=t,t=null);var s=f(e);return t&&s?w&&!m?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void c(e,i,function(e,t){return r(t.join(""))}):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);"function"==typeof t&&(r=t,t=null);var o;if(""==e)return r(b,0,1);for(var i,s,a="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(i=Number(a)))return r(b,0,1);if(s=e.substr(c+1,i),a!=s.length)return r(b,0,1);if(s.length){if(o=n.decodePacket(s,t,!0),b.type==o.type&&b.data==o.data)return r(b,0,1);var f=r(o,c+i,u);if(!1===f)return}c+=i,a=""}}return""!=a?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void c(e,r,function(e,n){var r=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}t?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function r(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,w){var c=new w([n.buffer,a.buffer,e]);t(null,c)}})}c(e,r,function(e,n){return t(new w(n))})},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var o=e,i=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u="",l=1;255!=a[l];l++){if(u.length>310){s=!0;break}u+=a[l]}if(s)return r(b,0,1);o=d(o,2+u.length),u=parseInt(u);var f=d(o,0,u);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(e){var p=new Uint8Array(f);f="";for(var l=0;l<p.length;l++)f+=String.fromCharCode(p[l])}i.push(f),o=d(o,u)}var h=i.length;i.forEach(function(e,o){r(n.decodePacket(e,t,!0),o,h)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":27,after:1,"arraybuffer.slice":3,"base64-arraybuffer":5,blob:6,"has-binary":29,"wtf-8":92}],27:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],28:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(s(n))for(i=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,c=0;c<r;c++)u[c].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],29:[function(e,t,n){(function(n){function r(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var r=0;r<e.length;r++)if(t(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:30}],30:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],31:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],32:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(n),c=e.document.createTextNode("");a.observe(c,{characterData:!0}),o=function(){c.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var u=new e.MessageChannel;u.port1.onmessage=n,o=function(){u.port2.postMessage(0)}}var l,f=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],34:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],35:[function(e,t,n){(function(e){e("object"==typeof n?n:this)}).call(this,function(e){var t=Array.prototype.slice,n=Array.prototype.forEach,r=function(e){if("object"!=typeof e)throw e+" is not an object";var o=t.call(arguments,1);return n.call(o,function(t){if(t)for(var n in t)"object"==typeof t[n]&&e[n]?r.call(e,e[n],t[n]):e[n]=t[n]}),e};e.extend=r})},{}],36:[function(e,t,n){(function(e){(function(){function r(e,t){function n(e){if(n[e]!==y)return n[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=n("json-stringify")&&n("json-parse");else{var i,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,l="function"==typeof c&&_;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===c(0)&&"0"===c(new o)&&'""'==c(new s)&&c(g)===y&&c(y)===y&&c()===y&&"1"===c(i)&&"[1]"==c([i])&&"[null]"==c([y])&&"null"==c(null)&&"[null,null,null]"==c([y,g,null])&&c({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,i)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(e){l=!1}}r=l}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){i=f(a);var d=5==i.a.length&&1===i.a[0];if(d){try{d=!f('"\t"')}catch(e){}if(d)try{d=1!==f("01")}catch(e){}if(d)try{d=1!==f("1.")}catch(e){}}}}catch(e){d=!1}r=d}}return n[e]=!!r}e||(e=a.Object()),t||(t=a.Object());var o=e.Number||a.Number,s=e.String||a.String,c=e.Object||a.Object,u=e.Date||a.Date,l=e.SyntaxError||a.SyntaxError,f=e.TypeError||a.TypeError,d=e.Math||a.Math,p=e.JSON||a.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,v,y,m=c.prototype,g=m.toString,_=new u(-0xc782b5b800cec);try{_=_.getUTCFullYear()==-109252&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(e){}if(!n("json")){var b="[object Function]",w="[object Date]",k="[object Number]",x="[object String]",A="[object Array]",S="[object Boolean]",E=n("bug-string-char-index");if(!_)var C=d.floor,O=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return O[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((h=m.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),v=function(e,t){var n,r,o,s=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)h.call(r,o)&&s++;return n=r=null,s?v=2==s?function(e,t){var n,r={},o=g.call(e)==b;for(n in e)o&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,o=g.call(e)==b;for(n in e)o&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(e,t){var n,o,s=g.call(e)==b,a=!s&&"function"!=typeof e.constructor&&i[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)s&&"prototype"==n||!a.call(e,n)||t(n);for(o=r.length;n=r[--o];a.call(e,n)&&t(n));}),v(e,t)},!n("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",B=function(e,t){return(D+(t||0)).slice(-e)},I="\\u00",R=function(e){for(var t='"',n=0,r=e.length,o=!E||r>10,i=o&&(E?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[s];break;default:if(s<32){t+=I+B(2,s.toString(16));break}t+=o?i[n]:e.charAt(n)}}return t+'"'},q=function(e,t,n,r,o,i,s){var a,c,u,l,d,p,m,_,b,E,O,T,D,I,L,N;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(c=g.call(a),c!=w||h.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=k&&c!=x&&c!=A||h.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(j){for(d=C(a/864e5),u=C(d/365.2425)+1970-1;j(u+1,0)<=d;u++);for(l=C((d-j(u,0))/30.42);j(u,l+1)<=d;l++);d=1+d-j(u,l),p=(a%864e5+864e5)%864e5,m=C(p/36e5)%24,_=C(p/6e4)%60,b=C(p/1e3)%60,E=p%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),d=a.getUTCDate(),m=a.getUTCHours(),_=a.getUTCMinutes(),b=a.getUTCSeconds(),E=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+B(6,u<0?-u:u):B(4,u))+"-"+B(2,l+1)+"-"+B(2,d)+"T"+B(2,m)+":"+B(2,_)+":"+B(2,b)+"."+B(3,E)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(c=g.call(a),c==S)return""+a;if(c==k)return a>-1/0&&a<1/0?""+a:"null";if(c==x)return R(""+a);if("object"==typeof a){for(I=s.length;I--;)if(s[I]===a)throw f();if(s.push(a),O=[],L=i,i+=o,c==A){for(D=0,I=a.length;D<I;D++)T=q(D,a,n,r,o,i,s),O.push(T===y?"null":T);N=O.length?o?"[\n"+i+O.join(",\n"+i)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else v(r||a,function(e){var t=q(e,a,n,r,o,i,s);t!==y&&O.push(R(e)+":"+(o?" ":"")+t)}),N=O.length?o?"{\n"+i+O.join(",\n"+i)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return s.pop(),N}};t.stringify=function(e,t,n){var r,o,s,a;if(i[typeof t]&&t)if((a=g.call(t))==b)o=t;else if(a==A){s={};for(var c,u=0,l=t.length;u<l;c=t[u++],a=g.call(c),(a==x||a==k)&&(s[c]=1));}if(n)if((a=g.call(n))==k){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==x&&(r=n.length<=10?n:n.slice(0,10));return q("",(c={},c[""]=e,c),o,s,r,"",[])}}if(!n("json-parse")){var L,N,P=s.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},$=function(){throw L=N=null,l()},U=function(){for(var e,t,n,r,o,i=N,s=i.length;L<s;)switch(o=i.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=E?i.charAt(L):i[L],L++,e;case 34:for(e="@",L++;L<s;)if(o=i.charCodeAt(L),o<32)$();else if(92==o)switch(o=i.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[o],L++;break;case 117:for(t=++L,n=L+4;L<n;L++)o=i.charCodeAt(L),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||$();e+=P("0x"+i.slice(t,L));break;default:$()}else{if(34==o)break;for(o=i.charCodeAt(L),t=L;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++L);e+=i.slice(t,L)}if(34==i.charCodeAt(L))return L++,e;$();default:if(t=L,45==o&&(r=!0,o=i.charCodeAt(++L)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(L+1),o>=48&&o<=57)&&$(),r=!1;L<s&&(o=i.charCodeAt(L),o>=48&&o<=57);L++);if(46==i.charCodeAt(L)){for(n=++L;n<s&&(o=i.charCodeAt(n),o>=48&&o<=57);n++);n==L&&$(),L=n}if(o=i.charCodeAt(L),101==o||69==o){for(o=i.charCodeAt(++L),43!=o&&45!=o||L++,n=L;n<s&&(o=i.charCodeAt(n),o>=48&&o<=57);n++);n==L&&$(),L=n}return+i.slice(t,L)}if(r&&$(),"true"==i.slice(L,L+4))return L+=4,!0;if("false"==i.slice(L,L+5))return L+=5,!1;if("null"==i.slice(L,L+4))return L+=4,null;$()}return"$"},F=function(e){var t,n;if("$"==e&&$(),"string"==typeof e){if("@"==(E?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=U(),"]"!=e;n||(n=!0))n&&(","==e?(e=U(),"]"==e&&$()):$()),","==e&&$(),t.push(F(e));return t}if("{"==e){for(t={};e=U(),"}"!=e;n||(n=!0))n&&(","==e?(e=U(),"}"==e&&$()):$()),","!=e&&"string"==typeof e&&"@"==(E?e.charAt(0):e[0])&&":"==U()||$(),t[e.slice(1)]=F(U());return t}$()}return e},V=function(e,t,n){var r=J(e,t,n);r===y?delete e[t]:e[t]=r},J=function(e,t,n){var r,o=e[t];if("object"==typeof o&&o)if(g.call(o)==A)for(r=o.length;r--;)V(o,r,n);else v(o,function(e){V(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,r;return L=0,N=""+e,n=F(U()),"$"!=U()&&$(),L=N=null,t&&g.call(t)==b?J((r={},r[""]=n,r),"",t):n}}}return t.runInContext=r,t}var o="function"==typeof define&&define.amd,i={function:!0,object:!0},s=i[typeof n]&&n&&!n.nodeType&&n,a=i[typeof window]&&window||this,c=s&&i[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c),s&&!o)r(a,s);else{var u=a.JSON,l=a.JSON3,f=!1,d=r(a,a.JSON3={noConflict:function(){return f||(f=!0,a.JSON=u,a.JSON3=l,u=l=null),d}});a.JSON={parse:d.parse,stringify:d.stringify}}o&&define(function(){return d})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,e!==r&&c(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){h(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,s=u(o);"error"===s.status&&n(s.value)}function u(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function d(e){function t(e,t){function r(e){s[t]=e,++a!==o||i||(i=!0,v.resolve(u,s))}n.resolve(e).then(r,function(e){i||(i=!0,v.reject(u,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=new Array(o),a=0,c=-1,u=new this(r);++c<o;)t(e[c],c);return u}function p(e){function t(e){n.resolve(e).then(function(e){i||(i=!0,v.resolve(a,e))},function(e){i||(i=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=-1,a=new this(r);++s<o;)t(e[s]);return a}var h=e("immediate"),v={},y=["REJECTED"],m=["FULFILLED"],g=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==g){var o=this.state===m?e:t;s(n,o,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=u(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=f,o.all=d,o.race=p},{immediate:32}],38:[function(e,t,n){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,l,"day")||s(e,u,"hour")||s(e,c,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,u=60*c,l=24*u,f=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isNaN(e)===!1)return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],39:[function(e,t,n){(function(e){!function(e,n,r){n[e]=n[e]||r(),"undefined"!=typeof t&&t.exports?t.exports=n[e]:"function"==typeof define&&define.amd&&define(function(){return n[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function e(e,t){d.add(e,t),f||(f=h(d.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,r){var o,i;try{n===!1?r.reject(e.msg):(o=n===!0?e.msg:n.call(void 0,e.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(e){r.reject(e)}}function o(r){var s,c=this;if(!c.triggered){c.triggered=!0,c.def&&(c=c.def);try{(s=t(r))?e(function(){var e=new a(c);try{s.call(r,function(){o.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(c.msg=r,c.state=1,c.chain.length>0&&e(n,c))}catch(e){i.call(new a(c),e)}}}function i(t){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function s(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function a(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new c(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),r.chain.push(i),0!==r.state&&e(n,r),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(r,e)},function(e){i.call(r,e)})}catch(e){i.call(r,e)}}var l,f,d,p=Object.prototype.toString,h="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})}}catch(e){l=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=f=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=l({},"constructor",u,!1);return u.prototype=v,l(v,"__NPO__",0,!1),l(u,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),l(u,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");
n(e)})}),l(u,"all",function(e){var t=this;return"[object Array]"!=p.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;s(t,e,function(e,t){i[e]=t,++a===o&&n(i)},r)})}),l(u,"race",function(e){var t=this;return"[object Array]"!=p.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");s(t,e,function(e,t){n(t)},r)})}),u})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],42:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=r.exec(e||""),a={},c=14;c--;)a[o[c]]=s[c]||"";return n!=-1&&i!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],43:[function(e,t,n){(function(e){"use strict";function n(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(s){if("TypeError"!==s.name)throw s;for(var r=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,o=new r,i=0;i<t.length;i+=1)o.append(t[i]);return o.getBlob(n.type)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function o(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function i(e,t){var n=new FileReader,o="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return o?t(n):void t(r(n))},o?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function s(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}t.exports={createBlob:n,readAsArrayBuffer:s,readAsBinaryString:i,binaryStringToArrayBuffer:o,arrayBufferToBinaryString:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){(function(n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function s(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&no.call(n)==ro}function c(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=c(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return s(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=c(e[n]);"undefined"!=typeof i&&(t[n]=i)}return t}function u(e){var t=!1;return Gr(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return Gr(function(t){t=c(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new to(function(r,o){var i;try{var s=u(function(e,t){e?o(e):r(t)});t.push(s),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function f(e,t){function n(e,t,n){if(oo.enabled){for(var r=[e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);oo.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e.name,t];o=o.concat(n?["error",n]:["success",r]),oo.apply(null,o),i(n,r)}}}return l(Gr(function(r){if(this._closed)return to.reject(new Error("database is closed"));if(this._destroyed)return to.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new to(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function d(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function p(e){return"$"+e}function h(e){return e.substring(1)}function v(){this._store={}}function y(e){if(this._store=new v,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function m(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}function g(e){return e}function _(e){return[{ok:e}]}function b(e,t,n){function r(){var e=[];p.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++f===l&&r()}function i(e,t,n){p[e]={id:t,docs:n},o()}function s(){if(!(v>=h.length)){var e=Math.min(v+co,h.length),t=h.slice(v,e);a(t,v),v+=t.length}}function a(n,r){n.forEach(function(n,o){var a=r+o,c=u.get(n),l=d(c[0],["atts_since","attachments"]);l.open_revs=c.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(g);var f=g;0===l.open_revs.length&&(delete l.open_revs,f=_),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:f(t),i(a,n,r),s()})})}var c=t.docs,u=new so;c.forEach(function(e){u.has(e.id)?u.get(e.id).push(e):u.set(e.id,[e])});var l=u.size,f=0,p=new Array(l),h=[];u.forEach(function(e,t){h.push(t)});var v=0;s()}function w(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function k(){return ao}function x(e){w()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):k()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function A(){Wr.EventEmitter.call(this),this._listeners={},x(this)}function S(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function E(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>n&&(e=n>>1,t=n);var r=Math.random(),o=t-e;return~~(o*r+e)}function C(e){var t=0;return e||(t=2e3),E(e,t)}function O(e,t){S("info","The above "+e+" is totally normal. "+t)}function j(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function T(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=j.prototype,new n(t)}function D(e){if("object"!=typeof e){var t=e;e=_o,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function B(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T(xo,r)}}function I(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&B(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function R(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function q(){}function L(e){var t;if(e?"string"!=typeof e?t=T(yo):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T(go)):t=T(mo),t)throw t}function N(e,t){return"listenerCount"in e?e.listenerCount(t):Wr.EventEmitter.listenerCount(e,t)}function P(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function M(e){var t=P(e);return t?t.join("/"):null}function $(e){for(var t=Io.exec(e),n={},r=14;r--;){var o=To[r],i=t[r]||"",s=["user","password"].indexOf(o)!==-1;n[o]=s?decodeURIComponent(i):i}return n[Do]={},n[To[12]].replace(Bo,function(e,t,r){t&&(n[Do][t]=r)}),n}function U(e,t,n){return new to(function(r,o){e.get(t,function(i,s){if(i){if(404!==i.status)return o(i);s={}}var a=s._rev,c=n(s);return c?(c._id=t,c._rev=a,void r(F(e,c,n))):r({updated:!1,rev:a})})})}function F(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return U(e,t._id,n)})}function V(e){return 0|Math.random()*e}function J(e,t){t=t||Ro.length;var n="",r=-1;if(e){for(;++r<e;)n+=Ro[V(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=Ro[3&V(16)|8];break;default:n+=Ro[V(16)]}return n}function K(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var s=o.ids,a=s[2],c=o.pos;if(a.length)for(var u=0,l=a.length;u<l;u++)i.push({pos:c+1,ids:a[u]});else{var f=!!s[1].deleted,d=s[0];t&&!(r!==f?r:n!==c?n<c:t<d)||(t=d,n=c,r=f)}}return n+"-"+t}function z(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,s=i[2],a=t(0===s.length,o,i[0],n.ctx,i[1]),c=0,u=s.length;c<u;c++)r.push({pos:o+1,ids:s[c],ctx:a})}function G(e,t){return e.pos-t.pos}function H(e){var t=[];z(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(G).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function W(e){for(var t=K(e),n=H(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var s=n[o];s.rev===t||s.opts.deleted||r.push(s.rev)}return r}function Q(e){var t=[];return z(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function X(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,s=i[0],a=i[1],c=i[2],u=0===c.length,l=t.history?t.history.slice():[];l.push({id:s,opts:a}),u&&n.push({pos:o+1-l.length,ids:l});for(var f=0,d=c.length;f<d;f++)r.push({pos:o+1,ids:c[f],history:l})}return n.reverse()}function Y(e,t){return e.pos-t.pos}function Z(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function ee(e,t,n){var r=Z(e,t,n);e.splice(r,0,t)}function te(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var s=e[o],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function ne(e,t){return e[0]<t[0]?-1:1}function re(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,s=o.tree2;(i[1].status||s[1].status)&&(i[1].status="available"===i[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(i[2][0]){for(var c=!1,u=0;u<i[2].length;u++)i[2][u][0]===s[2][a][0]&&(n.push({tree1:i[2][u],tree2:s[2][a]}),c=!0);c||(r="new_branch",ee(i[2],s[2][a],ne))}else r="new_leaf",i[2][0]=s[2][a]}return{conflicts:r,tree:e}}function oe(e,t,n){var r,o=[],i=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var u=e[a];if(u.pos===t.pos&&u.ids[0]===t.ids[0])r=re(u.ids,t.ids),o.push({pos:u.pos,ids:r.tree}),i=i||r.conflicts,s=!0;else if(n!==!0){var l=u.pos<t.pos?u:t,f=u.pos<t.pos?t:u,d=f.pos-l.pos,p=[],h=[];for(h.push({ids:l.ids,diff:d,parent:null,parentIdx:null});h.length>0;){var v=h.pop();if(0!==v.diff)for(var y=v.ids[2],m=0,g=y.length;m<g;m++)h.push({ids:y[m],diff:v.diff-1,parent:v.ids,parentIdx:m});else v.ids[0]===f.ids[0]&&p.push(v)}var _=p[0];_?(r=re(_.ids,f.ids),_.parent[2][_.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,s=!0):o.push(u)}else o.push(u)}return s||o.push(t),o.sort(Y),{tree:o,conflicts:i||"internal_node"}}function ie(e,t){for(var n,r=X(e),o={},i=0,s=r.length;i<s;i++){for(var a=r[i],c=a.ids,u=Math.max(0,c.length-t),l={pos:a.pos+u,ids:te(c,u)},f=0;f<u;f++){var d=a.pos+f+"-"+c[f].id;o[d]=!0}n=n?oe(n,l,!0).tree:[l]}return z(n,function(e,t,n){delete o[t+"-"+n]}),{tree:n,revs:Object.keys(o)}}function se(e,t,n){var r=oe(e,t),o=ie(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ae(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),s=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,u=a.length;c<u;c++)r.push({pos:n.pos+1,ids:a[c]})}return!1}function ce(e){return e.ids}function ue(e,t){t||(t=K(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(ce);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function le(e){return/^_local/.test(e)}function fe(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,s=i[0],a=i[1],c=i[2],u=0===c.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:o,opts:a}),u)for(var f=0,d=l.length;f<d;f++){var p=l[f],h=p.pos+"-"+p.id;if(h===e)return o+"-"+s}for(var v=0,y=c.length;v<y;v++)r.push({pos:o+1,ids:c[v],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function de(e){return Yr('"use strict";\nreturn '+e+";",{})}function pe(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Yr(t,{})}function he(e,t){try{e.emit("change",t)}catch(e){S("error",'Error in .on("change", function):',e)}}function ve(e,t,n){function r(){o.cancel()}Wr.EventEmitter.call(this);var o=this;this.db=e,t=t?c(t):{};var i=t.complete=u(function(t,n){t?N(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||he(o,e)};var s=new to(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function ye(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=H(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return ue(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=W(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function me(e,t){return e<t?-1:e>t?1:0}function ge(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function _e(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=d(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function be(e,t){var n=me(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,o=t._revisions?t._revisions.start:0;return me(r,o)}function we(e){var t={},n=[];return z(e,function(e,r,o,i){var s=r+"-"+o;return e&&(t[s]=0),void 0!==i&&n.push({from:i,to:s}),s}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function ke(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return to.all(r.map(function(n){var r=lo({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new to(function(t,i){e._allDocs(r,function(e,r){return e?i(e):(o.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return o.rows=e,o})}function xe(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),Xr(function(){e._compactionQueue.shift(),e._compactionQueue.length&&xe(e)})})})}function Ae(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with '_'"}function Se(){Wr.EventEmitter.call(this)}function Ee(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ce(e,t){var n=e.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=je.adapters,o=je.preferredAdapters,i=je.prefix,s=t.adapter;if(!s)for(var a=0;a<o.length;++a){s=o[a];{if(!("idb"===s&&"websql"in r&&k()&&localStorage["_pouch__websqldb_"+i+e]))break;S("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var c=r[s],u=!(c&&"use_prefix"in c)||c.use_prefix;return{name:u?i+e:e,adapter:s}}function Oe(e){function t(){e.removeListener("closed",r),e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.removeListener("closed",r),e.emit("destroyed")}function r(){e.removeListener("destroyed",t),o.delete(e.name)}var o=e.constructor._destructionListeners;e.once("destroyed",t),e.once("closed",r),o.has(e.name)||o.set(e.name,[]),o.get(e.name).push(n)}function je(e,t){if(!(this instanceof je))return new je(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=c(t),n.auto_compaction=t.auto_compaction,n.prefix=je.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Ce(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Hr("pouchdb:adapter")("Picked adapter: "+t.adapter),!je.adapters[t.adapter]||!je.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Se.call(n),n.taskqueue=new Ee,n.adapter=t.adapter,je.adapters[t.adapter].call(n,t,function(e){return e?n.taskqueue.fail(e):(Oe(n),n.emit("created",n),je.emit("created",n.name),void n.taskqueue.ready(n))})}function Te(e){Object.keys(Wr.EventEmitter.prototype).forEach(function(t){"function"==typeof Wr.EventEmitter.prototype[t]&&(e[t]=qo[t].bind(qo))});var t=e._destructionListeners=new so;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}function De(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function Be(e){if(!/^\d+\-./.test(e))return T(Co);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Ie(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,s=r.length;i<s;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Re(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=J()),r=J(32,16).toLowerCase(),e._rev){if(o=Be(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Ie(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=Be(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}L(e._id),e._rev=n+"-"+r;var s={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c="_"===a[0];if(c&&!Po[a]){var u=T(ko,a);throw u.message=ko.message+": "+a,u}c&&!Mo[a]?s.metadata[a.slice(1)]=e[a]:s.data[a]=e[a]}return s}function qe(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function Le(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Ne(e,t){return qe([Le(e)],{type:t})}function Pe(e,t){return Ne($o(e),t)}function Me(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function $e(e,t){if("undefined"==typeof FileReader)return t(Me((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return r?t(n):void t(Me(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Ue(e,t){$e(e,function(e){t(e)})}function Fe(e,t){Ue(e,function(e){t(Uo(e))})}function Ve(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Je(e){return Uo(e)}function Ke(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function ze(e,t,n,r,o){(n>0||r<t.size)&&(t=Ke(t,n,r)),Ve(t,function(t){e.append(t),o()})}function Ge(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function He(e,t){function n(){Fo(o)}function r(){var e=l.end(!0),n=Je(e);t(n),l.destroy()}function o(){var t=u*a,o=t+a;u++,u<c?f(l,e,t,o,n):f(l,e,t,o,r)}var i="string"==typeof e,s=i?e.length:e.size,a=Math.min(Vo,s),c=Math.ceil(s/a),u=0,l=i?new Zr:new Zr.ArrayBuffer,f=i?Ge:ze;o()}function We(e){return Zr.hash(e)}function Qe(e){try{return $o(e)}catch(e){var t=T(bo,"Attachment is not a valid base64 string");return{error:t}}}function Xe(e,t,n){var r=Qe(e.data);return r.error?n(r.error):(e.length=r.length,"blob"===t?e.data=Ne(r,e.content_type):"base64"===t?e.data=Uo(r):e.data=r,void He(r,function(t){e.digest="md5-"+t,n()}))}function Ye(e,t,n){He(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Ue(e.data,function(t){e.data=t,n()}):"base64"===t?Fe(e.data,function(t){e.data=t,n()}):n()})}function Ze(e,t,n){return e.stub?n():void("string"==typeof e.data?Xe(e,t,n):Ye(e,t,n))}function et(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,s++,s===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],s=0;if(!i.length)return r();for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&Ze(e.data._attachments[a],t,n)})}function tt(e,t,n,r,o,i,s,a){if(ae(t.rev_tree,n.metadata.rev))return r[o]=n,i();var c=t.winningRev||K(t),u="deleted"in t?t.deleted:ue(t,c),l="deleted"in n.metadata?n.metadata.deleted:ue(n.metadata),f=/^1-/.test(n.metadata.rev);if(u&&!l&&a&&f){var d=n.data;d._rev=c,d._id=n.metadata.id,n=Re(d,a)}var p=se(t.rev_tree,n.metadata.rev_tree[0],e),h=a&&(u&&l||!u&&"new_leaf"!==p.conflicts||u&&!l&&"new_branch"===p.conflicts);if(h){var v=T(vo);return r[o]=v,i()}var y=n.metadata.rev;n.metadata.rev_tree=p.tree,n.stemmedRevs=p.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m,g=K(n.metadata),_=ue(n.metadata,g),b=u===_?0:u<_?-1:1;m=y===g?_:ue(n.metadata,y),s(n,g,_,m,!0,b,o,i)}function nt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function rt(e,t,n,r,o,i,s,a,c){function u(e,t,n){var r=K(e.metadata),o=ue(e.metadata,r);if("was_delete"in a&&o)return i[t]=T(ho,"deleted"),n();var c=f&&nt(e);if(c){var u=T(vo);return i[t]=u,n()}var l=o?0:1;s(e,r,o,o,!1,l,t,n)}function l(){++p===h&&c&&c()}e=e||1e3;var f=a.new_edits,d=new so,p=0,h=t.length;t.forEach(function(e,t){if(e._id&&le(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var s=e.metadata.id;d.has(s)?(h--,d.get(s).push([e,t])):d.set(s,[[e,t]])}),d.forEach(function(t,n){function o(){++c<t.length?a():l()}function a(){var a=t[c],l=a[0],d=a[1];if(r.has(n))tt(e,r.get(n),l,i,d,o,s,f);else{var p=se([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=p.tree,l.stemmedRevs=p.stemmedRevs||[],u(l,d,o)}}var c=0;a()})}function ot(e){try{return JSON.parse(e)}catch(t){return eo.parse(e)}}function it(e){try{return JSON.stringify(e)}catch(t){return eo.stringify(e)}}function st(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(T(So,n,t.type))}}function at(e,t,n){return{data:it(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function ct(e){if(!e)return null;var t=ot(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function ut(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function lt(e,t,n,r){n?r(e?"string"!=typeof e?e:Pe(e,t):qe([""],{type:t})):e?"string"!=typeof e?$e(e,function(e){r(Uo(e))}):r(e):r("")}function ft(e,t,n,r){function o(){++a===s.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest,s=n.objectStore(Go).get(i);s.onsuccess=function(e){r.body=e.target.result.body,o()}}var s=Object.keys(e._attachments||{});if(!s.length)return r&&r();var a=0;s.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function dt(e,t){return to.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return to.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new to(function(s){lt(o,i,t,function(t){e.doc._attachments[n]=lo(d(r,["digest","content_type"]),{data:t}),s()})})}}))}}))}function pt(e,t,n){function r(){u--,u||o()}function o(){i.length&&i.forEach(function(e){var t=c.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||a.delete(e)}})}var i=[],s=n.objectStore(zo),a=n.objectStore(Go),c=n.objectStore(Ho),u=e.length;e.forEach(function(e){var n=s.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();s.delete(t);var n=c.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),c.delete(t.primaryKey),t.continue()}else r()}}})}function ht(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function vt(e,t,n,r,o,i){function s(){var e=[Ko,zo,Go,Qo,Ho,Wo],t=ht(o,e,"readwrite");return t.error?i(t.error):(_=t.txn,_.onabort=st(i),_.ontimeout=st(i),_.oncomplete=f,b=_.objectStore(Ko),w=_.objectStore(zo),k=_.objectStore(Go),x=_.objectStore(Ho),A=_.objectStore(Wo),A.get(Wo).onsuccess=function(e){E=e.target.result,u()},void p(function(e){return e?(L=!0,i(e)):void l()}))}function a(){B=!0,u()}function c(){rt(e.revs_limit,C,r,q,_,R,h,n,a)}function u(){E&&B&&(E.docCount+=I,A.put(E))}function l(){function e(){++n===C.length&&c()}function t(t){var n=ct(t.target.result);n&&q.set(n.id,n),e()}if(C.length)for(var n=0,r=0,o=C.length;r<o;r++){var i=C[r];if(i._id&&le(i._id))e();else{var s=b.get(i.metadata.id);s.onsuccess=t}}}function f(){L||(Yo.notify(r._meta.name),i(null,R))}function d(e,t){var n=k.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=T(Oo,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function p(e){function t(){++o===n.length&&e(r)}var n=[];if(C.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){d(e,function(e){e&&!r&&(r=e),t()})})}function h(e,t,n,r,o,i,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;c._id=e.metadata.id,c._rev=e.metadata.rev,r&&(c._deleted=!0);var l=c._attachments&&Object.keys(c._attachments).length;return l?y(e,t,n,o,s,a):(I+=i,u(),void v(e,t,n,o,s,a))}function v(e,t,n,o,i,s){function a(i){var s=e.stemmedRevs||[];o&&r.auto_compaction&&(s=s.concat(Q(e.metadata))),s&&s.length&&pt(s,e.metadata.id,_),f.seq=i.target.result;var a=at(f,t,n),c=b.put(a);c.onsuccess=u}function c(e){e.preventDefault(),e.stopPropagation();var t=w.index("_doc_id_rev"),n=t.getKey(l._doc_id_rev);n.onsuccess=function(e){var t=w.put(l,e.target.result);t.onsuccess=a}}function u(){R[i]={ok:!0,id:f.id,rev:f.rev},q.set(e.metadata.id,e.metadata),m(e,f.seq,s)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var d=w.put(l);d.onsuccess=a,d.onerror=c}function y(e,t,n,r,o,i){function s(){u===l.length&&v(e,t,n,r,o,i)}function a(){u++,s()}var c=e.data,u=0,l=Object.keys(c._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)u++,s();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);var i=r.digest;g(i,o,a)}})}function m(e,t,n){function r(){++i===s.length&&n()}function o(n){var o=e.data._attachments[n].digest,i=x.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var i=0,s=Object.keys(e.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)o(s[a])}function g(e,t,n){var r=k.count(e);r.onsuccess=function(r){var o=r.target.result;if(o)return n();var i={digest:e,body:t},s=k.put(i);s.onsuccess=n}}for(var _,b,w,k,x,A,S,E,C=t.docs,O=0,j=C.length;O<j;O++){var D=C[O];D._id&&le(D._id)||(D=C[O]=Re(D,n.new_edits),D.error&&!S&&(S=D))}if(S)return i(S);var B=!1,I=0,R=new Array(C.length),q=new so,L=!1,N=r._meta.blobSupport?"blob":"base64";et(C,N,function(e){return e?i(e):void s()})}function yt(e,t,n,r,o){function i(e){l=e.target.result,u&&o(u,l,f)}function s(e){u=e.target.result,l&&o(u,l,f)}function a(){if(!u.length)return o();var n,a=u[u.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(a,!0);t=n,u=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=s}function c(e){var t=e.target.result;return t?void o([t.key],[t.value],t):o()}var u,l,f,d="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;d?(f={continue:a},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=s):n?e.openCursor(t,"prev").onsuccess=c:e.openCursor(t).onsuccess=c}function mt(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function gt(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function _t(e,t,n){function r(t,n,r){var o=t.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=ut(r.target.result),e.conflicts){var o=W(t);o.length&&(n.doc._conflicts=o)}ft(n.doc,e,b)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(E.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&p--<=0&&(E.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&E.length!==h;t++){var r=e[t],i=ct(r),s=i.winningRev;o(s,i)}}function s(e,t,n){n&&(i(t),E.length<h&&n.continue())}function a(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function c(){n(null,{total_rows:w,offset:e.skip,rows:E})}function u(){e.attachments?dt(E,e.binary).then(c):c()}var l="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,d="key"in e&&e.key,p=e.skip||0,h="number"==typeof e.limit?e.limit:-1,v=e.inclusive_end!==!1,y=gt(l,f,v,d,e.descending),m=y&&y.error;
if(m&&("DataError"!==m.name||0!==m.code))return n(T(So,m.name,m.message));var g=[Ko,zo,Wo];e.attachments&&g.push(Go);var _=ht(t,g,"readonly");if(_.error)return n(_.error);var b=_.txn;b.oncomplete=u,b.onabort=st(n);var w,k=b.objectStore(Ko),x=b.objectStore(zo),A=b.objectStore(Wo),S=x.index("_doc_id_rev"),E=[];return A.get(Wo).onsuccess=function(e){w=e.target.result.docCount},m||0===h?void 0:h===-1?mt(k,y,a):void yt(k,y,e.descending,h+p,s)}function bt(e){return new to(function(t){var n=qe([""]),r=e.objectStore(Xo).put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function wt(e,t){var n=e.objectStore(Ko).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function kt(e,t,n,r){try{e(t,n)}catch(e){r.emit("error",e)}}function xt(){!Zo&&ei.length&&(Zo=!0,ei.shift()())}function At(e,t,n){ei.push(function(){e(function(e,r){kt(t,e,r,n),Zo=!1,Xr(function(){xt(n)})})}),xt()}function St(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);d=r.seq=t.seq;var o=w(r);return"object"==typeof o?e.complete(o):void(o&&(b++,h&&_.push(r),e.attachments&&e.include_docs?ft(n,e,v,function(){dt([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r)))}function i(){for(var e=0,t=a.length;e<t&&b!==p;e++){var n=a[e];if(n){var i=c[e];o(i,n)}}b!==p&&r.continue()}if(r&&t.length){var a=new Array(t.length),c=new Array(t.length),u=0;n.forEach(function(e,n){var r=ut(e),o=t[n];s(r,o,function(e,r){c[n]=e,a[n]=r,++u===t.length&&i()})})}}function i(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev,i=g.get(o);i.onsuccess=function(e){r(n,ut(e.target.result))}}function s(e,t,n){if(f&&!f.has(e._id))return n();var r=k.get(e._id);return r?i(e,t,r,n):void(m.get(e._id).onsuccess=function(o){r=ct(o.target.result),k.set(e._id,r),i(e,t,r,n)})}function a(){e.complete(null,{results:_,last_seq:d})}function u(){!e.continuous&&e.attachments?dt(_).then(a):a()}if(e=c(e),e.continuous){var l=n+":"+J();return Yo.addListener(n,l,t,e),Yo.notify(n),{cancel:function(){Yo.removeListener(n,l)}}}var f=e.doc_ids&&new io(e.doc_ids);e.since=e.since||0;var d=e.since,p="limit"in e?e.limit:-1;0===p&&(p=1);var h;h="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var v,y,m,g,_=[],b=0,w=I(e),k=new so,x=[Ko,zo];e.attachments&&x.push(Go);var A=ht(r,x,"readonly");if(A.error)return e.complete(A.error);v=A.txn,v.onabort=st(e.complete),v.oncomplete=u,y=v.objectStore(zo),m=v.objectStore(Ko),g=y.index("_doc_id_rev");var S=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;yt(y,S,e.descending,p,o)}function Et(e,t){var n=this;At(function(t){Ct(n,e,t)},t,n.constructor)}function Ct(e,t,n){function r(e){var t=e.createObjectStore(Ko,{keyPath:"id"});e.createObjectStore(zo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Go,{keyPath:"digest"}),e.createObjectStore(Wo,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Xo),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Qo,{keyPath:"_id"});var n=e.createObjectStore(Ho,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(Ko);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=ue(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(Qo,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function s(e,t){var n=e.objectStore(Qo),r=e.objectStore(Ko),o=e.objectStore(zo),i=r.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var s=i.value,a=s.id,c=le(a),u=K(s);if(c){var l=a+"::"+u,f=a+"::",d=a+"::~",p=o.index("_doc_id_rev"),h=IDBKeyRange.bound(f,d,!1,!1),v=p.openCursor(h);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function a(e){var t=e.createObjectStore(Ho,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function c(e,t){var n=e.objectStore(zo),r=e.objectStore(Go),o=e.objectStore(Ho),i=r.count();i.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,s=Object.keys(r._attachments||{}),a={},c=0;c<s.length;c++){var u=r._attachments[s[c]];a[u.digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var f=l[c];o.put({seq:i,digestSeq:f+"::"+i})}n.continue()}):t()}}function u(e){function t(e){return e.data?ct(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(zo),r=e.objectStore(Ko),o=r.openCursor();o.onsuccess=function(e){function o(){var e=a.id+"::",t=a.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),o=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=o,i();var n=t.primaryKey;n>o&&(o=n),t.continue()}}function i(){var e=at(a,a.winningRev,a.deleted),t=r.put(e);t.onsuccess=function(){s.continue()}}var s=e.target.result;if(s){var a=t(s.value);return a.winningRev=a.winningRev||K(a),a.seq?i():void o()}}}var f=t.name,d=null;e._meta=null,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){vt(t,n,r,e,d,o)},e._get=function(e,t,n){function r(){n(s,{doc:o,metadata:i,ctx:a})}var o,i,s,a=t.ctx;if(!a){var c=ht(d,[Ko,zo,Go],"readonly");if(c.error)return n(c.error);a=c.txn}a.objectStore(Ko).get(e).onsuccess=function(e){if(i=ct(e.target.result),!i)return s=T(ho,"missing"),r();var n;if(t.rev)n=t.latest?fe(t.rev,i):t.rev;else{n=i.winningRev;var c=ue(i);if(c)return s=T(ho,"deleted"),r()}var u=a.objectStore(zo),l=i.id+"::"+n;u.index("_doc_id_rev").get(l).onsuccess=function(e){return o=e.target.result,o&&(o=ut(o)),o?void r():(s=T(ho,"missing"),r())}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var s=ht(d,[Ko,zo,Go],"readonly");if(s.error)return o(s.error);i=s.txn}var a=n.digest,c=n.content_type;i.objectStore(Go).get(a).onsuccess=function(e){var t=e.target.result.body;lt(t,c,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=ht(d,[Wo,zo],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(Wo).get(Wo).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(zo).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){_t(e,d,t)},e._changes=function(t){St(t,e,f,d)},e._close=function(e){d.close(),ti.delete(f),e()},e._getRevisionTree=function(e,t){var n=ht(d,[Ko],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(Ko).get(e);o.onsuccess=function(e){var n=ct(e.target.result);n?t(null,n.rev_tree):t(T(ho))}},e._doCompaction=function(e,t,n){var r=[Ko,zo,Go,Ho],o=ht(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn,s=i.objectStore(Ko);s.get(e).onsuccess=function(n){var r=ct(n.target.result);z(r.rev_tree,function(e,n,r,o,i){var s=n+"-"+r;t.indexOf(s)!==-1&&(i.status="missing")}),pt(t,e,i);var o=r.winningRev,s=r.deleted;i.objectStore(Ko).put(at(r,o,s))},i.onabort=st(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=ht(d,[Qo],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(Qo).get(e);o.onerror=st(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(T(ho))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;r?e._rev="0-"+(parseInt(r.split("-")[1],10)+1):e._rev="0-1";var i,s=t.ctx;if(!s){var a=ht(d,[Qo],"readwrite");if(a.error)return n(a.error);s=a.txn,s.onerror=st(n),s.oncomplete=function(){i&&n(null,i)}}var c,u=s.objectStore(Qo);r?(c=u.get(o),c.onsuccess=function(o){var s=o.target.result;if(s&&s._rev===r){var a=u.put(e);a.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(T(vo))}):(c=u.add(e),c.onerror=function(e){n(T(vo)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=ht(d,[Qo],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,s=e._id,a=r.objectStore(Qo),c=a.get(s);c.onerror=st(n),c.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(a.delete(s),i={ok:!0,id:s,rev:"0-0"},t.ctx&&n(null,i)):n(T(ho))}},e._destroy=function(e,t){Yo.removeAllListeners(f);var n=ni.get(f);n&&n.result&&(n.result.close(),ti.delete(f));var r=indexedDB.deleteDatabase(f);r.onsuccess=function(){ni.delete(f),k()&&f in localStorage&&delete localStorage[f],t(null,{ok:!0})},r.onerror=st(t)};var p=ti.get(f);if(p)return d=p.idb,e._meta=p.global,Xr(function(){n(null,e)});var h;h=t.storage?Ot(f,t.storage):indexedDB.open(f,Jo),ni.set(f,h),h.onupgradeneeded=function(e){function t(){var e=f[d-1];d++,e&&e(l,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var l=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&a(n);var f=[o,s,c,u],d=e.oldVersion;t()},h.onsuccess=function(t){function r(){"undefined"!=typeof a&&l&&(e._meta={name:f,instanceId:c,blobSupport:a},ti.set(f,{idb:d,global:e._meta}),n(null,e))}function o(){if("undefined"!=typeof s&&"undefined"!=typeof i){var e=f+"_id";e in i?c=i[e]:i[e]=c=J(),i.docCount=s,u.objectStore(Wo).put(i)}}d=t.target.result,d.onversionchange=function(){d.close(),ti.delete(f)},d.onabort=function(e){S("error","Database has a global failure",e.target.error),d.close(),ti.delete(f)};var i,s,a,c,u=d.transaction([Wo,Xo,Ko],"readwrite"),l=!1;u.objectStore(Wo).get(Wo).onsuccess=function(e){i=e.target.result||{id:Wo},o()},wt(u,function(e){s=e,o()}),No||(No=bt(u)),No.then(function(e){a=e,r()}),u.oncomplete=function(){l=!0,r()}},h.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";S("error",e),n(T(So,e))}}function Ot(e,t){try{return indexedDB.open(e,{version:Jo,storage:t})}catch(t){return indexedDB.open(e,Jo)}}function jt(e){return decodeURIComponent(escape(e))}function Tt(e){return e<65?e-48:e-55}function Dt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Tt(e.charCodeAt(t++))<<4|Tt(e.charCodeAt(t++)));return r}function Bt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Tt(e.charCodeAt(t+2))<<12|Tt(e.charCodeAt(t+3))<<8|Tt(e.charCodeAt(t))<<4|Tt(e.charCodeAt(t+1))),t+=4;return r}function It(e,t){return"UTF-8"===t?jt(Dt(e,0,e.length)):Bt(e,0,e.length)}function Rt(e){return"'"+e+"'"}function qt(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Lt(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Nt(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Pt(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Mt(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function $t(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Ut(e,t,n){function r(){++i===e.length&&o()}function o(){if(s.length){var e="SELECT DISTINCT digest AS digest FROM "+li+" WHERE seq IN "+Mt(s.length);n.executeSql(e,s,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+li+" WHERE seq IN ("+s.map(function(){return"?"}).join(",")+")";e.executeSql(o,s,function(e){var t="SELECT digest FROM "+li+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new io,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+li+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+ai+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,s=[];e.forEach(function(e){var o="SELECT seq FROM "+si+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;s.push(n),e.executeSql("DELETE FROM "+si+" WHERE seq=?",[n],r)})})}}function Ft(e){return function(t){S("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(T(Eo,o,r))}}function Vt(e){if("size"in e)return 1e6*e.size;var t="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return t?5e6:1}function Jt(e,t,n,r,o,i,s){function a(){return _?s(_):(i.notify(r._name),void s(null,b))}function c(e,t){var n="SELECT count(*) as cnt FROM "+ai+" WHERE digest=?";g.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=T(Oo,"unknown stub attachment with digest "+e);t(o)}else t()})}function u(e){function t(){++o===n.length&&e(r)}var n=[];if(y.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){c(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,s,a,c){function u(){function t(e,t){function r(){return++i===s.length&&t(),!1}function o(t){var o="INSERT INTO "+li+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];g.executeSql(o,i,r,r)}var i=0,s=Object.keys(n._attachments||{});if(!s.length)return t();for(var a=0;a<s.length;a++)o(s[a])}var n=e.data,r=o?1:0,i=n._id,s=n._rev,a=Nt(n),c="INSERT INTO "+si+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",u=[i,s,a,r];g.executeSql(c,u,function(e,n){var r=n.insertId;t(r,function(){d(e,r)})},function(){var e=$t("seq",si,null,"doc_id=? AND rev=?");return g.executeSql(e,[i,s],function(e,n){var o=n.rows.item(0).seq,c="UPDATE "+si+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",u=[a,r,i,s];e.executeSql(c,u,function(e){t(o,function(){d(e,o)})})}),!1})}function l(e){h||(e?(h=e,c(h)):v===y.length&&u())}function f(e){v++,l(e)}function d(n,o){var s=e.metadata.id,u=e.stemmedRevs||[];i&&r.auto_compaction&&(u=Q(e.metadata).concat(u)),u.length&&Ut(u,s,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var f=i?"UPDATE "+ii+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+si+" WHERE doc_id="+ii+".id AND rev=?) WHERE id=?":"INSERT INTO "+ii+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=it(e.metadata),p=i?[d,o,t,s]:[s,o,o,d];n.executeSql(f,p,function(){b[a]={ok:!0,id:e.metadata.id,rev:l},w.set(s,e.metadata),c()})}var h=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var y=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),y.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);var i=r.digest;p(i,o,f)}}),y.length||u()}function f(){rt(e.revs_limit,y,r,w,g,b,l,n)}function d(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach(function(e){if(e._id&&le(e._id))return t();var n=e.metadata.id;g.executeSql("SELECT json FROM "+ii+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=ot(r.rows.item(0).json);w.set(n,o)}t()})})}function p(e,t,n){var r="SELECT digest FROM "+ai+" WHERE digest=?";g.executeSql(r,[e],function(o,i){return i.rows.length?n():(r="INSERT INTO "+ai+" (digest, body, escaped) VALUES (?,?,1)",void o.executeSql(r,[e,qt(t)],function(){n()},function(){return n(),!1}))})}var h=n.new_edits,v=t.docs,y=v.map(function(e){if(e._id&&le(e._id))return e;var t=Re(e,h);return t}),m=y.filter(function(e){return e.error});if(m.length)return s(m[0]);var g,_,b=new Array(y.length),w=new so;et(y,"binary",function(e){return e?s(e):void o.transaction(function(e){g=e,u(function(e){e?_=e:d(f)})},Ft(s),a)})}function Kt(e){return e.websql(e.name,e.version,e.description,e.size)}function zt(e){try{return{db:Kt(e)}}catch(e){return{error:e}}}function Gt(e){var t=fi.get(e.name);return t||(t=zt(e),fi.set(e.name,t)),t}function Ht(e,t,n,r,o){function i(){++c===a.length&&o&&o()}function s(e,o){var s=e._attachments[o],a={binary:t.binary,ctx:r};n._getAttachment(e._id,o,s,a,function(t,n){e._attachments[o]=lo(d(s,["digest","content_type"]),{data:n}),i()})}var a=Object.keys(e._attachments||{});if(!a.length)return o&&o();var c=0;a.forEach(function(n){t.attachments&&t.include_docs?s(e,n):(e._attachments[n].stub=!0,i())})}function Wt(e,t){function n(){k()&&(window.localStorage["_pouch__websqldb_"+b._name]=!0),t(null,b)}function r(e,t){e.executeSql(yi),e.executeSql("ALTER TABLE "+si+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(hi),e.executeSql("ALTER TABLE "+ii+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+ii+" (local, id)");var n="SELECT "+ii+".winningseq AS seq, "+ii+".json AS metadata FROM "+si+" JOIN "+ii+" ON "+si+".seq = "+ii+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var s=n.rows.item(i),a=s.seq,c=JSON.parse(s.metadata);ue(c)&&r.push(a),le(c.id)&&o.push(c.id)}e.executeSql("UPDATE "+ii+"SET local = 1 WHERE id IN "+Mt(o.length),o,function(){e.executeSql("UPDATE "+si+" SET deleted = 1 WHERE seq IN "+Mt(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+ci+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+ii+".id AS id, "+si+".json AS data FROM "+si+" JOIN "+ii+" ON "+si+".seq = "+ii+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+ci+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+ii+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+si+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=It(o.hex,_),s=i.lastIndexOf("::"),a=i.substring(0,s),c=i.substring(s+2),u="UPDATE "+si+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(u,[a,c,i],function(){r()})}r()}var r="ALTER TABLE "+si+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+si+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(vi,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+si;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function s(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+ai;e.executeSql(n,[],function(e,n){function r(){var n=$t(bi+", "+ii+".id AS id",[ii,si],_i,null,ii+".id ");n+=" LIMIT "+s+" OFFSET "+i,i+=s,e.executeSql(n,[],function(e,n){function o(e,t){var n=i[e]=i[e]||[];n.indexOf(t)===-1&&n.push(t)}if(!n.rows.length)return t(e);for(var i={},s=0;s<n.rows.length;s++)for(var a=n.rows.item(s),c=Pt(a.data,a.id,a.rev),u=Object.keys(c._attachments||{}),l=0;l<u.length;l++){var f=c._attachments[u[l]];o(f.digest,a.seq)}var d=[];if(Object.keys(i).forEach(function(e){var t=i[e];t.forEach(function(t){d.push([e,t])})}),!d.length)return r();var p=0;d.forEach(function(t){var n="INSERT INTO "+li+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++p===d.length&&r()})})})}var o=n.rows.item(0).cnt;if(!o)return t(e);var i=0,s=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+li+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(gi,[],function(e){e.executeSql(mi,[],n)})})}function a(e,t){var n="ALTER TABLE "+ai+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function u(e,t){var n="ALTER TABLE "+ii+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+ii+" SET max_seq=(SELECT MAX(seq) FROM "+si+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+ii+" (max_seq)";e.executeSql(n,[],t)})})}function f(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;_=2===r.length?"UTF-8":"UTF-16",t()})}function d(){for(;A.length>0;){var e=A.pop();e(null,w)}}function p(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+ui+" (dbid, db_version INTEGER)",c="CREATE TABLE IF NOT EXISTS "+ai+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+li+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+ii+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",p="CREATE TABLE IF NOT EXISTS "+si+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",h="CREATE TABLE IF NOT EXISTS "+ci+" (id UNIQUE, rev, json)";e.executeSql(c),e.executeSql(h),e.executeSql(l,[],function(){e.executeSql(mi),e.executeSql(gi)}),e.executeSql(f,[],function(){e.executeSql(yi),e.executeSql(p,[],function(){e.executeSql(hi),e.executeSql(vi),e.executeSql(n,[],function(){var t="INSERT INTO "+ui+" (db_version, dbid) VALUES (?,?)";w=J();var n=[oi,w];e.executeSql(t,n,function(){d()})})})})}else{var v=function(){var n=t<oi;n&&e.executeSql("UPDATE "+ui+" SET db_version = "+oi);var r="SELECT dbid FROM "+ui;e.executeSql(r,[],function(e,t){w=t.rows.item(0).dbid,d()})},y=[r,o,i,s,a,u,v],m=t,g=function(e){y[m-1](e,g),m++};g(e)}}function h(){C.transaction(function(e){f(e,function(){v(e)})},Ft(t),n)}function v(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+ui;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+ui,[],function(e,t){var n=t.rows.item(0).db_version;p(e,n)}):e.executeSql("ALTER TABLE "+ui+" ADD COLUMN db_version INTEGER",[],function(){p(e,1)}):p(e,0)})}function y(e,t){var n="SELECT MAX(seq) AS seq FROM "+si;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function m(e,t){var n=$t("COUNT("+ii+".id) AS 'num'",[ii,si],_i,si+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function g(e,t,n,r,o){var i=$t(bi,[ii,si],_i,ii+".id=?"),s=[t];e.executeSql(i,s,function(e,t){if(!t.rows.length){var i=T(ho,"missing");return o(i)}var s=t.rows.item(0),a=ot(s.metadata);r(fe(n,a))})}var _,b=this,w=null,x=Vt(e),A=[];b._name=e.name;var S=lo({},e,{version:pi,description:e.name,size:x}),E=Gt(S);if(E.error)return Ft(t)(E.error);var C=E.db;"function"!=typeof C.readTransaction&&(C.readTransaction=C.transaction),h(),b.type=function(){return"websql"},b._id=l(function(e){e(null,w)}),b._info=function(e){var t,n;C.readTransaction(function(e){y(e,function(e){t=e}),m(e,function(e){n=e})},Ft(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:_})})},b._bulkDocs=function(t,n,r){Jt(e,t,n,b,C,di,r)},b._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:s})}var o,i,s=t.ctx;if(!s)return C.readTransaction(function(r){b._get(e,lo({ctx:r},t),n)});var a,c;if(t.rev){if(t.latest)return void g(s,e,t.rev,function(r){t.latest=!1,t.rev=r,b._get(e,t,n)},r);a=$t(bi,[ii,si],ii+".id="+si+".doc_id",[si+".doc_id=?",si+".rev=?"]),c=[e,t.rev]}else a=$t(bi,[ii,si],_i,ii+".id=?"),c=[e];s.executeSql(a,c,function(e,n){if(!n.rows.length){var s=T(ho,"missing");return r(s)}var a=n.rows.item(0);if(i=ot(a.metadata),a.deleted&&!t.rev){var c=T(ho,"deleted");return r(c)}o=Pt(a.data,i.id,a.rev),r()})},b._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,s="key"in e&&e.key,a="descending"in e&&e.descending,c="limit"in e?e.limit:-1,u="skip"in e?e.skip:0,l=e.inclusive_end!==!1,f=[],d=[];if(s!==!1)d.push(ii+".id = ?"),f.push(s);else if(o!==!1||i!==!1){if(o!==!1&&(d.push(ii+".id "+(a?"<=":">=")+" ?"),f.push(o)),i!==!1){var p=a?">":"<";l&&(p+="="),d.push(ii+".id "+p+" ?"),f.push(i)}s!==!1&&(d.push(ii+".id = ?"),f.push(s))}"ok"!==e.deleted&&d.push(si+".deleted = 0"),C.readTransaction(function(t){if(m(t,function(e){n=e}),0!==c){var o=$t(bi,[ii,si],_i,d,ii+".id "+(a?"DESC":"ASC"));o+=" LIMIT "+c+" OFFSET "+u,t.executeSql(o,f,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var s=n.rows.item(o),a=ot(s.metadata),c=a.id,u=Pt(s.data,c,s.rev),l=u._rev,f={id:c,key:c,value:{rev:l}};if(e.include_docs){if(f.doc=u,f.doc._rev=l,e.conflicts){var d=W(a);d.length&&(f.doc._conflicts=d)}Ht(f.doc,e,b,t)}if(s.deleted){if("ok"!==e.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}},Ft(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},b._changes=function(e){function t(){var t=ii+".json AS metadata, "+ii+".max_seq AS maxSeq, "+si+".json AS winningDoc, "+si+".rev AS winningRev ",n=ii+" JOIN "+si,c=ii+".id="+si+".doc_id AND "+ii+".winningseq="+si+".seq",u=["maxSeq > ?"],l=[e.since];e.doc_ids&&(u.push(ii+".id IN "+Mt(e.doc_ids.length)),l=l.concat(e.doc_ids));var f="maxSeq "+(r?"DESC":"ASC"),d=$t(t,n,c,u,f),p=I(e);e.view||e.filter||(d+=" LIMIT "+o);var h=e.since||0;C.readTransaction(function(t){t.executeSql(d,l,function(t,n){function r(t){return function(){e.onChange(t)}}for(var c=0,u=n.rows.length;c<u;c++){var l=n.rows.item(c),f=ot(l.metadata);h=l.maxSeq;var d=Pt(l.winningDoc,f.id,l.winningRev),v=e.processChange(d,f,e);v.seq=l.maxSeq;var y=p(v);if("object"==typeof y)return e.complete(y);if(y&&(a++,i&&s.push(v),e.attachments&&e.include_docs?Ht(d,e,b,t,r(v)):r(v)()),a===o)break}})},Ft(e.complete),function(){e.continuous||e.complete(null,{results:s,last_seq:h})})}if(e=c(e),e.continuous){var n=b._name+":"+J();return di.addListener(b._name,n,b,e),di.notify(b._name),{cancel:function(){di.removeListener(b._name,n)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var o="limit"in e?e.limit:-1;0===o&&(o=1);var i;i="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var s=[],a=0;t()},b._close=function(e){e()},b._getAttachment=function(e,t,n,r,o){var i,s=r.ctx,a=n.digest,c=n.content_type,u="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+ai+" WHERE digest=?";s.executeSql(u,[a],function(e,t){var n=t.rows.item(0),s=n.escaped?Lt(n.body):It(n.body,_);i=r.binary?Ne(s,c):Uo(s),o(null,i)})},b._getRevisionTree=function(e,t){C.readTransaction(function(n){var r="SELECT json AS metadata FROM "+ii+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=ot(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(T(ho))})})},b._doCompaction=function(e,t,n){return t.length?void C.transaction(function(n){var r="SELECT json AS metadata FROM "+ii+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=ot(r.rows.item(0).metadata);z(o.rev_tree,function(e,n,r,o,i){var s=n+"-"+r;t.indexOf(s)!==-1&&(i.status="missing")});var i="UPDATE "+ii+" SET json = ? WHERE id = ?";n.executeSql(i,[it(o),e])}),Ut(t,e,n)},Ft(n),function(){n()}):n()},b._getLocal=function(e,t){C.readTransaction(function(n){var r="SELECT json, rev FROM "+ci+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Pt(o.json,e,o.rev);t(null,i)}else t(T(ho))})})},b._putLocal=function(e,t,n){function r(e){var r,u;i?(r="UPDATE "+ci+" SET rev=?, json=? WHERE id=? AND rev=?",u=[o,c,s,i]):(r="INSERT INTO "+ci+" (id, rev, json) VALUES (?,?,?)",u=[s,o,c]),e.executeSql(r,u,function(e,r){r.rowsAffected?(a={ok:!0,id:s,rev:o},t.ctx&&n(null,a)):n(T(vo))},function(){return n(T(vo)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,s=e._id;o=i?e._rev="0-"+(parseInt(i.split("-")[1],10)+1):e._rev="0-1";var a,c=Nt(e);t.ctx?r(t.ctx):C.transaction(r,Ft(n),function(){a&&n(null,a)})},b._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+ci+" WHERE id=? AND rev=?",s=[e._id,e._rev];r.executeSql(i,s,function(r,i){return i.rowsAffected?(o={ok:!0,id:e._id,rev:"0-0"},void(t.ctx&&n(null,o))):n(T(ho))})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):C.transaction(r,Ft(n),function(){o&&n(null,o)})},b._destroy=function(e,t){di.removeAllListeners(b._name),C.transaction(function(e){var t=[ii,si,ai,ui,ci,li];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Ft(t),function(){k()&&(delete window.localStorage["_pouch__websqldb_"+b._name],delete window.localStorage[b._name]),t(null,{ok:!0})})}}function Qt(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Xt(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=k(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Qt();return e&&(localStorage[t]=n?"1":"0"),n}function Yt(){return"function"==typeof openDatabase&&Xt()}function Zt(e,t,n,r){return openDatabase(e,t,n,r)}function en(e,t){var n=lo({websql:Zt},e);Wt.call(this,n,t)}function tn(){for(var e={},t=new to(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,to.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function nn(e,t){var n,r,o,i=new Headers,s={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?s.body=JSON.stringify(e.body):"body"in e?s.body=e.body:s.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=tn(e.url,s),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function rn(e,t){var n,r,o=!1,i=function(){n.abort(),c()},s=function(){o=!0,n.abort(),c()},a={abort:i},c=function(){clearTimeout(r),a.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var u in e.headers)e.headers.hasOwnProperty(u)&&n.setRequestHeader(u,e.headers[u]);return e.timeout>0&&(r=setTimeout(s,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(s,e.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?qe([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var s={};if(o)s=new Error("ETIMEDOUT"),s.code="ETIMEDOUT";else if("string"==typeof n.response)try{s=JSON.parse(n.response)}catch(e){}s.status=n.status,t(s)}c()}},e.body&&e.body instanceof Blob?Ve(e.body,function(e){n.send(e)}):n.send(e.body),a}function on(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function sn(e,t){return ki||e.xhr?rn(e,t):nn(e,t)}function an(){return""}function cn(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?D(e):e})),e.binary&&xi(t,n),r(null,t,n)}e=c(e);var r={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=lo(r,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),
sn(e,function(r,o,i){if(r)return t(D(r));var s,a=o.headers&&o.headers["content-type"],c=i||an();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof c&&(/json/.test(a)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(c,o,t):(s=D(c),s.status=o.statusCode,t(s))})}function un(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,o=n.indexOf("msie")!==-1,i=n.indexOf("edge")!==-1,s=r||(o||i)&&"GET"===e.method,a=!("cache"in e)||e.cache,c=/^blob:/.test(e.url);if(!c&&(s||!a)){var u=e.url.indexOf("?")!==-1;e.url+=(u?"&":"?")+"_nonce="+Date.now()}return cn(e,t)}function ln(e,t){return new to(function(n,r){function o(){l++,e[f++]().then(s,a)}function i(){++d===p?u?r(u):n():c()}function s(){l--,i()}function a(e){l--,u=u||e,i()}function c(){for(;l<t&&f<p;)o()}var u,l=0,f=0,d=0,p=e.length;c()})}function fn(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Pe(n.data,n.content_type)})}function dn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function pn(e){return e._attachments&&Object.keys(e._attachments)?to.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new to(function(e){Fe(n.data,e)}).then(function(e){n.data=e})})):to.resolve()}function hn(e){if(!e.prefix)return!1;var t=$(e.prefix).protocol;return"http"===t||"https"===t}function vn(e,t){if(hn(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=$(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function yn(e,t){return mn(e,e.db+"/"+t)}function mn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function gn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function _n(e,t){function n(e,t,n){var r=e.ajax||{},o=lo(c(p),r,t);return Ci(o.method+" "+o.url),a._ajax(o,n)}function r(e,t){return new to(function(r,o){n(e,t,function(e,t){return e?o(e):void r(t)})})}function o(e,t){return f(e,Gr(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){var n=e.pop();n(t)})}))}function i(){if(e.skipSetup||e.skip_setup)return to.resolve();if(m)return m;var t={method:"GET",url:l};return m=r({},t).catch(function(e){return e&&e.status&&404===e.status?(O(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):to.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||to.reject(e)}),m.catch(function(){m=null}),m}function s(e){return e.split("/").map(encodeURIComponent).join("/")}var a=this,u=vn(e.name,e),l=yn(u,"");e=c(e);var p=e.ajax||{};if(e.auth||u.auth){var h=e.auth||u.auth,v=h.username+":"+h.password,y=Uo(unescape(encodeURIComponent(v)));p.headers=p.headers||{},p.headers.Authorization="Basic "+y}a._ajax=un;var m;Xr(function(){t(null,a)}),a.type=function(){return"http"},a.id=o("id",function(e){n({},{method:"GET",url:mn(u,"")},function(t,n){var r=n&&n.uuid?n.uuid+u.db:yn(u,"");e(null,r)})}),a.request=o("request",function(e,t){e.url=yn(u,e.url),n({},e,t)}),a.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=c(e),n(e,{url:yn(u,"_compact"),method:"POST"},function(){function n(){a.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),a.bulkGet=f("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:yn(u,"_bulk_get"+gn(r)),method:"POST",body:{docs:e.docs}},t)}function o(){function n(e){return function(n,r){a[e]=r.results,++s===o&&t(null,{results:R(a)})}}for(var r=Si,o=Math.ceil(e.docs.length/r),s=0,a=new Array(o),c=0;c<o;c++){var u=d(e,["revs","attachments","latest"]);u.ajax=p,u.docs=e.docs.slice(c*r,Math.min(e.docs.length,(c+1)*r)),b(i,u,n(c))}}var i=this,s=mn(u,""),a=Ei[s];"boolean"!=typeof a?r(function(e,n){e?(Ei[s]=!1,O(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Ei[s]=!0,t(null,n))}):a?r(t):o()}),a._info=function(e){i().then(function(){n({},{method:"GET",url:yn(u,"")},function(t,n){return t?e(t):(n.host=yn(u,""),void e(null,n))})}).catch(e)},a.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],a=dn(e._id)+"/"+s(n)+"?rev="+e._rev;return r(t,{method:"GET",url:yn(u,a),binary:!0}).then(function(e){return t.binary?e:new to(function(t){Fe(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){var a=i.map(function(e){return function(){return n(e)}});return ln(a,5)}}function i(e){return Array.isArray(e)?to.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=c(t);var a={};t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.latest&&(a.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=dn(e);var l={method:"GET",url:yn(u,e+gn(a))};r(t,l).then(function(e){return to.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(n)}),a.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var s=i._rev||r.rev;n(r,{method:"DELETE",url:yn(u,dn(i._id))+"?rev="+s},o)}),a.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"",a=yn(u,dn(e))+"/"+s(t)+i;n(r,{method:"GET",url:a,binary:!0},o)}),a.removeAttachment=o("removeAttachment",function(e,t,r,o){var i=yn(u,dn(e)+"/"+s(t))+"?rev="+r;n({},{method:"DELETE",url:i},o)}),a.putAttachment=o("putAttachment",function(e,t,r,o,i,a){"function"==typeof i&&(a=i,i=o,o=r,r=null);var c=dn(e)+"/"+s(t),l=yn(u,c);if(r&&(l+="?rev="+r),"string"==typeof o){var f;try{f=$o(o)}catch(e){return a(T(bo,"Attachment is not a valid base64 string"))}o=f?Ne(f,i):""}var d={headers:{"Content-Type":i},method:"PUT",url:l,processData:!1,body:o,timeout:p.timeout||6e4};n({},d,a)}),a._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return to.all(e.docs.map(pn))}).then(function(){n(t,{method:"POST",url:yn(u,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})}).catch(r)},a._put=function(e,t,r){i().then(function(){return pn(e)}).then(function(){n(t,{method:"PUT",url:yn(u,dn(e._id)),body:e},function(e,t){return e?r(e):void r(null,t)})}).catch(r)},a.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=c(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),"undefined"!=typeof e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),"undefined"!=typeof e.limit&&(o.limit=e.limit),"undefined"!=typeof e.skip&&(o.skip=e.skip);var s=gn(o);"undefined"!=typeof e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:yn(u,"_all_docs"+s),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(fn),t(null,n)}).catch(t)}),a._changes=function(e){var t="batch_size"in e?e.batch_size:Ai;e=c(e),e.timeout="timeout"in e?e.timeout:"timeout"in p?p.timeout:3e4;var r,o=e.timeout?{timeout:e.timeout-5e3}:{},s="undefined"!=typeof e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=s;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):e.continuous&&(o.heartbeat=1e4),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var l in e.query_params)e.query_params.hasOwnProperty(l)&&(o[l]=e.query_params[l]);var f,d="GET";e.doc_ids&&(o.filter="_doc_ids",d="POST",f={doc_ids:e.doc_ids});var h,v,y=function(r,c){if(!e.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?s&&(o.limit=a):o.limit=!s||a>t?t:a;var l={method:d,url:yn(u,"_changes"+gn(o)),timeout:e.timeout,body:f};v=r,e.aborted||i().then(function(){h=n(e,l,c)}).catch(c)}},m={results:[]},g=function(n,o){if(!e.aborted){var i=0;if(o&&o.results){i=o.results.length,m.last_seq=o.last_seq;var c={};c.query=e.query_params,o.results=o.results.filter(function(t){a--;var n=I(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&fn(t),r&&m.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);o&&o.last_seq&&(v=o.last_seq);var u=s&&a<=0||o&&i<t||e.descending;(!e.continuous||s&&a<=0)&&u?e.complete(null,m):Xr(function(){y(v,g)})}};return y(e.since||0,g),{cancel:function(){e.aborted=!0,h&&h.abort()}}},a.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:yn(u,"_revs_diff"),body:e},r)}),a._close=function(e){e()},a._destroy=function(e,t){n(e,{url:yn(u,""),method:"DELETE"},function(e,n){return e&&e.status&&404!==e.status?t(e):void t(null,n)})}}function bn(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function wn(e,t,n){var r=bn(e,t,n);return r+e}function kn(e,t){if(e===t)return 0;e=xn(e),t=xn(t);var n=Bn(e),r=Bn(t);if(n-r!==0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Tn(e,t)}return Array.isArray(e)?jn(e,t):Dn(e,t)}function xn(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=xn(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];"undefined"!=typeof i&&(e[o]=xn(i))}}}}return e}function An(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return In(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=Sn(n[r]);else for(;++r<o;){var s=n[r];i+=Sn(s)+Sn(e[s])}return i}return""}function Sn(e){var t="\0";return e=xn(e),Bn(e)+Di+An(e)+t}function En(e,t){var n,r=t,o="1"===e[t];if(o)n=0,t++;else{var i="0"===e[t];t++;var s="",a=e.substring(t,t+Ti),c=parseInt(a,10)+ji;for(i&&(c=-c),t+=Ti;;){var u=e[t];if("\0"===u)break;s+=u,t++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:t-r}}function Cn(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var s=e.pop();o[s]=n}else e.push(n)}}function On(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=En(e,r);t.push(i.num),r+=i.length;break;case"4":for(var s="";;){var a=e[r];if("\0"===a)break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var u={element:{},index:t.length};t.push(u.element),n.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();Cn(t,n)}}}function jn(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=kn(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function Tn(e,t){return e===t?0:e>t?1:-1}function Dn(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var s=kn(n[i],r[i]);if(0!==s)return s;if(s=kn(e[n[i]],t[r[i]]),0!==s)return s}return n.length===r.length?0:n.length>r.length?1:-1}function Bn(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function In(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-ji,s=wn(i.toString(),"0",Ti);o+=Di+s;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=Di+c}function Rn(){this.promise=new to(function(e){e()})}function qn(e){var t,n=e.db,r=e.viewName,o=e.map,i=e.reduce,s=e.temporary,a=o.toString()+(i&&i.toString())+"undefined";if(!s&&(t=n._cachedViews=n._cachedViews||{},t[a]))return t[a];var c=n.info().then(function(e){function c(e){e.views=e.views||{};var t=r;t.indexOf("/")===-1&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[u])return n[u]=!0,e}var u=e.db_name+"-mrview-"+(s?"temp":We(a));return U(n,"_local/mrviews",c).then(function(){return n.registerDependentDatabase(u).then(function(e){var r=e.db;r.auto_compaction=!0;var s={name:u,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return s.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return s.seq=e?e.seq:0,t&&s.db.once("destroyed",function(){delete t[a]}),s})})})});return t&&(t[a]=c),c}function Ln(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ln)}catch(e){}}function Nn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Nn)}catch(e){}}function Pn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Pn)}catch(e){}}function Mn(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Pn(t)}function $n(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw Mn("_sum");t="number"==typeof t?[t]:t;for(var i=0,s=o.length;i<s;i++){var a=o[i];if("number"!=typeof a)throw Mn("_sum");"undefined"==typeof t[i]?t.push(a):t[i]+=a}}else"number"==typeof t?t+=o:t[0]+=o}return t}function Un(e,t){return Yr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:$n,log:Bi,isArray:Ii,toJSON:Ri})}function Fn(e,t){return t&&e.then(function(e){Xr(function(){t(null,e)})},function(e){Xr(function(){t(e)})}),e}function Vn(e){return Gr(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&Fn(r,n),r})}function Jn(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function Kn(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function zn(e){var t=new io(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function Gn(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function Hn(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function Wn(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Qn(e,t){try{e.emit("error",t)}catch(e){S("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),S("error",t)}}function Xn(e,t,n){try{t(n)}catch(t){Qn(e,t)}}function Yn(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return Qn(e,t),{error:t}}}function Zn(e,t){var n=kn(e.key,t.key);return 0!==n?n:kn(e.value,t.value)}function er(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function tr(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function nr(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Pe(n.data,n.content_type)})})}function rr(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&nr(t),t}}function or(e,t,n,r){var o=t[e];"undefined"!=typeof o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function ir(e){if("undefined"!=typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function sr(e){return e.group_level=ir(e.group_level),e.limit=ir(e.limit),e.skip=ir(e.skip),e}function ar(e){if(e){if("number"!=typeof e)return new Ln('Invalid value for integer: "'+e+'"');if(e<0)return new Ln('Invalid value for positive integer: "'+e+'"')}}function cr(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&kn(e[n],e[r])>0)throw new Ln("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new Ln("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Ln("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=ar(e[t]);if(n)throw n})}function ur(e,t,n){var r,o=[],i="GET";if(or("reduce",n,o),or("include_docs",n,o),or("attachments",n,o),or("limit",n,o),or("descending",n,o),or("group",n,o),or("group_level",n,o),or("skip",n,o),or("stale",n,o),or("conflicts",n,o),or("startkey",n,o,!0),or("start_key",n,o,!0),or("endkey",n,o,!0),or("end_key",n,o,!0),or("inclusive_end",n,o),or("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,"undefined"!=typeof n.keys){var s=2e3,a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=s?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var c=Hn(t);return e.request({method:i,url:"_design/"+c[0]+"/_view/"+c[1]+o,body:r}).then(rr(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(rr(n))}function lr(e,t,n){return new to(function(r,o){e._query(t,n,function(e,t){return e?o(e):void r(t)})})}function fr(e){return new to(function(t,n){e._viewCleanup(function(e,r){return e?n(e):void t(r)})})}function dr(e){return function(t){if(404===t.status)return e;throw t}}function pr(e,t,n){function r(){return Wn(l)?to.resolve(a):t.db.get(s).catch(dr(a))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):to.resolve({rows:[]})}function i(e,t){for(var n=[],r=new io,o=0,i=t.rows.length;o<i;o++){var s=t.rows[o],a=s.doc;if(a&&(n.push(a),r.add(a._id),a._deleted=!u.has(a._id),!a._deleted)){var c=u.get(a._id);"value"in c&&(a.value=c.value)}}var l=Gn(u);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=u.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=zn(l.concat(e.keys)),n.push(e),n}var s="_local/doc_"+e,a={_id:s,keys:[]},c=n.get(e),u=c[0],l=c[1];return r().then(function(e){return o(e).then(function(t){return i(e,t)})})}function hr(e,t,n){var r="_local/lastSeq";return e.db.get(r).catch(dr({_id:r,seq:0})).then(function(r){var o=Gn(t);return to.all(o.map(function(n){return pr(n,e,t)})).then(function(t){var o=R(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function vr(e){var t="string"==typeof e?e:e.name,n=qi[t];return n||(n=qi[t]=new Rn),n}function yr(e){return Kn(vr(e),function(){return mr(e)})()}function mr(e){function t(e,t){var n={id:c._id,key:xn(e)};"undefined"!=typeof t&&null!==t&&(n.value=xn(t)),a.push(n)}function n(t,n){return function(){return hr(e,t,n)}}function r(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:f,limit:Ni}).then(o)}function o(e){var t=e.results;if(t.length){var o=i(t);if(d.add(n(o,f)),!(t.length<Ni))return r()}}function i(t){for(var n=new so,r=0,o=t.length;r<o;r++){var i=t[r];if("_"!==i.doc._id[0]){a=[],c=i.doc,c._deleted||Xn(e.sourceDB,u,c),a.sort(Zn);var l=s(a);n.set(i.doc._id,[l,i.changes])}f=i.seq}return n}function s(e){for(var t,n=new so,r=0,o=e.length;r<o;r++){var i=e[r],s=[i.key,i.id];r>0&&0===kn(i.key,t)&&s.push(r),n.set(Sn(s),i),t=i.key}return n}var a,c,u;if("function"==typeof e.mapFun&&2===e.mapFun.length){var l=e.mapFun;u=function(e){return l(e,t)}}else u=Un(e.mapFun.toString(),t);var f=e.seq||0,d=new Rn;return r().then(function(){return d.finish()}).then(function(){e.seq=f})}function gr(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=Pi[e.reduceFun]?Pi[e.reduceFun]:Un(e.reduceFun.toString());var i=[],s=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=i[i.length-1],n=o?e.key:null;return o&&Array.isArray(n)&&(n=n.slice(0,s)),t&&0===kn(t.groupKey,n)?(t.keys.push([e.key,e.id]),void t.values.push(e.value)):void i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var a=0,c=i.length;a<c;a++){var u=i[a],l=Yn(e.sourceDB,r,u.keys,u.values,!1);if(l.error&&l.error instanceof Pn)throw l.error;t.push({value:l.error?null:l.output,key:u.groupKey})}return{rows:er(t,n.limit,n.skip)}}function _r(e,t){return Kn(vr(e),function(){return br(e,t)})()}function br(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=On(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?gr(e,n,t):{total_rows:o,offset:s,rows:n},t.include_docs){var a=zn(n.map(tr));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new so;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=tr(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&t.reduce!==!1,s=t.skip||0;if("undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!=typeof t.keys){var a=t.keys,c=a.map(function(e){var t={startkey:Sn([e]),endkey:Sn([e,{}])};return n(t)});return to.all(c).then(R).then(r)}var u={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"undefined"!=typeof t.startkey&&(u.startkey=Sn(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var l=t.inclusive_end!==!1;t.descending&&(l=!l),u.endkey=Sn(l?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var f=Sn([t.key]),d=Sn([t.key,{}]);u.descending?(u.endkey=f,u.startkey=d):(u.startkey=f,u.endkey=d)}return i||("number"==typeof t.limit&&(u.limit=t.limit),u.skip=s),n(u).then(r)}function wr(e){return e.request({method:"POST",url:"_view_cleanup"})}function kr(e){return e.get("_local/mrviews").then(function(t){var n=new so;Object.keys(t.views).forEach(function(e){var t=Hn(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new io,n.set(r,i)),i.add(o)});var r={keys:Gn(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var s=Object.keys(t.views[i]),a=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(e){o[e]=o[e]||a})})});var i=Object.keys(o).filter(function(e){return!o[e]}),s=i.map(function(t){return Kn(vr(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return to.all(s).then(function(){return{ok:!0}})})},dr({ok:!0}))}function xr(e,t,n){if("http"===e.type())return ur(e,t,n);if("function"==typeof e._query)return lr(e,t,n);if("string"!=typeof t){cr(n,t);var r={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};return Li.add(function(){return qn(r).then(function(e){function t(){return e.db.destroy()}return Jn(yr(e).then(function(){return _r(e,n)}),t)})}),Li.finish()}var o=t,i=Hn(o),s=i[0],a=i[1];return e.get("_design/"+s).then(function(t){var r=t.views&&t.views[a];if(!r||"string"!=typeof r.map)throw new Nn("ddoc "+s+" has no view named "+a);cr(n,r);var i={db:e,viewName:o,map:r.map,reduce:r.reduce};return qn(i).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Xr(function(){yr(e)}),_r(e,n)):yr(e).then(function(){return _r(e,n)})})})}function Ar(e){return/^1-/.test(e)}function Sr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function Er(e,t){var n=Object.keys(t._attachments);return to.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function Cr(e,t,n){var r="http"===t.type()&&"http"!==e.type(),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return to.all(o.map(function(o){return Sr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return Er(t,n)}):Er(t,n)}function Or(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function jr(e,t,n,r){function o(){var o=Or(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return to.all(n.results.map(function(n){return to.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?Cr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){f=f.concat(R(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function s(e){return e._conflicts&&e._conflicts.length>0}function a(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!Ar(e.value.rev)||i(e.doc)||s(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,f.push(e.doc),delete n[e.id])})})}function u(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&Ar(t[0])});if(e.length>0)return a(e)}function l(){return{ok:d,docs:f}}n=c(n);var f=[],d=!0;return to.resolve().then(u).then(o).then(l)}function Tr(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"===e.type()&&O(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:Vi,version:Fi};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,Ji),i.version=Fi,i.replicator=Vi,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Tr(e,t,n,r,o);throw i})})}function Dr(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function Br(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Ir(e.history,t.history)}function Ir(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);if(!n||0===t.length)return{last_seq:Ki,history:[]};var s=n.session_id;if(Rr(s,t))return{last_seq:n.last_seq,history:e};var a=o.session_id;return Rr(a,r)?{last_seq:o.last_seq,history:i}:Ir(r,i)}function Rr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Rr(e,r))}function qr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Lr(e,t,n,r){if(e.retry===!1)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=C),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=Gi},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||Gi,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function Nr(e){return Object.keys(e).sort(kn).reduce(function(t,n){return t[n]=e[n],t},{})}function Pr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(kn):"",o=n.filter?n.filter.toString():"",i="",s="";return n.filter&&n.query_params&&(i=JSON.stringify(Nr(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),to.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+s+i+r;return new to(function(e){He(t,e)})}).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})}function Mr(e,t,n,r,o){function i(){return x?to.resolve():Pr(e,t,n).then(function(n){k=n,x=new Dr(e,t,k,r)})}function s(){if(L=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw h(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",c(t))}else L.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function a(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=j=w.seq;var e=c(o);return L.length&&(e.docs=L,r.emit("change",e)),E=!0,x.writeCheckpoint(w.seq,N).then(function(){if(E=!1,r.cancelled)throw h(),new Error("cancelled");w=void 0,g()}).catch(function(e){throw b(e),e})}function u(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw h(),new Error("cancelled");w.diffs=e})}function l(){return jr(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function f(){if(!r.cancelled&&!w){if(0===A.length)return void d(!0);w=A.shift(),u().then(l).then(s).then(a).then(f).catch(function(e){p("batch processing terminated with error",e)})}}function d(e){return 0===S.changes.length?void(0!==A.length||w||((T&&P.live||C)&&(r.state="pending",r.emit("paused")),C&&h())):void((e||C||S.changes.length>=D)&&(A.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f()))}function p(e,t){O||(t.message||(t.message=e),o.ok=!1,o.status="aborting",A=[],S={seq:0,changes:[],docs:[]},h(t))}function h(i){O||r.cancelled&&(o.status="cancelled",E)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=j,O=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Lr(n,r,i,function(){Mr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function v(e){if(r.cancelled)return h();var t=I(n)(e);t&&(S.seq=e.seq,S.changes.push(e),d(0===A.length&&P.live))}function y(e){if(R=!1,r.cancelled)return h();if(e.results.length>0)P.since=e.last_seq,g(),d(!0);else{var t=function(){T?(P.live=!0,g()):C=!0,d(!0)};w||0!==e.results.length?t():(E=!0,x.writeCheckpoint(e.last_seq,N).then(function(){E=!1,o.last_seq=j=e.last_seq,t()}).catch(b))}}function m(e){return R=!1,r.cancelled?h():void p("changes rejected",e)}function g(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!R&&!C&&A.length<B){R=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(P).on("change",v);i.then(o,o),i.then(y).catch(m),n.retry&&(r._changes=i,r._abortChanges=t)}}function _(){i().then(function(){return r.cancelled?void h():x.getCheckpoint().then(function(e){j=e,P={since:j,limit:D,batch_size:D,style:"all_docs",doc_ids:q,return_docs:!0},n.filter&&("string"!=typeof n.filter?P.include_docs=!0:P.filter=n.filter),"heartbeat"in n&&(P.heartbeat=n.heartbeat),"timeout"in n&&(P.timeout=n.timeout),n.query_params&&(P.query_params=n.query_params),
n.view&&(P.view=n.view),g()})}).catch(function(e){p("getCheckpoint rejected with ",e)})}function b(e){E=!1,p("writeCheckpoint completed with error",e)}var w,k,x,A=[],S={seq:0,changes:[],docs:[]},E=!1,C=!1,O=!1,j=0,T=n.continuous||n.live||!1,D=n.batch_size||100,B=n.batches_limit||10,R=!1,q=n.doc_ids,L=[],N=J();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var P={};return r.ready(e,t),r.cancelled?void h():(r._addedListeners||(r.once("cancel",h),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void("undefined"==typeof n.since?_():i().then(function(){return E=!0,x.writeCheckpoint(n.since,N)}).then(function(){return E=!1,r.cancelled?void h():(j=n.since,void _())}).catch(b)))}function $r(){Wr.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new to(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function Ur(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function Fr(e,t,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw T(xo,"`doc_ids` filter parameter is not a list.");n.complete=r,n=c(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new $r(n),i=Ur(e,n),s=Ur(t,n);return Mr(i,s,n,o),o}function Vr(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=c(n),n.PouchConstructor=n.PouchConstructor||this,e=Ur(e,n),t=Ur(t,n),new Jr(e,t,n,r)}function Jr(e,t,n,r){function o(e){h.emit("change",{direction:"pull",change:e})}function i(e){h.emit("change",{direction:"push",change:e})}function s(e){h.emit("denied",{direction:"push",doc:e})}function a(e){h.emit("denied",{direction:"pull",doc:e})}function c(){h.pushPaused=!0,h.pullPaused&&h.emit("paused")}function u(){h.pullPaused=!0,h.pushPaused&&h.emit("paused")}function l(){h.pushPaused=!1,h.pullPaused&&h.emit("active",{direction:"push"})}function f(){h.pullPaused=!1,h.pushPaused&&h.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===a||n===s),p="paused"===t&&(n===u||n===c),v="active"===t&&(n===f||n===l);(r||d||p||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&h.removeAllListeners(t))}}function p(e,t,n){e.listeners(t).indexOf(n)==-1&&e.on(t,n)}var h=this;this.canceled=!1;var v=n.push?lo({},n,n.push):n,y=n.pull?lo({},n,n.pull):n;this.push=Fr(e,t,v),this.pull=Fr(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",h.pull.cancel.bind(h.pull)),this.pull.on("complete",h.push.cancel.bind(h.push))),this.on("newListener",function(e){"change"===e?(p(h.pull,"change",o),p(h.push,"change",i)):"denied"===e?(p(h.pull,"denied",a),p(h.push,"denied",s)):"active"===e?(p(h.pull,"active",f),p(h.push,"active",l)):"paused"===e&&(p(h.pull,"paused",u),p(h.push,"paused",c))}),this.on("removeListener",function(e){"change"===e?(h.pull.removeListener("change",o),h.push.removeListener("change",i)):"denied"===e?(h.pull.removeListener("denied",a),h.push.removeListener("denied",s)):"active"===e?(h.pull.removeListener("active",f),h.push.removeListener("active",l)):"paused"===e&&(h.pull.removeListener("paused",u),h.push.removeListener("paused",c))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=to.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return h.emit("complete",t),r&&r(null,t),h.removeAllListeners(),t},function(e){if(h.cancel(),r?r(e):h.emit("error",e),h.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}function Kr(e){e.replicate=Fr,e.sync=Vr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var zr=r(e("lie")),Gr=r(e("argsarray")),Hr=r(e("debug")),Wr=e("events"),Qr=r(e("inherits")),Xr=r(e("immediate")),Yr=r(e("scope-eval")),Zr=r(e("spark-md5")),eo=r(e("vuvuzela")),to="function"==typeof Promise?Promise:zr,no=Function.prototype.toString,ro=no.call(Object),oo=Hr("pouchdb:api");v.prototype.get=function(e){var t=p(e);return this._store[t]},v.prototype.set=function(e,t){var n=p(e);return this._store[n]=t,!0},v.prototype.has=function(e){var t=p(e);return t in this._store},v.prototype.delete=function(e){var t=p(e),n=t in this._store;return delete this._store[t],n},v.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=h(o),e(i,o)}},Object.defineProperty(v.prototype,"size",{get:function(){return Object.keys(this._store).length}}),y.prototype.add=function(e){return this._store.set(e,!0)},y.prototype.has=function(e){return this._store.has(e)},y.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(y.prototype,"size",{get:function(){return this._store.size}});var io,so;m()?(io=Set,so=Map):(io=y,so=v);var ao,co=6;if(w())ao=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),ao=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){ao=!1}Qr(A,Wr.EventEmitter),A.prototype.addListener=function(e,t,n,r){function o(){function e(){s=!1}if(i._listeners[t]){if(s)return void(s="waiting");s=!0;var a=d(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&Xr(o),s=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,s=!1;this._listeners[t]=o,this.on(e,o)}},A.prototype.removeListener=function(e,t){t in this._listeners&&(Wr.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},A.prototype.notifyLocalWindows=function(e){w()?chrome.storage.local.set({dbName:e}):k()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},A.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var uo;uo="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var lo=uo;Qr(j,Error),j.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var fo,po=(new j(401,"unauthorized","Name or password is incorrect."),new j(400,"bad_request","Missing JSON list of 'docs'")),ho=new j(404,"not_found","missing"),vo=new j(409,"conflict","Document update conflict"),yo=new j(400,"bad_request","_id field must contain a string"),mo=new j(412,"missing_id","_id is required for puts"),go=new j(400,"bad_request","Only reserved document ids may start with underscore."),_o=(new j(412,"precondition_failed","Database not open"),new j(500,"unknown_error","Database encountered an unknown error")),bo=new j(500,"badarg","Some query argument is invalid"),wo=(new j(400,"invalid_request","Request was invalid"),new j(400,"query_parse_error","Some query parameter is invalid")),ko=new j(500,"doc_validation","Bad special document member"),xo=new j(400,"bad_request","Something wrong with the request"),Ao=new j(400,"bad_request","Document must be a JSON object"),So=(new j(404,"not_found","Database not found"),new j(500,"indexed_db_went_bad","unknown")),Eo=new j(500,"web_sql_went_bad","unknown"),Co=(new j(500,"levelDB_went_went_bad","unknown"),new j(403,"forbidden","Forbidden by design doc validate_doc_update function"),new j(400,"bad_request","Invalid rev format")),Oo=(new j(412,"file_exists","The database could not be created, the file already exists."),new j(412,"missing_stub","A pre-existing attachment stub wasn't found")),jo=(new j(413,"invalid_url","Provided URL is invalid"),q.name);fo=jo?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var To=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Do="queryKey",Bo=/(?:^|&)([^&=]*)=?([^&]*)/g,Io=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ro="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Qr(ve,Wr.EventEmitter),ve.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ve.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=c(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ye,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=M(e.view):e.filter=M(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=Gr(function(e){r.cancel(),o.apply(this,e)})}},ve.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=T(xo,"`view` filter parameter not found or invalid.");return n(r)}var o=P(e.view);this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(D(r));var s=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;return s?(e.filter=pe(s),void t.doChanges(e)):n(T(ho,i.views?"missing json key: "+o[1]:"missing json key: views"))})}else{var i=P(e.filter);if(!i)return t.doChanges(e);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(D(r));var s=o&&o.filters&&o.filters[i[1]];return s?(e.filter=de(s),void t.doChanges(e)):n(T(ho,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"))})}},Qr(Se,Wr.EventEmitter),Se.prototype.post=f("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(T(Ao)):void this.bulkDocs({docs:[e]},t,ge(n))}),Se.prototype.put=f("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(T(Ao)):(L(e._id),le(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&t.new_edits!==!1?this._put(e,t,n):this.bulkDocs({docs:[e]},t,ge(n))))}),Se.prototype.putAttachment=f("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},s.put(e)}var s=this;return"function"==typeof o&&(o=r,r=n,n=null),"undefined"==typeof o&&(o=r,r=n,n=null),o||S("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then(function(e){if(e._rev!==n)throw T(vo);return i(e)},function(t){if(t.reason===ho.message)return i({_id:e});throw t})}),Se.prototype.removeAttachment=f("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(T(vo)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Se.prototype.remove=f("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};return i._deleted=!0,le(i._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,r):void this.bulkDocs({docs:[i]},n,ge(r))}),Se.prototype.revsDiff=f("revsDiff",function(e,t,n){function r(e,t){a.has(e)||a.set(e,{missing:[]}),a.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);z(n,function(e,n,i,s,a){var c=n+"-"+i,u=o.indexOf(c);u!==-1&&(o.splice(u,1),"available"!==a.status&&r(t,c))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,a=new so;i.map(function(t){this._getRevisionTree(t,function(r,c){if(r&&404===r.status&&"missing"===r.message)a.set(t,{missing:e[t]});else{if(r)return n(r);o(t,c)}if(++s===i.length){var u={};return a.forEach(function(e,t){u[t]=e}),n(null,u)}})},this)}),Se.prototype.bulkGet=f("bulkGet",function(e,t){b(this,e,t)}),Se.prototype.compactDocument=f("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var s=we(i),a=[],c=[];Object.keys(s).forEach(function(e){s[e]>t&&a.push(e)}),z(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&a.indexOf(i)!==-1&&c.push(i)}),r._doCompaction(e,c,n)})}),Se.prototype.compact=f("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&xe(n)}),Se.prototype._compact=function(e,t){function n(e){s.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;to.all(s).then(function(){return U(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},s=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},Se.prototype.get=f("get",function(e,t,n){function r(){var r=[],s=o.length;return s?void o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,a=0,c=r.length;a<c;a++)if(r[a].ok&&r[a].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}s--,s||n(null,r)})}):n(null,r)}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(T(yo));if(le(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var o=r.doc,s=r.metadata,a=r.ctx;if(t.conflicts){var c=W(s);c.length&&(o._conflicts=c)}if(ue(s,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var u=o._rev.split("-"),l=parseInt(u[0],10),f=u[1],d=X(s.rev_tree),p=null,h=0;h<d.length;h++){var v=d[h],y=v.ids.map(function(e){return e.id}).indexOf(f),m=y===l-1;(m||!p&&y!==-1)&&(p=v)}var g=p.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,_=p.ids.length-g;if(p.ids.splice(g,_),p.ids.reverse(),t.revs&&(o._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var b=p.pos+p.ids.length;o._revs_info=p.ids.map(function(e){return b--,{rev:b+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var w=o._attachments,k=Object.keys(w).length;if(0===k)return n(null,o);Object.keys(w).forEach(function(e){this._getAttachment(o._id,e,w[e],{rev:o._rev,binary:t.binary,ctx:a},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--k||n(null,o)})},i)}else{if(o._attachments)for(var x in o._attachments)o._attachments.hasOwnProperty(x)&&(o._attachments[x].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?n(e):(o=H(t).map(function(e){return e.rev}),void r())});else{if(!Array.isArray(t.open_revs))return n(T(_o,"function_clause"));o=t.open_revs;for(var s=0;s<o.length;s++){var a=o[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(T(Co))}r()}}),Se.prototype.getAttachment=f("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,s){return i?r(i):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,o._getAttachment(e,t,s.doc._attachments[t],n,r),void 0):r(T(ho))})}),Se.prototype.allDocs=f("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(T(wo,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return ke(this,e,t)}return this._allDocs(e,t)}),Se.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new ve(this,e,t)},Se.prototype.close=f("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Se.prototype.info=f("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),void e(null,r))})}),Se.prototype.id=f("id",function(e){return this._id(e)}),Se.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Se.prototype.bulkDocs=f("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(T(po));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(T(Ao));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||Ae(t),e._attachments[t].content_type||S("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(T(xo,o));"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0);var i=this;t.new_edits||"http"===i.type()||e.docs.sort(be),_e(e.docs);var s=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),"http"!==i.type())for(var o=0,a=r.length;o<a;o++)r[o].id=r[o].id||s[o];n(null,r)})}),Se.prototype.registerDependentDatabase=f("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);U(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Se.prototype.destroy=f("destroy",function(e,t){function n(){r._destroy(e,function(e,n){return e?t(e):(r._destroyed=!0,r.emit("destroyed"),void t(null,n||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var s=i.dependentDbs,a=r.constructor,c=Object.keys(s).map(function(e){var t=o?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,r.__opts).destroy()});to.all(c).then(n,t)})}),Ee.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Ee.prototype.fail=function(e){this.failed=e,this.execute()},Ee.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Ee.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Qr(je,Se),je.debug=Hr,je.adapters={},je.preferredAdapters=[],je.prefix="_pouch_";var qo=new Wr.EventEmitter;Te(je),je.adapter=function(e,t,n){t.valid()&&(je.adapters[e]=t,n&&je.preferredAdapters.push(e))},je.plugin=function(e){if("function"==typeof e)e(je);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){je.prototype[t]=e[t]})}return je},je.defaults=function(e){function t(e,n){return this instanceof t?(n=n||{},e&&"object"==typeof e&&(n=e,e=n.name,delete n.name),n=lo({},t.__defaults,n),void je.call(this,e,n)):new t(e,n)}return Qr(t,je),t.preferredAdapters=je.preferredAdapters.slice(),Object.keys(je).forEach(function(e){e in t||(t[e]=je[e])}),t.__defaults=lo({},this.__defaults,e),t};var Lo="6.1.1";je.version=Lo;var No,Po=De(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Mo=De(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),$o=function(e){return atob(e)},Uo=function(e){return btoa(e)},Fo=n.setImmediate||n.setTimeout,Vo=32768,Jo=5,Ko="document-store",zo="by-sequence",Go="attach-store",Ho="attach-seq-store",Wo="meta-store",Qo="local-store",Xo="detect-blob-support",Yo=new A,Zo=!1,ei=[],ti=new so,ni=new so;Et.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var ri=function(e){e.adapter("idb",Et,!0)},oi=7,ii=Rt("document-store"),si=Rt("by-sequence"),ai=Rt("attach-store"),ci=Rt("local-store"),ui=Rt("metadata-store"),li=Rt("attach-seq-store"),fi=new so,di=new A,pi=1,hi="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+si+" (seq, deleted)",vi="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+si+" (doc_id, rev)",yi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+ii+" (winningseq)",mi="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+li+" (seq)",gi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+li+" (digest, seq)",_i=si+".seq = "+ii+".winningseq",bi=si+".seq AS seq, "+si+".deleted AS deleted, "+si+".json AS data, "+si+".rev AS rev, "+ii+".json AS metadata";en.valid=Yt,en.use_prefix=!0;var wi=function(e){e.adapter("websql",en,!0)},ki=on(),xi=function(){},Ai=25,Si=50,Ei={},Ci=Hr("pouchdb:http");_n.valid=function(){return!0};var Oi=function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)},ji=-324,Ti=3,Di="";Rn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Rn.prototype.finish=function(){return this.promise},Qr(Ln,Error),Qr(Nn,Error),Qr(Pn,Error);var Bi=S.bind(null,"log"),Ii=Array.isArray,Ri=JSON.parse,qi={},Li=new Rn,Ni=50,Pi={_sum:function(e,t){return $n(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}return{sum:$n(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}},Mi=Vn(function(){var e=this;return"http"===e.type()?wr(e):"function"==typeof e._viewCleanup?fr(e):kr(e)}),$i=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?sr(t):{},"function"==typeof e&&(e={map:e});var r=this,o=to.resolve().then(function(){return xr(r,e,t)});return Fn(o,n),o},Ui={query:$i,viewCleanup:Mi},Fi=1,Vi="pouchdb",Ji=5,Ki=0;Dr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Dr.prototype.updateTarget=function(e,t){return Tr(this.target,this.id,e,t,this.returnValue)},Dr.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?to.resolve(!0):Tr(this.src,this.id,e,t,this.returnValue).catch(function(e){if(qr(e))return n.readOnlySource=!0,!0;throw e})};var zi={undefined:function(e,t){return 0===kn(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Br(t,e).last_seq}};Dr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?to.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return Ki;var n;return n=t.version?t.version.toString():"undefined",n in zi?zi[n](t,e):Ki},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:Ki}).then(function(){return Ki},function(n){return qr(n)?(e.readOnlySource=!0,t.last_seq):Ki});throw n})}).catch(function(e){if(404!==e.status)throw e;return Ki})};var Gi=0;Qr($r,Wr.EventEmitter),$r.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},$r.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},Qr(Jr,Wr.EventEmitter),Jr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},je.plugin(ri).plugin(wi).plugin(Oi).plugin(Ui).plugin(Kr),t.exports=je}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{argsarray:2,debug:11,events:28,immediate:32,inherits:34,lie:37,"scope-eval":47,"spark-md5":63,vuvuzela:80}],45:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=r(e("lie")),i="function"==typeof Promise?Promise:o;t.exports=i},{lie:37}],46:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?v=h.concat(v):m=-1,v.length&&c())}function c(){if(!y){var e=i(a);y=!0;for(var t=v.length;t;){for(h=v,v=[];++m<t;)h&&h[m].run();m=-1,t=v.length}h=null,y=!1,s(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var h,v=[],y=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new u(e,t)),1!==v.length||y||i(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],47:[function(e,t,n){(function(){var e={}.hasOwnProperty,n=[].slice;t.exports=function(t,r){var o,i,s,a;i=[],a=[];for(o in r)e.call(r,o)&&(s=r[o],"this"!==o&&(i.push(o),a.push(s)));return Function.apply(null,n.call(i).concat([t])).apply(r.this,a)}}).call(this)},{}],48:[function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),s=r.source,l=r.id,f=r.path,d=u[l]&&f in u[l].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||d;return p?(c("ignoring socket cache for %s",s),n=a(s,t)):(u[l]||(c("new io instance for %s",s),u[l]=a(s,t)),n=u[l]),r.query&&!t.query?t.query=r.query:t&&"object"==typeof t.query&&(t.query=o(t.query)),n.socket(r.path,t)}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var i=e("./url"),s=e("socket.io-parser"),a=e("./manager"),c=e("debug")("socket.io-client");t.exports=n=r;var u=n.managers={};n.protocol=s.protocol,n.connect=r,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":49,"./socket":51,"./url":52,debug:54,"socket.io-parser":57}],49:[function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var o=e("engine.io-client"),i=e("./socket"),s=e("component-emitter"),a=e("socket.io-parser"),c=e("./on"),u=e("component-bind"),l=e("debug")("socket.io-client:manager"),f=e("indexof"),d=e("backo2"),p=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},s(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=c(n,"open",function(){r.onopen(),e&&e()}),s=c(n,"error",function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var u=setTimeout(function(){l("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(s),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(e,"ping",u(this,"onping"))),this.subs.push(c(e,"pong",u(this,"onpong"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~f(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.engine.id}),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),
this.connecting.length||this.close()},r.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":50,"./socket":51,backo2:4,"component-bind":8,"component-emitter":53,debug:54,"engine.io-client":13,indexof:33,"socket.io-parser":57}],50:[function(e,t,n){function r(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=r},{}],51:[function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),a=e("./on"),c=e("component-bind"),u=e("debug")("socket.io-client:socket"),l=e("has-binary");t.exports=n=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",c(this,"onopen")),a(e,"packet",c(this,"onpacket")),a(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(f.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),n=o.EVENT;l(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);u("sending ack %j",r);var i=l(r)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":50,"component-bind":8,"component-emitter":53,debug:54,"has-binary":29,"socket.io-parser":57,"to-array":77}],52:[function(e,t,n){(function(n){function r(e,t){var r=e;t=t||n.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=o(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=r.host.indexOf(":")!==-1,a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:54,parseuri:42}],53:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],54:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{"./debug":55,_process:46,dup:24}],55:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25,ms:38}],56:[function(e,t,n){(function(t){var r=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a]);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var c in e)s[c]=t(e[c]);return s}return e}var n=[],i=e.data,s=e;return s.data=t(i),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(r(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var s in e)e[s]=n(e[s]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,c,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:a=this.result,--s||n(a)},l.readAsArrayBuffer(e)}else if(r(e))for(var f=0;f<e.length;f++)i(e[f],f,e);else if(e&&"object"==typeof e&&!o(e))for(var d in e)i(e[d],d,e)}var s=0,a=e;i(a),s||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":58,isarray:61}],57:[function(e,t,n){function r(){}function o(e){var t="",r=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,t+=e.nsp),null!=e.id&&(r&&(t+=",",r=!1),t+=e.id),null!=e.data&&(r&&(t+=","),t+=d.stringify(e.data)),f("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=h.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}h.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var t={},r=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return l();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(r+1))for(t.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(t.nsp+=i,r==e.length)break}else t.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(t.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(t.id+=e.charAt(r),r==e.length)break}t.id=Number(t.id)}return e.charAt(++r)&&(t=c(t,e.substr(r))),f("decoded %s as %j",e,t),t}function c(e,t){try{e.data=d.parse(t)}catch(e){return l()}return e}function u(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:n.ERROR,data:"parser error"}}var f=e("debug")("socket.io-parser"),d=e("json3"),p=e("component-emitter"),h=e("./binary"),v=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=s,r.prototype.encode=function(e,t){if(f("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{var r=o(e);t([r])}},p(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new u(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!v(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":56,"./is-buffer":58,"component-emitter":9,debug:59,json3:36}],58:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":60}],60:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var c=o.log||n.log||console.log.bind(console);c.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:62}],61:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],62:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,l,"day")||s(e,u,"hour")||s(e,c,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,u=60*c,l=24*u,f=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?i(e):o(e)}},{}],63:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(e){r=self}r.SparkMD5=e()}}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,s,a,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=u;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return s=8*u,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,i[14]=a,i[15]=c,t(l,i),l}function i(e){var n,o,i,s,a,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=u;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<u?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return s=8*u,s=s.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,i[14]=a,i[15]=c,t(l,i),l}function s(e){var t,n="";for(t=0;t<4;t+=1)n+=v[e>>8*t+4&15]+v[e>>8*t&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}var h=function(e,t){return e+t&4294967295},v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(o("hello"))&&(h=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,s,a,c=this.byteLength,u=t(n,c),l=c;return r!==e&&(l=t(r,c)),u>l?new ArrayBuffer(0):(o=l-u,i=new ArrayBuffer(o),s=new Uint8Array(i),a=new Uint8Array(this,u,o),s.set(a),i)}}(),p.prototype.append=function(e){return this.appendBinary(c(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},p.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=a(this._hash),e&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,n){var r,o,i,s=n;if(e[s>>2]|=128<<(s%4<<3),s>55)for(t(this._hash,e),s=0;s<16;s+=1)e[s]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},p.hash=function(e,t){return p.hashBinary(c(e),t)},p.hashBinary=function(e,t){var n=o(e),r=a(n);return t?d(r):r},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var n,o=f(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=a(this._hash),e&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=l(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=a(n);return t?d(r):r},p})},{}],64:[function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.keys(t).forEach(function(o){var i=t[o],a=n.concat([o]);if("object"===("undefined"==typeof i?"undefined":s(i))){if("undefined"!=typeof e[o]&&"object"!==s(e[o]))throw new Error("Expected config property not to be an object: "+a.join("."));r(e[o],i,a)}else{if("object"===s(e[o]))throw new Error("Expected config property to be an object: "+a.join("."));e[o]=i}})}function o(){return c.get()}function i(){return c.set.apply(c,arguments)}n.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.getConfig=o,n.setConfig=i;var a={basepath:{node:"",web:""},fallback:{slaveScriptUrl:""}},c={get:function(){return a},set:function(e){if("object"!==("undefined"==typeof e?"undefined":s(e)))throw new Error("Expected config object.");r(a,e)}};n.default=c},{}],65:[function(e,t,n){"use strict";n.__esModule=!0,n.default={pool:{size:navigator.hardwareConcurrency||8}}},{}],66:[function(e,t,n){(function(n){"use strict";"undefined"!=typeof n&&"pid"in n?t.exports=e("./defaults.node"):t.exports=e("./defaults.browser")}).call(this,e("_process"))},{"./defaults.browser":65,"./defaults.node":67,_process:46}],67:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("os");n.default={pool:{size:(0,r.cpus)().length}}},{os:7}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new d.default(e,t)}n.__esModule=!0,n.Pool=n.defaults=n.config=void 0,n.spawn=o,e("native-promise-only");var i=e("./config"),s=r(i),a=e("./defaults"),c=r(a),u=e("./pool"),l=r(u),f=e("./worker"),d=r(f);n.config=s.default,n.defaults=c.default,n.Pool=l.default,n.default={config:s.default,defaults:c.default,Pool:l.default,spawn:o,Worker:d.default}},{"./config":64,"./defaults":66,"./pool":70,"./worker":74,"native-promise-only":39}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("eventemitter3"),c=r(a),u=function(e){function t(n){o(this,t);var r=i(this,e.call(this));return r.pool=n,r.thread=null,r.runArgs=[],r.sendArgs=[],n.emit("newJob",r),r}return s(t,e),t.prototype.run=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Cannot call .run() without arguments.");return this.runArgs=t,this},t.prototype.send=function(){if(0===this.runArgs.length)throw new Error("Cannot .send() before .run().");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.sendArgs=t,this.emit("readyToRun"),this},t.prototype.executeOn=function(e){var t,n;return(t=(n=e.once("message",this.emit.bind(this,"done")).once("error",this.emit.bind(this,"error"))).run.apply(n,this.runArgs)).send.apply(t,this.sendArgs),this.thread=e,this.emit("threadChanged"),this},t.prototype.promise=function(){var e=this;return new Promise(function(t){e.thread?t(e.thread.promise()):e.once("threadChanged",function(){t(e.thread.promise())})})},t}(c.default);n.default=u},{eventemitter3:76}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("eventemitter3"),c=r(a),u=e("./job"),l=r(u),f=e("./defaults"),d=r(f),p=e("./"),h=function(e){function t(n){o(this,t);var r=i(this,e.call(this));return r.threads=t.spawn(n||d.default.pool.size),r.idleThreads=r.threads.slice(),r.jobQueue=[],r.runArgs=[],r.on("newJob",function(e){return r.handleNewJob(e)}),r.on("threadAvailable",function(){return r.dequeue()}),r}return s(t,e),t.prototype.run=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.runArgs=t,this},t.prototype.send=function(){if(!this.runArgs)throw new Error("Pool.send() called without prior Pool.run(). You need to define what to run first.");var e=new l.default(this);return e.run.apply(e,this.runArgs),e.send.apply(e,arguments)},t.prototype.killAll=function(){this.threads.forEach(function(e){e.kill()})},t.prototype.queueJob=function(e){this.jobQueue.push(e),this.dequeue()},t.prototype.dequeue=function(){var e=this;if(0!==this.jobQueue.length&&0!==this.idleThreads.length){var t=this.jobQueue.shift(),n=this.idleThreads.shift();t.once("done",function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.handleJobSuccess.apply(e,[n,t].concat(o))}).once("error",function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.handleJobError.apply(e,[n,t].concat(o))}),t.executeOn(n)}},t.prototype.handleNewJob=function(e){var t=this;this.lastCreatedJob=e,e.once("readyToRun",function(){return t.queueJob(e)})},t.prototype.handleJobSuccess=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];this.emit.apply(this,["done",t].concat(r)),this.handleJobDone(e)},t.prototype.handleJobError=function(e,t,n){this.emit("error",t,n),this.handleJobDone(e)},t.prototype.handleJobDone=function(e){var t=this;this.idleThreads.push(e),this.emit("threadAvailable"),this.idleThreads.length===this.threads.length&&setTimeout(function(){t.emit("finished")},0)},t}(c.default);n.default=h,h.spawn=function(e){for(var t=[],n=0;n<e;n++)t.push((0,p.spawn)());return t}},{"./":68,"./defaults":66,"./job":69,eventemitter3:76}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("./slave-code"),i=r(o),s="data:text/javascript;charset=utf-8,"+encodeURI(i.default),a=window.createBlobURL||window.createObjectURL;if(!a){var c=window.URL||window.webkitURL;if(!c)throw new Error("No Blob creation implementation found.");a=c.createObjectURL}if("function"==typeof window.BlobBuilder&&"function"==typeof a){var u=new window.BlobBuilder;u.append(i.default),s=a(u.getBlob())}else if("function"==typeof window.Blob&&"function"==typeof a){var l=new window.Blob([i.default],{type:"text/javascript"});s=a(l)}n.default=s},{"./slave-code":72}],72:[function(e,t,n){t.exports="/*eslint-env worker*/\n/*global importScripts*/\n/*eslint-disable no-console*/\nself.module = {\n  exports : function() {\n    if (console) { console.error('No thread logic initialized.'); }\n  }\n};\n\nfunction handlerDone() {\n  var args = Array.prototype.slice.call(arguments, 0);\n  this.postMessage({ response : args });\n}\n\nfunction handlerProgress(progress) {\n  this.postMessage({ progress : progress });\n}\n\nfunction handlerDoneTransfer() {\n  var args = Array.prototype.slice.call(arguments);\n  var lastArg = args.pop();\n\n  if (!(lastArg instanceof Array) && this.console) {\n    console.error('Expected 2nd parameter of <doneCallback>.transfer() to be an array. Got:', lastArg);\n  }\n\n  this.postMessage({ response : args }, lastArg);\n}\n\nself.onmessage = function (event) {\n  var scripts = event.data.scripts;\n  if (scripts && scripts.length > 0 && typeof importScripts !== 'function') {\n    throw new Error('importScripts() not supported.');\n  }\n\n  if (event.data.initByScripts) {\n    importScripts.apply(null, scripts);\n  }\n\n  if (event.data.initByMethod) {\n    var method = event.data.method;\n    this.module.exports = Function.apply(null, method.args.concat(method.body));\n\n    if (scripts && scripts.length > 0) {\n      importScripts.apply(null, scripts);\n    }\n  }\n\n  if (event.data.doRun) {\n    var handler = this.module.exports;\n    if (typeof handler !== 'function') {\n      throw new Error('Cannot run thread logic. No handler has been exported.');\n    }\n\n    var preparedHandlerDone = handlerDone.bind(this);\n    preparedHandlerDone.transfer = handlerDoneTransfer.bind(this);\n\n    handler.call(this, event.data.param, preparedHandlerDone, handlerProgress.bind(this));\n  }\n}.bind(self);\n";
},{}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return e&&t?"/"===e.charAt(e.length-1)||"/"===t.charAt(0)?e+t:e+"/"+t:e+t}function c(e){var t=(0,y.getConfig)().basepath.web;return t?a(t,e):e}function u(e){for(var t=[],n=0;"undefined"!=typeof e[n];)t.push(e[n]),n++;return t}function l(e){if(e.stack)console.error(e.stack);else if(e.message&&e.filename&&e.lineno){var t=e.filename.match(/^data:text\/javascript/)&&e.filename.length>50?e.filename.substr(0,50)+"...":e.filename;console.error(e.message+" @"+t+":"+e.lineno)}else console.error(e)}n.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=e("eventemitter3"),p=r(d),h=e("./slave-code-uri"),v=r(h),y=e("../config");if("object"!==f(window.Worker)&&"function"!=typeof window.Worker)throw new Error("Browser does not support web workers!");var m=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,t);var s=i(this,e.call(this));return s.currentRunnable=null,s.currentImportScripts=[],s.initWorker(),s.worker.addEventListener("message",s.handleMessage.bind(s)),s.worker.addEventListener("error",s.handleError.bind(s)),n&&s.run(n,r),s}return s(t,e),t.prototype.initWorker=function(){try{this.worker=new window.Worker(v.default)}catch(t){var e=(0,y.getConfig)().fallback.slaveScriptUrl;if(!e)throw t;this.worker=new window.Worker(v.default)}},t.prototype.run=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.alreadyInitializedToRun(e,t)?this:("function"==typeof e?this.runMethod(e,t):this.runScripts(e,t),this.currentRunnable=e,this.currentImportScripts=t,this)},t.prototype.runMethod=function(e,t){var n=e.toString(),r=n.substring(n.indexOf("(")+1,n.indexOf(")")).split(","),o=n.substring(n.indexOf("{")+1,n.lastIndexOf("}"));this.worker.postMessage({initByMethod:!0,method:{args:r,body:o},scripts:t.map(c)})},t.prototype.runScripts=function(e,t){if(!e)throw new Error("Must pass a function or a script URL to run().");this.worker.postMessage({initByScripts:!0,scripts:t.concat([e]).map(c)})},t.prototype.send=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.worker.postMessage({doRun:!0,param:e},t),this},t.prototype.kill=function(){return this.worker.terminate(),this.emit("exit"),this},t.prototype.promise=function(){var e=this;return new Promise(function(t,n){var r=void 0,o=void 0;r=function(n){e.removeListener("error",o),t(n)},o=function(t){e.removeListener("message",r),n(t)},e.once("message",r).once("error",o)})},t.prototype.alreadyInitializedToRun=function(e,t){var n=this.currentRunnable===e,r=this.currentImportScripts===t||0===t.length&&0===this.currentImportScripts.length;return n&&r},t.prototype.handleMessage=function(e){if(e.data.error)this.handleError(e.data.error);else if(e.data.progress)this.handleProgress(e.data.progress);else{var t=u(e.data.response);this.emit.apply(this,["message"].concat(t)),this.emit.apply(this,["done"].concat(t))}},t.prototype.handleProgress=function(e){this.emit("progress",e)},t.prototype.handleError=function(e){this.listeners("error",!0)||l(e),e.preventDefault&&e.preventDefault(),this.emit("error",e)},t}(p.default);n.default=m},{"../config":64,"./slave-code-uri":71,eventemitter3:76}],74:[function(e,t,n){(function(n){"use strict";"undefined"!=typeof n&&"pid"in n?t.exports=e("./worker.node/worker"):t.exports=e("./worker.browser/worker")}).call(this,e("_process"))},{"./worker.browser/worker":73,"./worker.node/worker":75,_process:46}],75:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("child_process"),c=r(a),u=e("path"),l=r(u),f=e("eventemitter3"),d=r(f),p=e("../config"),h=function(e){function n(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,n);var a=i(this,e.call(this));return a.slave=c.default.fork(l.default.join(t,"slave.js"),[],s),a.slave.on("message",a.handleMessage.bind(a)),a.slave.on("error",a.handleError.bind(a)),a.slave.on("exit",a.emit.bind(a,"exit")),r&&a.run(r),a}return s(n,e),n.prototype.run=function(e){return"function"==typeof e?this.runMethod(e):this.runScript(e),this},n.prototype.runMethod=function(e){this.slave.send({initByMethod:!0,method:e.toString()})},n.prototype.runScript=function(e){if(!e)throw new Error("Must pass a function or a script path to run().");var t=l.default.join((0,p.getConfig)().basepath.node,e);this.slave.send({initByScript:!0,script:l.default.resolve(t)})},n.prototype.send=function(e){return this.slave.send({doRun:!0,param:e}),this},n.prototype.kill=function(){return this.slave.kill(),this},n.prototype.promise=function(){var e=this;return new Promise(function(t,n){var r=void 0,o=void 0;r=function(n){e.removeListener("error",o),t(n)},o=function(t){e.removeListener("message",r),n(t)},e.once("message",r).once("error",o)})},n.prototype.handleMessage=function(e){if(e.error){var t=new Error(e.error.message);t.stack=e.error.stack,this.handleError(t)}else e.progress?this.handleProgress(e.progress):(this.emit.apply(this,["message"].concat(e.response)),this.emit.apply(this,["done"].concat(e.response)))},n.prototype.handleProgress=function(e){this.emit("progress",e)},n.prototype.handleError=function(e){this.listeners("error",!0)||console.error(e.stack||e),this.emit("error",e)},n}(d.default);n.default=h}).call(this,"/node_modules/threads/lib/worker.node")},{"../config":64,child_process:7,eventemitter3:76,path:7}],76:[function(e,t,n){"use strict";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){this._events=new r,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)s.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var n=a?a+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},i.prototype.emit=function(e,t,n,r,o,i){var s=a?a+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,i),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},i.prototype.on=function(e,t,n){var r=new o(t,n||this),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.removeListener=function(e,t,n,o){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[i],this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[i]);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new r:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=a,i.EventEmitter=i,"undefined"!=typeof t&&(t.exports=i)},{}],77:[function(e,t,n){function r(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}t.exports=r},{}],78:[function(e,t,n){"use strict";function r(e,t){window.console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}function o(e,t){e.locale=function(e,n,o){return void 0===n?t.locales[e]:void(null===n?(t.locales[e]=void 0,delete t.locales[e]):i(e,n,function(n){n?t.locales[e]=n:r("failed set `"+e+"` locale"),o&&o()}))}}function i(e,t,n){var r=this;"object"===("undefined"==typeof t?"undefined":x.typeof(t))?n(t):!function(){var e=t.call(r);"function"==typeof e?e.resolved?n(e.resolved):e.requested?e.pendingCallbacks.push(n):!function(){e.requested=!0;var t=e.pendingCallbacks=[n];e(function(n){e.resolved=n;for(var r=0,o=t.length;r<o;r++)t[r](n)},function(){n()})}():s(e)&&e.then(function(e){n(e)},function(){n()}).catch(function(e){console.error(e),n()})}()}function s(e){return e&&"function"==typeof e.then}function a(e,t,n){function r(e){if(n>1)e.$forceUpdate();else for(var t=e._watchers.length;t--;)e._watchers[t].update(!0)}var o=e.prototype._init;e.prototype._init=function(e){var n=this;o.call(this,e),this.$parent||(this._$lang=t,this._langUnwatch=this._$lang.$watch("$data",function(e,t){r(n)},{deep:!0}))};var i=e.prototype._destroy;e.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this._$lang=null),i.apply(this,arguments)}}function c(e){if(!A){var t=e.$watch("__watcher__",function(e){});A=e._watchers[0].constructor,t()}return A}function u(e){return!S&&e&&e._data&&e._data.__ob__&&e._data.__ob__.dep&&(S=e._data.__ob__.dep.constructor),S}function l(e,t,n){function r(e,t){var n=new i(t,e,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),s&&s.target&&n.depend(),n.value}}var o=e.util.bind,i=c(t),s=u(t);Object.defineProperty(e.config,"lang",{enumerable:!0,configurable:!0,get:r(function(){return t.lang},t),set:o(function(e){t.lang=e},t)}),E=n,Object.defineProperty(e.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return E},set:function(e){E=e}}),Object.defineProperty(e.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return C},set:function(e){C=e}}),Object.defineProperty(e.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return O},set:function(e){O=e}})}function f(e){return null===e||void 0===e}function d(e){function t(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r=1===r.length&&"object"===x.typeof(r[0])?r[0]:{},r&&r.hasOwnProperty||(r={}),e.replace(j,function(t,o,i,s){var a=void 0;return"{"===e[s-1]&&"}"===e[s+t.length]?i:(a=n(r,i)?r[i]:t,f(a)?"":a)})}var n=e.util.hasOwn;return t}function p(e){return K.test(e)}function h(e){var t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function v(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return t>=97&&t<=122||t>=65&&t<=90?"ident":t>=49&&t<=57?"number":"else"}function y(e){var t=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(p(t)?h(t):"*"+t)}function m(e){function t(){var t=e[r+1];if(o===$&&"'"===t||o===U&&'"'===t)return r++,a="\\"+t,p[D](),!0}var n=[],r=-1,o=q,i=0,s=void 0,a=void 0,c=void 0,u=void 0,l=void 0,f=void 0,d=void 0,p=[];for(p[B]=function(){void 0!==c&&(n.push(c),c=void 0)},p[D]=function(){void 0===c?c=a:c+=a},p[I]=function(){p[D](),i++},p[R]=function(){if(i>0)i--,o=M,p[D]();else{if(i=0,c=y(c),c===!1)return!1;p[B]()}};null!=o;)if(r++,s=e[r],"\\"!==s||!t()){if(u=v(s),d=J[o],l=d[u]||d.else||V,l===V)return;if(o=l[0],f=p[l[1]],f&&(a=l[2],a=void 0===a?s:a,f()===!1))return;if(o===F)return n.raw=e,n}}function g(e){var t=T[e];return t||(t=m(e),t&&(T[e]=t)),t}function _(e){function t(e){if(null===e||void 0===e)return!0;if(Array.isArray(e)){if(e.length>0)return!1;if(0===e.length)return!0}else if(i(e))for(var t in e)if(s(e,t))return!1;return!0}function n(e,n){if(!o(e))return null;var r=g(n);if(t(r))return null;for(var i=r.length,s=null,a=e,c=0;c<i;){var u=a[r[c]];if(void 0===u){a=null;break}a=u,c++}return s=a}var r=e.util,o=r.isObject,i=r.isPlainObject,s=r.hasOwn;return n}function b(e){function t(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=e.config.lang,i=e.config.fallbackLang;return 1===n.length?v(n[0])||Array.isArray(n[0])?n=n[0]:"string"==typeof n[0]&&(o=n[0]):2===n.length&&("string"==typeof n[0]&&(o=n[0]),(v(n[1])||Array.isArray(n[1]))&&(n=n[1])),{lang:o,fallback:i,params:n}}function n(e,t){return!(!e||!t)&&!f(g(e,t))}function o(t,n,i){if(!t)return null;var s=g(t,n);if(Array.isArray(s))return s;if(f(s)&&(s=t[n]),f(s))return null;if("string"!=typeof s)return r("Value of key '"+n+"' is not a string!"),null;if(s.indexOf("@:")>=0){var a=s.match(/(@:[\w|.]+)/g);for(var c in a){var u=a[c],l=u.substr(2),d=o(t,l,i);s=s.replace(u,d)}}return i?e.config.i18nFormatter?e.config.i18nFormatter.apply(null,[s].concat(i)):m(s,i):s}function i(e,t,n,r,i){var s=null;return s=o(e(t),r,i),f(s)?(s=o(e(n),r,i),f(s)?null:s):s}function s(t,n,r,o){return f(o)?(e.config.missingHandler&&e.config.missingHandler.apply(null,[t,n,r]),n):o}function a(t){return e.locale(t)}function c(e){return this.$options.locales[e]}function u(e){return e?e>1?1:0:1}function l(e,t){return e=Math.abs(e),2===t?u(e):e?Math.min(e,2):0}function p(e,t){if(!e&&"string"!=typeof e)return null;var n=e.split("|");return t=l(t,n.length),n[t]?n[t].trim():e}var h=e.util,v=h.isObject,y=h.bind,m=d(e),g=_(e);return e.t=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(!e)return"";var c=t.apply(void 0,r),u=c.lang,l=c.fallback,f=c.params;return s(u,e,null,i(a,u,l,e,f))},e.tc=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return p(e.t.apply(e,[t].concat(o)),n)},e.te=function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var s=t.apply(void 0,o),c=s.lang;return n(a(c),e)},e.prototype.$t=function(e){if(!e)return"";for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var u=t.apply(void 0,r),l=u.lang,f=u.fallback,d=u.params,p=null;return this.$options.locales&&(p=i(y(c,this),l,f,e,d))?p:s(l,e,this,i(a,l,f,e,d))},e.prototype.$tc=function(e,t){if("number"!=typeof t&&"undefined"!=typeof t)return e;for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return p(this.$t.apply(this,[e].concat(r)),t)},e.prototype.$te=function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var s=t.apply(void 0,o),u=s.lang,l=!1;return this.$options.locales&&(l=n(y(c)(u),e)),l||(l=n(a(u),e)),l},e.mixin({computed:{$lang:function(){return e.config.lang}}}),e}function w(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e.version&&Number(e.version.split(".")[0])||-1),n="en";k(e,n),o(e,z),a(e,z,t),l(e,z,n),b(e)}function k(e,t){var n=e.config.silent;e.config.silent=!0,z||(z=new e({data:{lang:t,locales:{}}})),e.config.silent=n}var x={};x.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var A=void 0,S=void 0,E=void 0,C=null,O=null,j=/(%|)\{([0-9a-zA-Z_]+)\}/g,T=Object.create(null),D=0,B=1,I=2,R=3,q=0,L=1,N=2,P=3,M=4,$=5,U=6,F=7,V=8,J=[];J[q]={ws:[q],ident:[P,D],"[":[M],eof:[F]},J[L]={ws:[L],".":[N],"[":[M],eof:[F]},J[N]={ws:[N],ident:[P,D],0:[P,D],number:[P,D]},J[P]={ident:[P,D],0:[P,D],number:[P,D],ws:[L,B],".":[N,B],"[":[M,B],eof:[F,B]},J[M]={"'":[$,D],'"':[U,D],"[":[M,I],"]":[L,R],eof:V,else:[M,D]},J[$]={"'":[M,D],eof:V,else:[$,D]},J[U]={'"':[M,D],eof:V,else:[U,D]};var K=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,z=void 0;w.version="__VERSION__","undefined"!=typeof window&&window.Vue&&window.Vue.use(w),t.exports=w},{}],79:[function(e,t,n){(function(e){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.Vue=r()}(this,function(){"use strict";function t(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function n(e){var t=parseFloat(e);return isNaN(t)?e:t}function r(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function o(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function i(e,t){return yo.call(e,t)}function s(e){return"string"==typeof e||"number"==typeof e}function a(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}function c(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function u(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function l(e,t){for(var n in t)e[n]=t[n];return e}function f(e){return null!==e&&"object"==typeof e}function d(e){return ko.call(e)===xo}function p(e){for(var t={},n=0;n<e.length;n++)e[n]&&l(t,e[n]);return t}function h(){}function v(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}function y(e,t){var n=f(e),r=f(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}function m(e,t){for(var n=0;n<e.length;n++)if(y(e[n],t))return n;return-1}function g(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function _(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function b(e){if(!Co.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function w(e){return/native code/.test(e.toString())}function k(e){Jo.target&&Ko.push(Jo.target),Jo.target=e}function x(){Jo.target=Ko.pop()}function A(e,t){e.__proto__=t}function S(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];_(e,i,t[i])}}function E(e,t){if(f(e)){var n;return i(e,"__ob__")&&e.__ob__ instanceof Qo?n=e.__ob__:Wo.shouldConvert&&!Lo()&&(Array.isArray(e)||d(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Qo(e)),t&&n&&n.vmCount++,n}}function C(e,t,n,r){var o=new Jo,i=Object.getOwnPropertyDescriptor(e,t);if(!i||i.configurable!==!1){var s=i&&i.get,a=i&&i.set,c=E(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return Jo.target&&(o.depend(),c&&c.dep.depend(),Array.isArray(t)&&T(t)),t},set:function(t){var i=s?s.call(e):n;t===i||t!==t&&i!==i||(r&&r(),a?a.call(e,t):n=t,c=E(t),o.notify())}})}}function O(e,t,n){if(Array.isArray(e))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(i(e,t))return void(e[t]=n);var r=e.__ob__;return e._isVue||r&&r.vmCount?void $o("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."):r?(C(r.value,t,n),r.dep.notify(),n):void(e[t]=n)}function j(e,t){var n=e.__ob__;return e._isVue||n&&n.vmCount?void $o("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):void(i(e,t)&&(delete e[t],n&&n.dep.notify()))}function T(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&T(t)}function D(e,t){if(!t)return e;for(var n,r,o,s=Object.keys(t),a=0;a<s.length;a++)n=s[a],r=e[n],o=t[n],i(e,n)?d(r)&&d(o)&&D(r,o):O(e,n,o);return e}function B(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function I(e,t){var n=Object.create(e||null);return t?l(n,t):n}function R(e){for(var t in e.components){var n=t.toLowerCase();(vo(n)||Eo.isReservedTag(n))&&$o("Do not use built-in or reserved HTML elements as component id: "+t)}}function q(e){var t=e.props;if(t){var n,r,o,i={};if(Array.isArray(t))for(n=t.length;n--;)r=t[n],"string"==typeof r?(o=go(r),i[o]={type:null}):$o("props must be strings when using array syntax.");else if(d(t))for(var s in t)r=t[s],o=go(s),i[o]=d(r)?r:{type:r};e.props=i}}function L(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}function N(e,t,n){function r(r){var o=Xo[r]||Zo;l[r]=o(e[r],t[r],n,r)}R(t),q(t),L(t);var o=t.extends;if(o&&(e="function"==typeof o?N(e,o.options,n):N(e,o,n)),t.mixins)for(var s=0,a=t.mixins.length;s<a;s++){var c=t.mixins[s];c.prototype instanceof Ke&&(c=c.options),e=N(e,c,n)}var u,l={};for(u in e)r(u);for(u in t)i(e,u)||r(u);return l}function P(e,t,n,r){if("string"==typeof n){var o=e[t];if(i(o,n))return o[n];var s=go(n);if(i(o,s))return o[s];var a=_o(s);if(i(o,a))return o[a];var c=o[n]||o[s]||o[a];return r&&!c&&$o("Failed to resolve "+t.slice(0,-1)+": "+n,e),c}}function M(e,t,n,r){var o=t[e],s=!i(n,e),a=n[e];if(J(Boolean,o.type)&&(s&&!i(o,"default")?a=!1:J(String,o.type)||""!==a&&a!==wo(e)||(a=!0)),void 0===a){a=$(r,o,e);var c=Wo.shouldConvert;Wo.shouldConvert=!0,E(a),Wo.shouldConvert=c}return U(o,e,a,r,s),a}function $(e,t,n){if(i(t,"default")){var r=t.default;return f(r)&&$o('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',e),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e[n]?e[n]:"function"==typeof r&&t.type!==Function?r.call(e):r}}function U(e,t,n,r,o){if(e.required&&o)return void $o('Missing required prop: "'+t+'"',r);if(null!=n||e.required){var i=e.type,s=!i||i===!0,a=[];if(i){Array.isArray(i)||(i=[i]);for(var c=0;c<i.length&&!s;c++){var u=F(n,i[c]);a.push(u.expectedType||""),s=u.valid}}if(!s)return void $o('Invalid prop: type check failed for prop "'+t+'". Expected '+a.map(_o).join(", ")+", got "+Object.prototype.toString.call(n).slice(8,-1)+".",r);var l=e.validator;l&&(l(n)||$o('Invalid prop: custom validator check failed for prop "'+t+'".',r))}}function F(e,t){var n,r=V(t);return n="String"===r?typeof e==(r="string"):"Number"===r?typeof e==(r="number"):"Boolean"===r?typeof e==(r="boolean"):"Function"===r?typeof e==(r="function"):"Object"===r?d(e):"Array"===r?Array.isArray(e):e instanceof t,{valid:n,expectedType:r}}function V(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t&&t[1]}function J(e,t){if(!Array.isArray(t))return V(t)===V(e);for(var n=0,r=t.length;n<r;n++)if(V(t[n])===V(e))return!0;return!1}function K(e){return new ai(void 0,void 0,void 0,String(e))}function z(e){var t=new ai(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isCloned=!0,t}function G(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=z(e[n]);return t}function H(e,t,n,r,o){if(e){var i=n.$options._base;if(f(e)&&(e=i.extend(e)),"function"!=typeof e)return void $o("Invalid Component definition: "+String(e),n);if(!e.cid)if(e.resolved)e=e.resolved;else if(e=te(e,i,function(){n.$forceUpdate()}),!e)return;Je(e),t=t||{};var s=ne(t,e);if(e.options.functional)return W(e,s,t,n,r);var a=t.on;t.on=t.nativeOn,e.options.abstract&&(t={}),oe(t);var c=e.options.name||o,u=new ai("vue-component-"+e.cid+(c?"-"+c:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:s,listeners:a,tag:o,children:r});return u}}function W(e,t,n,r,o){var i={},s=e.options.props;if(s)for(var a in s)i[a]=M(a,s,t);var c=Object.create(r),u=function(e,t,n,r){return pe(c,e,t,n,r,!0)},l=e.options.render.call(null,u,{props:i,data:n,parent:r,children:o,slots:function(){return ge(o,r)}});return l instanceof ai&&(l.functionalContext=r,n.slot&&((l.data||(l.data={})).slot=n.slot)),l}function Q(e,t,n,r){var o=e.componentOptions,i={_isComponent:!0,parent:t,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:r||null},s=e.data.inlineTemplate;return s&&(i.render=s.render,i.staticRenderFns=s.staticRenderFns),new o.Ctor(i)}function X(e,t,n,r){if(!e.componentInstance||e.componentInstance._isDestroyed){var o=e.componentInstance=Q(e,yi,n,r);o.$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var i=e;Y(i,i)}}function Y(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;r._updateFromParent(n.propsData,n.listeners,t,n.children)}function Z(e){e.componentInstance._isMounted||(e.componentInstance._isMounted=!0,Ee(e.componentInstance,"mounted")),e.data.keepAlive&&(e.componentInstance._inactive=!1,Ee(e.componentInstance,"activated"))}function ee(e){e.componentInstance._isDestroyed||(e.data.keepAlive?(e.componentInstance._inactive=!0,Ee(e.componentInstance,"deactivated")):e.componentInstance.$destroy())}function te(e,t,n){if(!e.requested){e.requested=!0;var r=e.pendingCallbacks=[n],o=!0,i=function(n){if(f(n)&&(n=t.extend(n)),e.resolved=n,!o)for(var i=0,s=r.length;i<s;i++)r[i](n)},s=function(t){$o("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:""))},a=e(i,s);return a&&"function"==typeof a.then&&!e.resolved&&a.then(i,s),o=!1,e.resolved}e.pendingCallbacks.push(n)}function ne(e,t){var n=t.options.props;if(n){var r={},o=e.attrs,i=e.props,s=e.domProps;if(o||i||s)for(var a in n){var c=wo(a);re(r,i,a,c,!0)||re(r,o,a,c)||re(r,s,a,c)}return r}}function re(e,t,n,r,o){if(t){if(i(t,n))return e[n]=t[n],o||delete t[n],!0;if(i(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function oe(e){e.hook||(e.hook={});for(var t=0;t<di.length;t++){var n=di[t],r=e.hook[n],o=fi[n];e.hook[n]=r?ie(o,r):o}}function ie(e,t){return function(n,r,o,i){e(n,r,o,i),t(n,r,o,i)}}function se(e,t,n,r){r+=t;var o=e.__injected||(e.__injected={});if(!o[r]){o[r]=!0;var i=e[t];i?e[t]=function(){i.apply(this,arguments),n.apply(this,arguments)}:e[t]=n}}function ae(e){var t={fn:e,invoker:function(){var e=arguments,n=t.fn;if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r].apply(null,e);else n.apply(null,arguments)}};return t}function ce(e,t,n,r,o){var i,s,a,c;for(i in e)s=e[i],a=t[i],c=pi(i),s?a?s!==a&&(a.fn=s,e[i]=a):(s.invoker||(s=e[i]=ae(s)),n(c.name,s.invoker,c.once,c.capture)):$o('Invalid handler for event "'+c.name+'": got '+String(s),o);for(i in t)e[i]||(c=pi(i),r(c.name,t[i].invoker,c.capture))}function ue(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function le(e){return s(e)?[K(e)]:Array.isArray(e)?fe(e):void 0}function fe(e,t){var n,r,o,i=[];for(n=0;n<e.length;n++)r=e[n],null!=r&&"boolean"!=typeof r&&(o=i[i.length-1],Array.isArray(r)?i.push.apply(i,fe(r,(t||"")+"_"+n)):s(r)?o&&o.text?o.text+=String(r):""!==r&&i.push(K(r)):r.text&&o&&o.text?i[i.length-1]=K(o.text+r.text):(r.tag&&null==r.key&&null!=t&&(r.key="__vlist"+t+"_"+n+"__"),i.push(r)));return i}function de(e){return e&&e.filter(function(e){return e&&e.componentOptions})[0]}function pe(e,t,n,r,o,i){return(Array.isArray(n)||s(n))&&(o=r,r=n,n=void 0),i&&(o=vi),he(e,t,n,r,o)}function he(e,t,n,r,o){if(n&&n.__ob__)return $o("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",e),li();if(!t)return li();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===vi?r=le(r):o===hi&&(r=ue(r));var i,s;if("string"==typeof t){var a;s=Eo.getTagNamespace(t),i=Eo.isReservedTag(t)?new ai(Eo.parsePlatformTagName(t),n,r,void 0,void 0,e):(a=P(e.$options,"components",t))?H(a,n,e,r,t):new ai(t,n,r,void 0,void 0,e)}else i=H(t,n,e,r);return i?(s&&ve(i,s),i):li()}function ve(e,t){if(e.ns=t,"foreignObject"!==e.tag&&e.children)for(var n=0,r=e.children.length;n<r;n++){var o=e.children[n];o.tag&&!o.ns&&ve(o,t)}}function ye(e){e.$vnode=null,e._vnode=null,e._staticTrees=null;var t=e.$options._parentVnode,n=t&&t.context;e.$slots=ge(e.$options._renderChildren,n),e.$scopedSlots={},e._c=function(t,n,r,o){return pe(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return pe(e,t,n,r,o,!0)}}function me(e){function r(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&o(e[r],t+"_"+r,n);else o(e,t,n)}function o(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}e.prototype.$nextTick=function(e){return Po(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t.staticRenderFns,o=t._parentVnode;if(e._isMounted)for(var i in e.$slots)e.$slots[i]=G(e.$slots[i]);o&&o.data.scopedSlots&&(e.$scopedSlots=o.data.scopedSlots),r&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=o;var s;try{s=n.call(e._renderProxy,e.$createElement)}catch(t){if(!Eo.errorHandler)throw $o("Error when rendering "+Mo(e)+":"),t;Eo.errorHandler.call(null,t,e),s=e._vnode}return s instanceof ai||(Array.isArray(s)&&$o("Multiple root nodes returned from render function. Render function should return a single root node.",e),s=li()),s.parent=o,s},e.prototype._s=t,e.prototype._v=K,e.prototype._n=n,e.prototype._e=li,e.prototype._q=y,e.prototype._i=m,e.prototype._m=function(e,t){var n=this._staticTrees[e];return n&&!t?Array.isArray(n)?G(n):z(n):(n=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),r(n,"__static__"+e,!1),n)},e.prototype._o=function(e,t,n){return r(e,"__once__"+t+(n?"_"+n:""),!0),e},e.prototype._f=function(e){return P(this.$options,"filters",e,!0)||So},e.prototype._l=function(e,t){var n,r,o,i,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(f(e))for(i=Object.keys(e),n=new Array(i.length),r=0,o=i.length;r<o;r++)s=i[r],n[r]=t(e[s],s,r);return n},e.prototype._t=function(e,t,n,r){var o=this.$scopedSlots[e];if(o)return n=n||{},r&&l(n,r),o(n)||t;var i=this.$slots[e];return i&&(i._rendered&&$o('Duplicate presence of slot "'+e+'" found in the same render tree - this will likely cause render errors.',this),i._rendered=!0),i||t},e.prototype._b=function(e,t,n,r){if(n)if(f(n)){Array.isArray(n)&&(n=p(n));for(var o in n)if("class"===o||"style"===o)e[o]=n[o];else{var i=e.attrs&&e.attrs.type,s=r||Eo.mustUseProp(t,i,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={});s[o]=n[o]}}else $o("v-bind without argument expects an Object or Array value",this);return e},e.prototype._k=function(e,t,n){var r=Eo.keyCodes[t]||n;return Array.isArray(r)?r.indexOf(e)===-1:r!==e}}function ge(e,t){var n={};if(!e)return n;for(var r,o,i=[],s=0,a=e.length;s<a;s++)if(o=e[s],
(o.context===t||o.functionalContext===t)&&o.data&&(r=o.data.slot)){var c=n[r]||(n[r]=[]);"template"===o.tag?c.push.apply(c,o.children):c.push(o)}else i.push(o);return i.length&&(1!==i.length||" "!==i[0].text&&!i[0].isComment)&&(n.default=i),n}function _e(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ke(e,t)}function be(e,t,n){n?ui.$once(e,t):ui.$on(e,t)}function we(e,t){ui.$off(e,t)}function ke(e,t,n){ui=e,ce(t,n||{},be,we,e)}function xe(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;return(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0),r},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;var r=n._events[e];if(!r)return n;if(1===arguments.length)return n._events[e]=null,n;for(var o,i=r.length;i--;)if(o=r[i],o===t||o.fn===t){r.splice(i,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?u(n):n;for(var r=u(arguments,1),o=0,i=n.length;o<i;o++)n[o].apply(t,r)}return t}}function Ae(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Se(e){e.prototype._mount=function(e,t){var n=this;return n.$el=e,n.$options.render||(n.$options.render=li,n.$options.template&&"#"!==n.$options.template.charAt(0)?$o("You are using the runtime-only build of Vue where the template option is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",n):$o("Failed to mount component: template or render function not defined.",n)),Ee(n,"beforeMount"),n._watcher=new Ai(n,function(){n._update(n._render(),t)},h),t=!1,null==n.$vnode&&(n._isMounted=!0,Ee(n,"mounted")),n},e.prototype._update=function(e,t){var n=this;n._isMounted&&Ee(n,"beforeUpdate");var r=n.$el,o=n._vnode,i=yi;yi=n,n._vnode=e,o?n.$el=n.__patch__(o,e):n.$el=n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),yi=i,r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype._updateFromParent=function(e,t,n,r){var o=this,i=!(!o.$options._renderChildren&&!r);if(o.$options._parentVnode=n,o.$vnode=n,o._vnode&&(o._vnode.parent=n),o.$options._renderChildren=r,e&&o.$options.props){Wo.shouldConvert=!1,Wo.isSettingProps=!0;for(var s=o.$options._propKeys||[],a=0;a<s.length;a++){var c=s[a];o[c]=M(c,o.$options.props,e,o)}Wo.shouldConvert=!0,Wo.isSettingProps=!1,o.$options.propsData=e}if(t){var u=o.$options._parentListeners;o.$options._parentListeners=t,ke(o,t,u)}i&&(o.$slots=ge(r,n.context),o.$forceUpdate())},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ee(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||o(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,Ee(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.__patch__(e._vnode,null)}}}function Ee(e,t){var n=e.$options[t];if(n)for(var r=0,o=n.length;r<o;r++)n[r].call(e);e._hasHookEvent&&e.$emit("hook:"+t)}function Ce(){mi.length=0,gi={},_i={},bi=wi=!1}function Oe(){wi=!0;var e,t,n;for(mi.sort(function(e,t){return e.id-t.id}),ki=0;ki<mi.length;ki++)if(e=mi[ki],t=e.id,gi[t]=null,e.run(),null!=gi[t]&&(_i[t]=(_i[t]||0)+1,_i[t]>Eo._maxUpdateCount)){$o("You may have an infinite update loop "+(e.user?'in watcher with expression "'+e.expression+'"':"in a component render function."),e.vm);break}for(ki=mi.length;ki--;)e=mi[ki],n=e.vm,n._watcher===e&&n._isMounted&&Ee(n,"updated");No&&Eo.devtools&&No.emit("flush"),Ce()}function je(e){var t=e.id;if(null==gi[t]){if(gi[t]=!0,wi){for(var n=mi.length-1;n>=0&&mi[n].id>e.id;)n--;mi.splice(Math.max(n,ki)+1,0,e)}else mi.push(e);bi||(bi=!0,Po(Oe))}}function Te(e){Si.clear(),De(e,Si)}function De(e,t){var n,r,o=Array.isArray(e);if((o||f(e))&&Object.isExtensible(e)){if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o)for(n=e.length;n--;)De(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)De(e[r[n]],t)}}function Be(e){e._watchers=[];var t=e.$options;t.props&&Ie(e,t.props),t.methods&&Ne(e,t.methods),t.data?Re(e):E(e._data={},!0),t.computed&&qe(e,t.computed),t.watch&&Pe(e,t.watch)}function Ie(e,t){var n=e.$options.propsData||{},r=e.$options._propKeys=Object.keys(t),o=!e.$parent;Wo.shouldConvert=o;for(var i=function(o){var i=r[o];Ei[i]&&$o('"'+i+'" is a reserved attribute and cannot be used as component prop.',e),C(e,i,M(i,t,n,e),function(){e.$parent&&!Wo.isSettingProps&&$o("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+i+'"',e)})},s=0;s<r.length;s++)i(s);Wo.shouldConvert=!0}function Re(e){var t=e.$options.data;t=e._data="function"==typeof t?t.call(e):t||{},d(t)||(t={},$o("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",e));for(var n=Object.keys(t),r=e.$options.props,o=n.length;o--;)r&&i(r,n[o])?$o('The data property "'+n[o]+'" is already declared as a prop. Use prop default value instead.',e):Ue(e,n[o]);E(t,!0)}function qe(e,t){for(var n in t){n in e&&$o('existing instance property "'+n+'" will be overwritten by a computed property with the same name.',e);var r=t[n];"function"==typeof r?(Ci.get=Le(r,e),Ci.set=h):(Ci.get=r.get?r.cache!==!1?Le(r.get,e):c(r.get,e):h,Ci.set=r.set?c(r.set,e):h),Object.defineProperty(e,n,Ci)}}function Le(e,t){var n=new Ai(t,e,h,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Jo.target&&n.depend(),n.value}}function Ne(e,t){for(var n in t)e[n]=null==t[n]?h:c(t[n],e),null==t[n]&&$o('method "'+n+'" has an undefined value in the component definition. Did you reference the function correctly?',e)}function Pe(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)Me(e,n,r[o]);else Me(e,n,r)}}function Me(e,t,n){var r;d(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function $e(e){var t={};t.get=function(){return this._data},t.set=function(e){$o("Avoid replacing instance root $data. Use nested data properties instead.",this)},Object.defineProperty(e.prototype,"$data",t),e.prototype.$set=O,e.prototype.$delete=j,e.prototype.$watch=function(e,t,n){var r=this;n=n||{},n.user=!0;var o=new Ai(r,e,t,n);return n.immediate&&t.call(r,o.value),function(){o.teardown()}}}function Ue(e,t){g(t)||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(n){e._data[t]=n}})}function Fe(e){e.prototype._init=function(e){var t=this;t._uid=Oi++,t._isVue=!0,e&&e._isComponent?Ve(t,e):t.$options=N(Je(t.constructor),e||{},t),Yo(t),t._self=t,Ae(t),_e(t),ye(t),Ee(t,"beforeCreate"),Be(t),Ee(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Ve(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Je(e){var t=e.options;if(e.super){var n=e.super.options,r=e.superOptions,o=e.extendOptions;n!==r&&(e.superOptions=n,o.render=t.render,o.staticRenderFns=t.staticRenderFns,o._scopeId=t._scopeId,t=e.options=N(n,o),t.name&&(t.components[t.name]=e))}return t}function Ke(e){this instanceof Ke||$o("Vue is a constructor and should be called with the `new` keyword"),this._init(e)}function ze(e){e.use=function(e){if(!e.installed){var t=u(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):e.apply(null,t),e.installed=!0,this}}}function Ge(e){e.mixin=function(e){this.options=N(this.options,e)}}function He(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name;/^[a-zA-Z][\w-]*$/.test(i)||$o('Invalid component name: "'+i+'". Component names can only contain alphanumeric characters and the hyphen, and must start with a letter.');var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=N(n.options,e),s.super=n,s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,Eo._assetTypes.forEach(function(e){s[e]=n[e]}),i&&(s.options.components[i]=s),s.superOptions=n.options,s.extendOptions=e,o[r]=s,s}}function We(e){Eo._assetTypes.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&Eo.isReservedTag(e)&&$o("Do not use built-in or reserved HTML elements as component id: "+e),"component"===t&&d(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function Qe(e){return e&&(e.Ctor.options.name||e.tag)}function Xe(e,t){return"string"==typeof e?e.split(",").indexOf(t)>-1:e.test(t)}function Ye(e,t){for(var n in e){var r=e[n];if(r){var o=Qe(r.componentOptions);o&&!t(o)&&(Ze(r),e[n]=null)}}}function Ze(e){e&&(e.componentInstance._inactive||Ee(e.componentInstance,"deactivated"),e.componentInstance.$destroy())}function et(e){var t={};t.get=function(){return Eo},t.set=function(){$o("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(e,"config",t),e.util=ei,e.set=O,e.delete=j,e.nextTick=Po,e.options=Object.create(null),Eo._assetTypes.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,l(e.options.components,Di),ze(e),Ge(e),He(e),We(e)}function tt(e){for(var t=e.data,n=e,r=e;r.componentInstance;)r=r.componentInstance._vnode,r.data&&(t=nt(r.data,t));for(;n=n.parent;)n.data&&(t=nt(t,n.data));return rt(t)}function nt(e,t){return{staticClass:ot(e.staticClass,t.staticClass),class:e.class?[e.class,t.class]:t.class}}function rt(e){var t=e.class,n=e.staticClass;return n||t?ot(n,it(t)):""}function ot(e,t){return e?t?e+" "+t:e:t||""}function it(e){var t="";if(!e)return t;if("string"==typeof e)return e;if(Array.isArray(e)){for(var n,r=0,o=e.length;r<o;r++)e[r]&&(n=it(e[r]))&&(t+=n+" ");return t.slice(0,-1)}if(f(e)){for(var i in e)e[i]&&(t+=i+" ");return t.slice(0,-1)}return t}function st(e){return Ji(e)?"svg":"math"===e?"math":void 0}function at(e){if(!jo)return!0;if(zi(e))return!1;if(e=e.toLowerCase(),null!=Gi[e])return Gi[e];var t=document.createElement(e);return e.indexOf("-")>-1?Gi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Gi[e]=/HTMLUnknownElement/.test(t.toString())}function ct(e){if("string"==typeof e){var t=e;if(e=document.querySelector(e),!e)return $o("Cannot find element: "+t),document.createElement("div")}return e}function ut(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&"multiple"in t.data.attrs&&n.setAttribute("multiple","multiple"),n)}function lt(e,t){return document.createElementNS(Fi[e],t)}function ft(e){return document.createTextNode(e)}function dt(e){return document.createComment(e)}function pt(e,t,n){e.insertBefore(t,n)}function ht(e,t){e.removeChild(t)}function vt(e,t){e.appendChild(t)}function yt(e){return e.parentNode}function mt(e){return e.nextSibling}function gt(e){return e.tagName}function _t(e,t){e.textContent=t}function bt(e,t,n){e.setAttribute(t,n)}function wt(e,t){var n=e.data.ref;if(n){var r=e.context,i=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?o(s[n],i):s[n]===i&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])&&s[n].indexOf(i)<0?s[n].push(i):s[n]=[i]:s[n]=i}}function kt(e){return null==e}function xt(e){return null!=e}function At(e,t){return e.key===t.key&&e.tag===t.tag&&e.isComment===t.isComment&&!e.data==!t.data}function St(e,t,n){var r,o,i={};for(r=t;r<=n;++r)o=e[r].key,xt(o)&&(i[o]=r);return i}function Et(e){function t(e){return new ai(O.tagName(e).toLowerCase(),{},[],void 0,e)}function n(e,t){function n(){0===--n.listeners&&o(e)}return n.listeners=t,n}function o(e){var t=O.parentNode(e);t&&O.removeChild(t,e)}function i(e,t,n,r,o){if(e.isRootInsert=!o,!a(e,t,n,r)){var i=e.data,s=e.children,c=e.tag;xt(c)?(i&&i.pre&&j++,j||e.ns||Eo.ignoredElements.length&&Eo.ignoredElements.indexOf(c)>-1||!Eo.isUnknownElement(c)||$o("Unknown custom element: <"+c+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',e.context),e.elm=e.ns?O.createElementNS(e.ns,c):O.createElement(c,e),h(e),f(e,s,t),xt(i)&&p(e,t),l(n,e.elm,r),i&&i.pre&&j--):e.isComment?(e.elm=O.createComment(e.text),l(n,e.elm,r)):(e.elm=O.createTextNode(e.text),l(n,e.elm,r))}}function a(e,t,n,r){var o=e.data;if(xt(o)){var i=xt(e.componentInstance)&&o.keepAlive;if(xt(o=o.hook)&&xt(o=o.init)&&o(e,!1,n,r),xt(e.componentInstance))return c(e,t),i&&u(e,t,n,r),!0}}function c(e,t){e.data.pendingInsert&&t.push.apply(t,e.data.pendingInsert),e.elm=e.componentInstance.$el,d(e)?(p(e,t),h(e)):(wt(e),t.push(e))}function u(e,t,n,r){for(var o,i=e;i.componentInstance;)if(i=i.componentInstance._vnode,xt(o=i.data)&&xt(o=o.transition)){for(o=0;o<E.activate.length;++o)E.activate[o](Qi,i);t.push(i);break}l(n,e.elm,r)}function l(e,t,n){e&&(n?O.insertBefore(e,t,n):O.appendChild(e,t))}function f(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)i(t[r],n,e.elm,null,!0);else s(e.text)&&O.appendChild(e.elm,O.createTextNode(e.text))}function d(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return xt(e.tag)}function p(e,t){for(var n=0;n<E.create.length;++n)E.create[n](Qi,e);A=e.data.hook,xt(A)&&(A.create&&A.create(Qi,e),A.insert&&t.push(e))}function h(e){var t;xt(t=e.context)&&xt(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,""),xt(t=yi)&&t!==e.context&&xt(t=t.$options._scopeId)&&O.setAttribute(e.elm,t,"")}function v(e,t,n,r,o,s){for(;r<=o;++r)i(n[r],s,e,t)}function y(e){var t,n,r=e.data;if(xt(r))for(xt(t=r.hook)&&xt(t=t.destroy)&&t(e),t=0;t<E.destroy.length;++t)E.destroy[t](e);if(xt(t=e.children))for(n=0;n<e.children.length;++n)y(e.children[n])}function m(e,t,n,r){for(;n<=r;++n){var i=t[n];xt(i)&&(xt(i.tag)?(g(i),y(i)):o(i.elm))}}function g(e,t){if(t||xt(e.data)){var r=E.remove.length+1;for(t?t.listeners+=r:t=n(e.elm,r),xt(A=e.componentInstance)&&xt(A=A._vnode)&&xt(A.data)&&g(A,t),A=0;A<E.remove.length;++A)E.remove[A](e,t);xt(A=e.data.hook)&&xt(A=A.remove)?A(e,t):t()}else o(e.elm)}function _(e,t,n,r,o){for(var s,a,c,u,l=0,f=0,d=t.length-1,p=t[0],h=t[d],y=n.length-1,g=n[0],_=n[y],w=!o;l<=d&&f<=y;)kt(p)?p=t[++l]:kt(h)?h=t[--d]:At(p,g)?(b(p,g,r),p=t[++l],g=n[++f]):At(h,_)?(b(h,_,r),h=t[--d],_=n[--y]):At(p,_)?(b(p,_,r),w&&O.insertBefore(e,p.elm,O.nextSibling(h.elm)),p=t[++l],_=n[--y]):At(h,g)?(b(h,g,r),w&&O.insertBefore(e,h.elm,p.elm),h=t[--d],g=n[++f]):(kt(s)&&(s=St(t,l,d)),a=xt(g.key)?s[g.key]:null,kt(a)?(i(g,r,e,p.elm),g=n[++f]):(c=t[a],c||$o("It seems there are duplicate keys that is causing an update error. Make sure each v-for item has a unique key."),At(c,g)?(b(c,g,r),t[a]=void 0,w&&O.insertBefore(e,g.elm,p.elm),g=n[++f]):(i(g,r,e,p.elm),g=n[++f])));l>d?(u=kt(n[y+1])?null:n[y+1].elm,v(e,u,n,f,y,r)):f>y&&m(e,t,l,d)}function b(e,t,n,r){if(e!==t){if(t.isStatic&&e.isStatic&&t.key===e.key&&(t.isCloned||t.isOnce))return t.elm=e.elm,void(t.componentInstance=e.componentInstance);var o,i=t.data,s=xt(i);s&&xt(o=i.hook)&&xt(o=o.prepatch)&&o(e,t);var a=t.elm=e.elm,c=e.children,u=t.children;if(s&&d(t)){for(o=0;o<E.update.length;++o)E.update[o](e,t);xt(o=i.hook)&&xt(o=o.update)&&o(e,t)}kt(t.text)?xt(c)&&xt(u)?c!==u&&_(a,c,u,n,r):xt(u)?(xt(e.text)&&O.setTextContent(a,""),v(a,null,u,0,u.length-1,n)):xt(c)?m(a,c,0,c.length-1):xt(e.text)&&O.setTextContent(a,""):e.text!==t.text&&O.setTextContent(a,t.text),s&&xt(o=i.hook)&&xt(o=o.postpatch)&&o(e,t)}}function w(e,t,n){if(n&&e.parent)e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}function k(e,t,n){if(!x(e,t))return!1;t.elm=e;var r=t.tag,o=t.data,i=t.children;if(xt(o)&&(xt(A=o.hook)&&xt(A=A.init)&&A(t,!0),xt(A=t.componentInstance)))return c(t,n),!0;if(xt(r)){if(xt(i))if(e.hasChildNodes()){for(var s=!0,a=e.firstChild,u=0;u<i.length;u++){if(!a||!k(a,i[u],n)){s=!1;break}a=a.nextSibling}if(!s||a)return"undefined"==typeof console||T||(T=!0,console.warn("Parent: ",e),console.warn("Mismatching childNodes vs. VNodes: ",e.childNodes,i)),!1}else f(t,i,n);if(xt(o))for(var l in o)if(!D(l)){p(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}function x(e,t){return t.tag?0===t.tag.indexOf("vue-component")||t.tag.toLowerCase()===(e.tagName&&e.tagName.toLowerCase()):e.nodeType===(t.isComment?8:3)}var A,S,E={},C=e.modules,O=e.nodeOps;for(A=0;A<Xi.length;++A)for(E[Xi[A]]=[],S=0;S<C.length;++S)void 0!==C[S][Xi[A]]&&E[Xi[A]].push(C[S][Xi[A]]);var j=0,T=!1,D=r("attrs,style,class,staticClass,staticStyle,key");return function(e,n,r,o,s,a){if(!n)return void(e&&y(e));var c=!1,u=[];if(e){var l=xt(e.nodeType);if(!l&&At(e,n))b(e,n,u,o);else{if(l){if(1===e.nodeType&&e.hasAttribute("server-rendered")&&(e.removeAttribute("server-rendered"),r=!0),r){if(k(e,n,u))return w(n,u,!0),e;$o("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=t(e)}var f=e.elm,p=O.parentNode(f);if(i(n,u,f._leaveCb?null:p,O.nextSibling(f)),n.parent){for(var h=n.parent;h;)h.elm=n.elm,h=h.parent;if(d(n))for(var v=0;v<E.create.length;++v)E.create[v](Qi,n.parent)}null!==p?m(p,[e],0,0):xt(e.tag)&&y(e)}}else c=!0,i(n,u,s,a);return w(n,u,c),n.elm}}function Ct(e,t){(e.data.directives||t.data.directives)&&Ot(e,t)}function Ot(e,t){var n,r,o,i=e===Qi,s=t===Qi,a=jt(e.data.directives,e.context),c=jt(t.data.directives,t.context),u=[],l=[];for(n in c)r=a[n],o=c[n],r?(o.oldValue=r.value,Dt(o,"update",t,e),o.def&&o.def.componentUpdated&&l.push(o)):(Dt(o,"bind",t,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)Dt(u[n],"inserted",t,e)};i?se(t.data.hook||(t.data.hook={}),"insert",f,"dir-insert"):f()}if(l.length&&se(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<l.length;n++)Dt(l[n],"componentUpdated",t,e)},"dir-postpatch"),!i)for(n in a)c[n]||Dt(a[n],"unbind",e,e,s)}function jt(e,t){var n=Object.create(null);if(!e)return n;var r,o;for(r=0;r<e.length;r++)o=e[r],o.modifiers||(o.modifiers=Zi),n[Tt(o)]=o,o.def=P(t.$options,"directives",o.name,!0);return n}function Tt(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Dt(e,t,n,r,o){var i=e.def&&e.def[t];i&&i(n.elm,e,n,r,o)}function Bt(e,t){if(e.data.attrs||t.data.attrs){var n,r,o,i=t.elm,s=e.data.attrs||{},a=t.data.attrs||{};a.__ob__&&(a=t.data.attrs=l({},a));for(n in a)r=a[n],o=s[n],o!==r&&It(i,n,r);Bo&&a.value!==s.value&&It(i,"value",a.value);for(n in s)null==a[n]&&(Mi(n)?i.removeAttributeNS(Pi,$i(n)):Li(n)||i.removeAttribute(n))}}function It(e,t,n){Ni(t)?Ui(n)?e.removeAttribute(t):e.setAttribute(t,t):Li(t)?e.setAttribute(t,Ui(n)||"false"===n?"false":"true"):Mi(t)?Ui(n)?e.removeAttributeNS(Pi,$i(t)):e.setAttributeNS(Pi,t,n):Ui(n)?e.removeAttribute(t):e.setAttribute(t,n)}function Rt(e,t){var n=t.elm,r=t.data,o=e.data;if(r.staticClass||r.class||o&&(o.staticClass||o.class)){var i=tt(t),s=n._transitionClasses;s&&(i=ot(i,it(s))),i!==n._prevClass&&(n.setAttribute("class",i),n._prevClass=i)}}function qt(e,t,n,r){if(n){var o=t,i=Bi;t=function(n){Lt(e,t,r,i),1===arguments.length?o(n):o.apply(null,arguments)}}Bi.addEventListener(e,t,r)}function Lt(e,t,n,r){(r||Bi).removeEventListener(e,t,n)}function Nt(e,t){if(e.data.on||t.data.on){var n=t.data.on||{},r=e.data.on||{};Bi=t.elm,ce(n,r,qt,Lt,t.context)}}function Pt(e,t){if(e.data.domProps||t.data.domProps){var n,r,o=t.elm,i=e.data.domProps||{},s=t.data.domProps||{};s.__ob__&&(s=t.data.domProps=l({},s));for(n in i)null==s[n]&&(o[n]="");for(n in s)if(r=s[n],"textContent"!==n&&"innerHTML"!==n||(t.children&&(t.children.length=0),r!==i[n]))if("value"===n){o._value=r;var a=null==r?"":String(r);Mt(o,t,a)&&(o.value=a)}else o[n]=r}}function Mt(e,t,n){return!e.composing&&("option"===t.tag||$t(e,n)||Ut(t,n))}function $t(e,t){return document.activeElement!==e&&e.value!==t}function Ut(e,t){var r=e.elm.value,o=e.elm._vModifiers;return o&&o.number||"number"===e.elm.type?n(r)!==n(t):o&&o.trim?r.trim()!==t.trim():r!==t}function Ft(e){var t=Vt(e.style);return e.staticStyle?l(e.staticStyle,t):t}function Vt(e){return Array.isArray(e)?p(e):"string"==typeof e?is(e):e}function Jt(e,t){var n,r={};if(t)for(var o=e;o.componentInstance;)o=o.componentInstance._vnode,o.data&&(n=Ft(o.data))&&l(r,n);(n=Ft(e.data))&&l(r,n);for(var i=e;i=i.parent;)i.data&&(n=Ft(i.data))&&l(r,n);return r}function Kt(e,t){var n=t.data,r=e.data;if(n.staticStyle||n.style||r.staticStyle||r.style){var o,i,s=t.elm,a=e.data.staticStyle,c=e.data.style||{},u=a||c,f=Vt(t.data.style)||{};t.data.style=f.__ob__?l({},f):f;var d=Jt(t,!0);for(i in u)null==d[i]&&cs(s,i,"");for(i in d)o=d[i],o!==u[i]&&cs(s,i,null==o?"":o)}}function zt(e,t){if(t&&t.trim())if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+e.getAttribute("class")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Gt(e,t){if(t&&t.trim())if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t);else{for(var n=" "+e.getAttribute("class")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");e.setAttribute("class",n.trim())}}function Ht(e){_s(function(){_s(e)})}function Wt(e,t){(e._transitionClasses||(e._transitionClasses=[])).push(t),zt(e,t)}function Qt(e,t){e._transitionClasses&&o(e._transitionClasses,t),Gt(e,t)}function Xt(e,t,n){var r=Yt(e,t),o=r.type,i=r.timeout,s=r.propCount;if(!o)return n();var a=o===ps?ys:gs,c=0,u=function(){e.removeEventListener(a,l),n()},l=function(t){t.target===e&&++c>=s&&u()};setTimeout(function(){c<s&&u()},i+1),e.addEventListener(a,l)}function Yt(e,t){var n,r=window.getComputedStyle(e),o=r[vs+"Delay"].split(", "),i=r[vs+"Duration"].split(", "),s=Zt(o,i),a=r[ms+"Delay"].split(", "),c=r[ms+"Duration"].split(", "),u=Zt(a,c),l=0,f=0;t===ps?s>0&&(n=ps,l=s,f=i.length):t===hs?u>0&&(n=hs,l=u,f=c.length):(l=Math.max(s,u),n=l>0?s>u?ps:hs:null,f=n?n===ps?i.length:c.length:0);var d=n===ps&&bs.test(r[vs+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:d}}function Zt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return en(t)+en(e[n])}))}function en(e){return 1e3*Number(e.slice(0,-1))}function tn(e,t){var n=e.elm;n._leaveCb&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=rn(e.data.transition);if(r&&!n._enterCb&&1===n.nodeType){for(var o=r.css,i=r.type,s=r.enterClass,a=r.enterToClass,c=r.enterActiveClass,u=r.appearClass,l=r.appearToClass,f=r.appearActiveClass,d=r.beforeEnter,p=r.enter,h=r.afterEnter,v=r.enterCancelled,y=r.beforeAppear,m=r.appear,g=r.afterAppear,_=r.appearCancelled,b=yi,w=yi.$vnode;w&&w.parent;)w=w.parent,b=w.context;var k=!b._isMounted||!e.isRootInsert;if(!k||m||""===m){var x=k?u:s,A=k?f:c,S=k?l:a,E=k?y||d:d,C=k&&"function"==typeof m?m:p,O=k?g||h:h,j=k?_||v:v,T=o!==!1&&!Bo,D=C&&(C._length||C.length)>1,B=n._enterCb=on(function(){T&&(Qt(n,S),Qt(n,A)),B.cancelled?(T&&Qt(n,x),j&&j(n)):O&&O(n),n._enterCb=null});e.data.show||se(e.data.hook||(e.data.hook={}),"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),C&&C(n,B)},"transition-insert"),E&&E(n),T&&(Wt(n,x),Wt(n,A),Ht(function(){Wt(n,S),Qt(n,x),B.cancelled||D||Xt(n,i,B)})),e.data.show&&(t&&t(),C&&C(n,B)),T||D||B()}}}function nn(e,t){function n(){m.cancelled||(e.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),l&&l(r),v&&(Wt(r,a),Wt(r,u),Ht(function(){Wt(r,c),Qt(r,a),m.cancelled||y||Xt(r,s,m)})),f&&f(r,m),v||y||m())}var r=e.elm;r._enterCb&&(r._enterCb.cancelled=!0,r._enterCb());var o=rn(e.data.transition);if(!o)return t();if(!r._leaveCb&&1===r.nodeType){var i=o.css,s=o.type,a=o.leaveClass,c=o.leaveToClass,u=o.leaveActiveClass,l=o.beforeLeave,f=o.leave,d=o.afterLeave,p=o.leaveCancelled,h=o.delayLeave,v=i!==!1&&!Bo,y=f&&(f._length||f.length)>1,m=r._leaveCb=on(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),v&&(Qt(r,c),Qt(r,u)),m.cancelled?(v&&Qt(r,a),p&&p(r)):(t(),d&&d(r)),r._leaveCb=null});h?h(n):n()}}function rn(e){if(e){if("object"==typeof e){var t={};return e.css!==!1&&l(t,ws(e.name||"v")),l(t,e),t}return"string"==typeof e?ws(e):void 0}}function on(e){var t=!1;return function(){t||(t=!0,e())}}function sn(e,t){t.data.show||tn(t)}function an(e,t,n){var r=t.value,o=e.multiple;if(o&&!Array.isArray(r))return void $o('<select multiple v-model="'+t.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(r).slice(8,-1),n);for(var i,s,a=0,c=e.options.length;a<c;a++)if(s=e.options[a],o)i=m(r,un(s))>-1,s.selected!==i&&(s.selected=i);else if(y(un(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));o||(e.selectedIndex=-1)}function cn(e,t){for(var n=0,r=t.length;n<r;n++)if(y(un(t[n]),e))return!1;return!0}function un(e){return"_value"in e?e._value:e.value}function ln(e){e.target.composing=!0}function fn(e){e.target.composing=!1,dn(e.target,"input")}function dn(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function pn(e){return!e.componentInstance||e.data&&e.data.transition?e:pn(e.componentInstance._vnode)}function hn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?hn(de(t.children)):e}function vn(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[go(i)]=o[i].fn;return t}function yn(e,t){return/\d-keep-alive$/.test(t.tag)?e("keep-alive"):null}function mn(e){for(;e=e.parent;)if(e.data.transition)return!0}function gn(e,t){return t.key===e.key&&t.tag===e.tag}function _n(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function bn(e){e.data.newPos=e.elm.getBoundingClientRect()}function wn(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}function kn(e,t){var n=document.createElement("div");return n.innerHTML='<div a="'+e+'">',n.innerHTML.indexOf(t)>0}function xn(e){return qs=qs||document.createElement("div"),qs.innerHTML=e,qs.textContent}function An(e,t){return t&&(e=e.replace(Oa,"\n")),e.replace(Ea,"<").replace(Ca,">").replace(ja,"&").replace(Ta,'"')}function Sn(e,t){function n(t){f+=t,e=e.substring(t)}function r(){var t=e.match(zs);if(t){var r={tagName:t[1],attrs:[],start:f};n(t[0].length);for(var o,i;!(o=e.match(Gs))&&(i=e.match(Vs));)n(i[0].length),r.attrs.push(i);if(o)return r.unarySlash=o[1],n(o[0].length),r.end=f,r}}function o(e){var n=e.tagName,r=e.unarySlash;u&&("p"===a&&Ms(n)&&i(a),Ps(n)&&a===n&&i(n));for(var o=l(n)||"html"===n&&"head"===a||!!r,s=e.attrs.length,f=new Array(s),d=0;d<s;d++){var p=e.attrs[d];Ys&&p[0].indexOf('""')===-1&&(""===p[3]&&delete p[3],""===p[4]&&delete p[4],""===p[5]&&delete p[5]);var h=p[3]||p[4]||p[5]||"";f[d]={name:p[1],value:An(h,t.shouldDecodeNewlines)}}o||(c.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f}),a=n,r=""),t.start&&t.start(n,f,o,e.start,e.end)}function i(e,n,r){var o,i;if(null==n&&(n=f),null==r&&(r=f),e&&(i=e.toLowerCase()),e)for(o=c.length-1;o>=0&&c[o].lowerCasedTag!==i;o--);else o=0;if(o>=0){for(var s=c.length-1;s>=o;s--)t.end&&t.end(c[s].tag,n,r);c.length=o,a=o&&c[o-1].tag}else"br"===i?t.start&&t.start(e,[],!0,n,r):"p"===i&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}for(var s,a,c=[],u=t.expectHTML,l=t.isUnaryTag||Ao,f=0;e;){if(s=e,a&&Aa(a)){var d=a.toLowerCase(),p=Sa[d]||(Sa[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),h=0,v=e.replace(p,function(e,n,r){return h=r.length,"script"!==d&&"style"!==d&&"noscript"!==d&&(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),t.chars&&t.chars(n),""});f+=e.length-v.length,e=v,i(d,f-h,f)}else{var y=e.indexOf("<");if(0===y){if(Qs.test(e)){var m=e.indexOf("-->");if(m>=0){n(m+3);continue}}if(Xs.test(e)){var g=e.indexOf("]>");if(g>=0){n(g+2);continue}}var _=e.match(Ws);if(_){n(_[0].length);continue}var b=e.match(Hs);if(b){var w=f;n(b[0].length),i(b[1],w,f);continue}var k=r();if(k){o(k);continue}}var x=void 0,A=void 0,S=void 0;if(y>0){for(A=e.slice(y);!(Hs.test(A)||zs.test(A)||Qs.test(A)||Xs.test(A)||(S=A.indexOf("<",1),S<0));)y+=S,A=e.slice(y);x=e.substring(0,y),n(y)}y<0&&(x=e,e=""),t.chars&&x&&t.chars(x)}if(e===s&&t.chars){t.chars(e);break}}i()}function En(e){function t(){(s||(s=[])).push(e.slice(h,o).trim()),h=o+1}var n,r,o,i,s,a=!1,c=!1,u=!1,l=!1,f=0,d=0,p=0,h=0;for(o=0;o<e.length;o++)if(r=n,n=e.charCodeAt(o),a)39===n&&92!==r&&(a=!1);else if(c)34===n&&92!==r&&(c=!1);else if(u)96===n&&92!==r&&(u=!1);else if(l)47===n&&92!==r&&(l=!1);else if(124!==n||124===e.charCodeAt(o+1)||124===e.charCodeAt(o-1)||f||d||p){switch(n){case 34:c=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:f++;break;case 125:f--}if(47===n){for(var v=o-1,y=void 0;v>=0&&(y=e.charAt(v)," "===y);v--);y&&/[\w$]/.test(y)||(l=!0)}}else void 0===i?(h=o+1,i=e.slice(0,o).trim()):t();if(void 0===i?i=e.slice(0,o).trim():0!==h&&t(),s)for(o=0;o<s.length;o++)i=Cn(i,s[o]);return i}function Cn(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),o=t.slice(n+1);return'_f("'+r+'")('+e+","+o}function On(e,t){var n=t?Ia(t):Da;if(n.test(e)){for(var r,o,i=[],s=n.lastIndex=0;r=n.exec(e);){o=r.index,o>s&&i.push(JSON.stringify(e.slice(s,o)));var a=En(r[1].trim());i.push("_s("+a+")"),s=o+r[0].length}return s<e.length&&i.push(JSON.stringify(e.slice(s))),i.join("+")}}function jn(e){console.error("[Vue parser]: "+e)}function Tn(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function Dn(e,t,n){(e.props||(e.props=[])).push({name:t,value:n})}function Bn(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n})}function In(e,t,n,r,o,i){(e.directives||(e.directives=[])).push({name:t,rawName:n,value:r,arg:o,modifiers:i})}function Rn(e,t,n,r,o){r&&r.capture&&(delete r.capture,t="!"+t),r&&r.once&&(delete r.once,t="~"+t);var i;r&&r.native?(delete r.native,i=e.nativeEvents||(e.nativeEvents={})):i=e.events||(e.events={});var s={value:n,modifiers:r},a=i[t];Array.isArray(a)?o?a.unshift(s):a.push(s):a?i[t]=o?[s,a]:[a,s]:i[t]=s}function qn(e,t,n){var r=Ln(e,":"+t)||Ln(e,"v-bind:"+t);if(null!=r)return En(r);if(n!==!1){var o=Ln(e,t);if(null!=o)return JSON.stringify(o)}}function Ln(e,t){var n;if(null!=(n=e.attrsMap[t]))for(var r=e.attrsList,o=0,i=r.length;o<i;o++)if(r[o].name===t){r.splice(o,1);break}return n}function Nn(e){if(ea=e,Zs=ea.length,na=ra=oa=0,e.indexOf("[")<0||e.lastIndexOf("]")<Zs-1)return{exp:e,idx:null};for(;!Mn();)ta=Pn(),$n(ta)?Fn(ta):91===ta&&Un(ta);return{exp:e.substring(0,ra),idx:e.substring(ra+1,oa)}}function Pn(){return ea.charCodeAt(++na)}function Mn(){return na>=Zs}function $n(e){return 34===e||39===e}function Un(e){var t=1;for(ra=na;!Mn();)if(e=Pn(),$n(e))Fn(e);else if(91===e&&t++,93===e&&t--,0===t){oa=na;break}}function Fn(e){for(var t=e;!Mn()&&(e=Pn(),e!==t););}function Vn(e,t){ia=t.warn||jn,sa=t.getTagNamespace||Ao,aa=t.mustUseProp||Ao,ca=t.isPreTag||Ao,ua=Tn(t.modules,"preTransformNode"),la=Tn(t.modules,"transformNode"),
fa=Tn(t.modules,"postTransformNode"),da=t.delimiters;var n,r,o=[],i=t.preserveWhitespace!==!1,s=!1,a=!1,c=!1;return Sn(e,{expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,shouldDecodeNewlines:t.shouldDecodeNewlines,start:function(i,u,l){function f(t){c||("slot"!==t.tag&&"template"!==t.tag||(c=!0,ia("Cannot use <"+t.tag+"> as component root element because it may contain multiple nodes:\n"+e)),t.attrsMap.hasOwnProperty("v-for")&&(c=!0,ia("Cannot use v-for on stateful component root element because it renders multiple elements:\n"+e)))}var d=r&&r.ns||sa(i);Do&&"svg"===d&&(u=ar(u));var p={type:1,tag:i,attrsList:u,attrsMap:ir(u),parent:r,children:[]};d&&(p.ns=d),sr(p)&&!Lo()&&(p.forbidden=!0,ia("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+i+">, as they will not be parsed."));for(var h=0;h<ua.length;h++)ua[h](p,t);if(s||(Jn(p),p.pre&&(s=!0)),ca(p.tag)&&(a=!0),s)Kn(p);else{Hn(p),Wn(p),Zn(p),zn(p),p.plain=!p.key&&!u.length,Gn(p),er(p),tr(p);for(var v=0;v<la.length;v++)la[v](p,t);nr(p)}if(n?o.length||(n.if&&(p.elseif||p.else)?(f(p),Yn(n,{exp:p.elseif,block:p})):c||(c=!0,ia("Component template should contain exactly one root element:\n\n"+e+"\n\nIf you are using v-if on multiple elements, use v-else-if to chain them instead."))):(n=p,f(n)),r&&!p.forbidden)if(p.elseif||p.else)Qn(p,r);else if(p.slotScope){r.plain=!1;var y=p.slotTarget||"default";(r.scopedSlots||(r.scopedSlots={}))[y]=p}else r.children.push(p),p.parent=r;l||(r=p,o.push(p));for(var m=0;m<fa.length;m++)fa[m](p,t)},end:function(){var e=o[o.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&e.children.pop(),o.length-=1,r=o[o.length-1],e.pre&&(s=!1),ca(e.tag)&&(a=!1)},chars:function(t){if(!r)return void(c||t!==e||(c=!0,ia("Component template requires a root element, rather than just text:\n\n"+e)));if(!Do||"textarea"!==r.tag||r.attrsMap.placeholder!==t){var n=r.children;if(t=a||t.trim()?Ua(t):i&&n.length?" ":""){var o;!s&&" "!==t&&(o=On(t,da))?n.push({type:2,expression:o,text:t}):" "===t&&" "===n[n.length-1].text||r.children.push({type:3,text:t})}}}}),n}function Jn(e){null!=Ln(e,"v-pre")&&(e.pre=!0)}function Kn(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),r=0;r<t;r++)n[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}function zn(e){var t=qn(e,"key");t&&("template"===e.tag&&ia("<template> cannot be keyed. Place the key on real elements instead."),e.key=t)}function Gn(e){var t=qn(e,"ref");t&&(e.ref=t,e.refInFor=rr(e))}function Hn(e){var t;if(t=Ln(e,"v-for")){var n=t.match(qa);if(!n)return void ia("Invalid v-for expression: "+t);e.for=n[2].trim();var r=n[1].trim(),o=r.match(La);o?(e.alias=o[1].trim(),e.iterator1=o[2].trim(),o[3]&&(e.iterator2=o[3].trim())):e.alias=r}}function Wn(e){var t=Ln(e,"v-if");if(t)e.if=t,Yn(e,{exp:t,block:e});else{null!=Ln(e,"v-else")&&(e.else=!0);var n=Ln(e,"v-else-if");n&&(e.elseif=n)}}function Qn(e,t){var n=Xn(t.children);n&&n.if?Yn(n,{exp:e.elseif,block:e}):ia("v-"+(e.elseif?'else-if="'+e.elseif+'"':"else")+" used on element <"+e.tag+"> without corresponding v-if.")}function Xn(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];" "!==e[t].text&&ia('text "'+e[t].text.trim()+'" between v-if and v-else(-if) will be ignored.'),e.pop()}}function Yn(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Zn(e){var t=Ln(e,"v-once");null!=t&&(e.once=!0)}function er(e){if("slot"===e.tag)e.slotName=qn(e,"name"),e.key&&ia("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.");else{var t=qn(e,"slot");t&&(e.slotTarget='""'===t?'"default"':t),"template"===e.tag&&(e.slotScope=Ln(e,"scope"))}}function tr(e){var t;(t=qn(e,"is"))&&(e.component=t),null!=Ln(e,"inline-template")&&(e.inlineTemplate=!0)}function nr(e){var t,n,r,o,i,s,a,c,u=e.attrsList;for(t=0,n=u.length;t<n;t++)if(r=o=u[t].name,i=u[t].value,Ra.test(r))if(e.hasBindings=!0,a=or(r),a&&(r=r.replace($a,"")),Na.test(r))r=r.replace(Na,""),i=En(i),c=!1,a&&(a.prop&&(c=!0,r=go(r),"innerHtml"===r&&(r="innerHTML")),a.camel&&(r=go(r))),c||aa(e.tag,e.attrsMap.type,r)?Dn(e,r,i):Bn(e,r,i);else if(Pa.test(r))r=r.replace(Pa,""),Rn(e,r,i,a);else{r=r.replace(Ra,"");var l=r.match(Ma);l&&(s=l[1])&&(r=r.slice(0,-(s.length+1))),In(e,r,o,i,s,a),"model"===r&&cr(e,i)}else{var f=On(i,da);f&&ia(r+'="'+i+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.'),Bn(e,r,JSON.stringify(i))}}function rr(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function or(e){var t=e.match($a);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function ir(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]&&!Do&&ia("duplicate attribute: "+e[n].name),t[e[n].name]=e[n].value;return t}function sr(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function ar(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Fa.test(r.name)||(r.name=r.name.replace(Va,""),t.push(r))}return t}function cr(e,t){for(var n=e;n;)n.for&&n.alias===t&&ia("<"+e.tag+' v-model="'+t+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.'),n=n.parent}function ur(e,t){e&&(pa=Ja(t.staticKeys||""),ha=t.isReservedTag||Ao,fr(e),dr(e,!1))}function lr(e){return r("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}function fr(e){if(e.static=hr(e),1===e.type){if(!ha(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];fr(r),r.static||(e.static=!1)}}}function dr(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)dr(e.children[n],t||!!e.for);e.ifConditions&&pr(e.ifConditions,t)}}function pr(e,t){for(var n=1,r=e.length;n<r;n++)dr(e[n].block,t)}function hr(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||vo(e.tag)||!ha(e.tag)||vr(e)||!Object.keys(e).every(pa))))}function vr(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function yr(e,t){var n=t?"nativeOn:{":"on:{";for(var r in e)n+='"'+r+'":'+mr(r,e[r])+",";return n.slice(0,-1)+"}"}function mr(e,t){if(t){if(Array.isArray(t))return"["+t.map(function(t){return mr(e,t)}).join(",")+"]";if(t.modifiers){var n="",r=[];for(var o in t.modifiers)Ha[o]?n+=Ha[o]:r.push(o);r.length&&(n=gr(r)+n);var i=za.test(t.value)?t.value+"($event)":t.value;return"function($event){"+n+i+"}"}return Ka.test(t.value)||za.test(t.value)?t.value:"function($event){"+t.value+"}"}return"function(){}"}function gr(e){return"if("+e.map(_r).join("&&")+")return;"}function _r(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Ga[e];return"_k($event.keyCode,"+JSON.stringify(e)+(n?","+JSON.stringify(n):"")+")"}function br(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+(t.modifiers&&t.modifiers.prop?",true":"")+")"}}function wr(e,t){var n=ba,r=ba=[],o=wa;wa=0,ka=t,va=t.warn||jn,ya=Tn(t.modules,"transformCode"),ma=Tn(t.modules,"genData"),ga=t.directives||{},_a=t.isReservedTag||Ao;var i=e?kr(e):'_c("div")';return ba=n,wa=o,{render:"with(this){return "+i+"}",staticRenderFns:r}}function kr(e){if(e.staticRoot&&!e.staticProcessed)return xr(e);if(e.once&&!e.onceProcessed)return Ar(e);if(e.for&&!e.forProcessed)return Cr(e);if(e.if&&!e.ifProcessed)return Sr(e);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return Mr(e);var t;if(e.component)t=$r(e.component,e);else{var n=e.plain?void 0:Or(e),r=e.inlineTemplate?null:Ir(e,!0);t="_c('"+e.tag+"'"+(n?","+n:"")+(r?","+r:"")+")"}for(var o=0;o<ya.length;o++)t=ya[o](e,t);return t}return Ir(e)||"void 0"}function xr(e){return e.staticProcessed=!0,ba.push("with(this){return "+kr(e)+"}"),"_m("+(ba.length-1)+(e.staticInFor?",true":"")+")"}function Ar(e){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Sr(e);if(e.staticInFor){for(var t="",n=e.parent;n;){if(n.for){t=n.key;break}n=n.parent}return t?"_o("+kr(e)+","+wa++ +(t?","+t:"")+")":(va("v-once can only be used inside v-for that is keyed. "),kr(e))}return xr(e)}function Sr(e){return e.ifProcessed=!0,Er(e.ifConditions.slice())}function Er(e){function t(e){return e.once?Ar(e):kr(e)}if(!e.length)return"_e()";var n=e.shift();return n.exp?"("+n.exp+")?"+t(n.block)+":"+Er(e):""+t(n.block)}function Cr(e){var t=e.for,n=e.alias,r=e.iterator1?","+e.iterator1:"",o=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+t+"),function("+n+r+o+"){return "+kr(e)+"})"}function Or(e){var t="{",n=jr(e);n&&(t+=n+","),e.key&&(t+="key:"+e.key+","),e.ref&&(t+="ref:"+e.ref+","),e.refInFor&&(t+="refInFor:true,"),e.pre&&(t+="pre:true,"),e.component&&(t+='tag:"'+e.tag+'",');for(var r=0;r<ma.length;r++)t+=ma[r](e);if(e.attrs&&(t+="attrs:{"+Ur(e.attrs)+"},"),e.props&&(t+="domProps:{"+Ur(e.props)+"},"),e.events&&(t+=yr(e.events)+","),e.nativeEvents&&(t+=yr(e.nativeEvents,!0)+","),e.slotTarget&&(t+="slot:"+e.slotTarget+","),e.scopedSlots&&(t+=Dr(e.scopedSlots)+","),e.inlineTemplate){var o=Tr(e);o&&(t+=o+",")}return t=t.replace(/,$/,"")+"}",e.wrapData&&(t=e.wrapData(t)),t}function jr(e){var t=e.directives;if(t){var n,r,o,i,s="directives:[",a=!1;for(n=0,r=t.length;n<r;n++){o=t[n],i=!0;var c=ga[o.name]||Wa[o.name];c&&(i=!!c(e,o,va)),i&&(a=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return a?s.slice(0,-1)+"]":void 0}}function Tr(e){var t=e.children[0];if((e.children.length>1||1!==t.type)&&va("Inline-template components must have exactly one child element."),1===t.type){var n=wr(t,ka);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function Dr(e){return"scopedSlots:{"+Object.keys(e).map(function(t){return Br(t,e[t])}).join(",")+"}"}function Br(e,t){return e+":function("+String(t.attrsMap.scope)+"){return "+("template"===t.tag?Ir(t)||"void 0":kr(t))+"}"}function Ir(e,t){var n=e.children;if(n.length){var r=n[0];if(1===n.length&&r.for&&"template"!==r.tag&&"slot"!==r.tag)return kr(r);var o=Rr(n);return"["+n.map(Nr).join(",")+"]"+(t&&o?","+o:"")}}function Rr(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(1===r.type){if(qr(r)||r.ifConditions&&r.ifConditions.some(function(e){return qr(e.block)})){t=2;break}(Lr(r)||r.ifConditions&&r.ifConditions.some(function(e){return Lr(e.block)}))&&(t=1)}}return t}function qr(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Lr(e){return!_a(e.tag)}function Nr(e){return 1===e.type?kr(e):Pr(e)}function Pr(e){return"_v("+(2===e.type?e.expression:Fr(JSON.stringify(e.text)))+")"}function Mr(e){var t=e.slotName||'"default"',n=Ir(e),r="_t("+t+(n?","+n:""),o=e.attrs&&"{"+e.attrs.map(function(e){return go(e.name)+":"+e.value}).join(",")+"}",i=e.attrsMap["v-bind"];return!o&&!i||n||(r+=",null"),o&&(r+=","+o),i&&(r+=(o?"":",null")+","+i),r+")"}function $r(e,t){var n=t.inlineTemplate?null:Ir(t,!0);return"_c("+e+","+Or(t)+(n?","+n:"")+")"}function Ur(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+='"'+r.name+'":'+Fr(r.value)+","}return t.slice(0,-1)}function Fr(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Vr(e,t){var n=Vn(e.trim(),t);ur(n,t);var r=wr(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}}function Jr(e){var t=[];return e&&Kr(e,t),t}function Kr(e,t){if(1===e.type){for(var n in e.attrsMap)if(Ra.test(n)){var r=e.attrsMap[n];r&&("v-for"===n?zr(e,'v-for="'+r+'"',t):Hr(r,n+'="'+r+'"',t))}if(e.children)for(var o=0;o<e.children.length;o++)Kr(e.children[o],t)}else 2===e.type&&Hr(e.expression,e.text,t)}function zr(e,t,n){Hr(e.for||"",t,n),Gr(e.alias,"v-for alias",t,n),Gr(e.iterator1,"v-for iterator",t,n),Gr(e.iterator2,"v-for iterator",t,n)}function Gr(e,t,n,r){"string"!=typeof e||Xa.test(e)||r.push("- invalid "+t+' "'+e+'" in expression: '+n)}function Hr(e,t,n){try{new Function("return "+e)}catch(o){var r=e.replace(Ya,"").match(Qa);r?n.push('- avoid using JavaScript keyword as property name: "'+r[0]+'" in expression '+t):n.push("- invalid expression: "+t)}}function Wr(e,t){var n=t.warn||jn,r=Ln(e,"class");if(r){var o=On(r,t.delimiters);o&&n('class="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.')}r&&(e.staticClass=JSON.stringify(r));var i=qn(e,"class",!1);i&&(e.classBinding=i)}function Qr(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function Xr(e,t){var n=t.warn||jn,r=Ln(e,"style");if(r){var o=On(r,t.delimiters);o&&n('style="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.'),e.staticStyle=JSON.stringify(is(r))}var i=qn(e,"style",!1);i&&(e.styleBinding=i)}function Yr(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function Zr(e,t,n){xa=n;var r=t.value,o=t.modifiers,i=e.tag,s=e.attrsMap.type,a=e.attrsMap["v-bind:type"]||e.attrsMap[":type"];return"input"===i&&a&&xa('<input :type="'+a+'" v-model="'+r+'">:\nv-model does not support dynamic input types. Use v-if branches instead.'),"select"===i?ro(e,r,o):"input"===i&&"checkbox"===s?eo(e,r,o):"input"===i&&"radio"===s?to(e,r,o):no(e,r,o),!0}function eo(e,t,n){null!=e.attrsMap.checked&&xa("<"+e.tag+' v-model="'+t+"\" checked>:\ninline checked attributes will be ignored when using v-model. Declare initial values in the component's data option instead.");var r=n&&n.number,o=qn(e,"value")||"null",i=qn(e,"true-value")||"true",s=qn(e,"false-value")||"false";Dn(e,"checked","Array.isArray("+t+")?_i("+t+","+o+")>-1"+("true"===i?":("+t+")":":_q("+t+","+i+")")),Rn(e,"click","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+i+"):("+s+");if(Array.isArray($$a)){var $$v="+(r?"_n("+o+")":o)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+t+"=$$a.concat($$v))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+t+"=$$c}",null,!0)}function to(e,t,n){null!=e.attrsMap.checked&&xa("<"+e.tag+' v-model="'+t+"\" checked>:\ninline checked attributes will be ignored when using v-model. Declare initial values in the component's data option instead.");var r=n&&n.number,o=qn(e,"value")||"null";o=r?"_n("+o+")":o,Dn(e,"checked","_q("+t+","+o+")"),Rn(e,"click",io(t,o),null,!0)}function no(e,t,n){"input"===e.tag&&e.attrsMap.value&&xa("<"+e.tag+' v-model="'+t+'" value="'+e.attrsMap.value+"\">:\ninline value attributes will be ignored when using v-model. Declare initial values in the component's data option instead."),"textarea"===e.tag&&e.children.length&&xa('<textarea v-model="'+t+"\">:\ninline content inside <textarea> will be ignored when using v-model. Declare initial values in the component's data option instead.");var r=e.attrsMap.type,o=n||{},i=o.lazy,s=o.number,a=o.trim,c=i||Do&&"range"===r?"change":"input",u=!i&&"range"!==r,l="input"===e.tag||"textarea"===e.tag,f=l?"$event.target.value"+(a?".trim()":""):a?"(typeof $event === 'string' ? $event.trim() : $event)":"$event";f=s||"number"===r?"_n("+f+")":f;var d=io(t,f);l&&u&&(d="if($event.target.composing)return;"+d),"file"===r&&xa("<"+e.tag+' v-model="'+t+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.'),Dn(e,"value",l?"_s("+t+")":"("+t+")"),Rn(e,c,d,null,!0),(a||s||"number"===r)&&Rn(e,"blur","$forceUpdate()")}function ro(e,t,n){e.children.some(oo);var r=n&&n.number,o='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})"+(null==e.attrsMap.multiple?"[0]":""),i=io(t,o);Rn(e,"change",i,null,!0)}function oo(e){return 1===e.type&&"option"===e.tag&&null!=e.attrsMap.selected&&(xa('<select v-model="'+e.parent.attrsMap["v-model"]+"\">:\ninline selected attributes on <option> will be ignored when using v-model. Declare initial values in the component's data option instead."),!0)}function io(e,t){var n=Nn(e);return null===n.idx?e+"="+t:"var $$exp = "+n.exp+", $$idx = "+n.idx+";if (!Array.isArray($$exp)){"+e+"="+t+"}else{$$exp.splice($$idx, 1, "+t+")}"}function so(e,t){t.value&&Dn(e,"textContent","_s("+t.value+")")}function ao(e,t){t.value&&Dn(e,"innerHTML","_s("+t.value+")")}function co(e,t){return t=t?l(l({},oc),t):oc,Vr(e,t)}function uo(e,t,n){var r=t&&t.warn||$o;try{new Function("return 1")}catch(e){e.toString().match(/unsafe-eval|CSP/)&&r("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var o=t&&t.delimiters?String(t.delimiters)+e:e;if(rc[o])return rc[o];var i={},s=co(e,t);i.render=lo(s.render);var a=s.staticRenderFns.length;i.staticRenderFns=new Array(a);for(var c=0;c<a;c++)i.staticRenderFns[c]=lo(s.staticRenderFns[c]);return(i.render===h||i.staticRenderFns.some(function(e){return e===h}))&&r("failed to compile template:\n\n"+e+"\n\n"+Jr(s.ast).join("\n")+"\n\n",n),rc[o]=i}function lo(e){try{return new Function(e)}catch(e){return h}}function fo(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}var po,ho,vo=r("slot,component",!0),yo=Object.prototype.hasOwnProperty,mo=/-(\w)/g,go=a(function(e){return e.replace(mo,function(e,t){return t?t.toUpperCase():""})}),_o=a(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),bo=/([^-])([A-Z])/g,wo=a(function(e){return e.replace(bo,"$1-$2").replace(bo,"$1-$2").toLowerCase()}),ko=Object.prototype.toString,xo="[object Object]",Ao=function(){return!1},So=function(e){return e},Eo={optionMergeStrategies:Object.create(null),silent:!1,devtools:!0,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Ao,isUnknownElement:Ao,getTagNamespace:h,parsePlatformTagName:So,mustUseProp:Ao,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},Co=/[^\w.$]/,Oo="__proto__"in{},jo="undefined"!=typeof window,To=jo&&window.navigator.userAgent.toLowerCase(),Do=To&&/msie|trident/.test(To),Bo=To&&To.indexOf("msie 9.0")>0,Io=To&&To.indexOf("edge/")>0,Ro=To&&To.indexOf("android")>0,qo=To&&/iphone|ipad|ipod|ios/.test(To),Lo=function(){return void 0===po&&(po=!jo&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),po},No=jo&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Po=function(){function e(){r=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],r=!1;if("undefined"!=typeof Promise&&w(Promise)){var o=Promise.resolve(),i=function(e){console.error(e)};t=function(){o.then(e).catch(i),qo&&setTimeout(h)}}else if("undefined"==typeof MutationObserver||!w(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var s=1,a=new MutationObserver(e),c=document.createTextNode(String(s));a.observe(c,{characterData:!0}),t=function(){s=(s+1)%2,c.data=String(s)}}return function(e,o){var i;if(n.push(function(){e&&e.call(o),i&&i(o)}),r||(r=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}}();ho="undefined"!=typeof Set&&w(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return this.set[e]===!0},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Mo,$o=h,Uo="undefined"!=typeof console;$o=function(e,t){Uo&&!Eo.silent&&console.error("[Vue warn]: "+e+" "+(t?Fo(Mo(t)):""))},Mo=function(e){if(e.$root===e)return"root instance";var t=e._isVue?e.$options.name||e.$options._componentTag:e.name;return(t?"component <"+t+">":"anonymous component")+(e._isVue&&e.$options.__file?" at "+e.$options.__file:"")};var Fo=function(e){return"anonymous component"===e&&(e+=' - use the "name" option for better debugging messages.'),"\n(found in "+e+")"},Vo=0,Jo=function(){this.id=Vo++,this.subs=[]};Jo.prototype.addSub=function(e){this.subs.push(e)},Jo.prototype.removeSub=function(e){o(this.subs,e)},Jo.prototype.depend=function(){Jo.target&&Jo.target.addDep(this)},Jo.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},Jo.target=null;var Ko=[],zo=Array.prototype,Go=Object.create(zo);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=zo[e];_(Go,e,function(){for(var n=arguments,r=arguments.length,o=new Array(r);r--;)o[r]=n[r];var i,s=t.apply(this,o),a=this.__ob__;switch(e){case"push":i=o;break;case"unshift":i=o;break;case"splice":i=o.slice(2)}return i&&a.observeArray(i),a.dep.notify(),s})});var Ho=Object.getOwnPropertyNames(Go),Wo={shouldConvert:!0,isSettingProps:!1},Qo=function(e){if(this.value=e,this.dep=new Jo,this.vmCount=0,_(e,"__ob__",this),Array.isArray(e)){var t=Oo?A:S;t(e,Go,Ho),this.observeArray(e)}else this.walk(e)};Qo.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)C(e,t[n],e[t[n]])},Qo.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)E(e[t])};var Xo=Eo.optionMergeStrategies;Xo.el=Xo.propsData=function(e,t,n,r){return n||$o('option "'+r+'" can only be used during instance creation with the `new` keyword.'),Zo(e,t)},Xo.data=function(e,t,n){return n?e||t?function(){var r="function"==typeof t?t.call(n):t,o="function"==typeof e?e.call(n):void 0;return r?D(r,o):o}:void 0:t?"function"!=typeof t?($o('The "data" option should be a function that returns a per-instance value in component definitions.',n),e):e?function(){return D(t.call(this),e.call(this))}:t:e},Eo._lifecycleHooks.forEach(function(e){Xo[e]=B}),Eo._assetTypes.forEach(function(e){Xo[e+"s"]=I}),Xo.watch=function(e,t){if(!t)return e;if(!e)return t;var n={};l(n,e);for(var r in t){var o=n[r],i=t[r];o&&!Array.isArray(o)&&(o=[o]),n[r]=o?o.concat(i):[i]}return n},Xo.props=Xo.methods=Xo.computed=function(e,t){if(!t)return e;if(!e)return t;var n=Object.create(null);return l(n,e),l(n,t),n};var Yo,Zo=function(e,t){return void 0===t?e:t},ei=Object.freeze({defineReactive:C,_toString:t,toNumber:n,makeMap:r,isBuiltInTag:vo,remove:o,hasOwn:i,isPrimitive:s,cached:a,camelize:go,capitalize:_o,hyphenate:wo,bind:c,toArray:u,extend:l,isObject:f,isPlainObject:d,toObject:p,noop:h,no:Ao,identity:So,genStaticKeys:v,looseEqual:y,looseIndexOf:m,isReserved:g,def:_,parsePath:b,hasProto:Oo,inBrowser:jo,UA:To,isIE:Do,isIE9:Bo,isEdge:Io,isAndroid:Ro,isIOS:qo,isServerRendering:Lo,devtools:No,nextTick:Po,get _Set(){return ho},mergeOptions:N,resolveAsset:P,get warn(){return $o},get formatComponentName(){return Mo},validateProp:M}),ti=r("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),ni=function(e,t){$o('Property or method "'+t+'" is not defined on the instance but referenced during render. Make sure to declare reactive data properties in the data option.',e)},ri="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/);if(ri){var oi=r("stop,prevent,self,ctrl,shift,alt,meta");Eo.keyCodes=new Proxy(Eo.keyCodes,{set:function(e,t,n){return oi(t)?($o("Avoid overwriting built-in modifier in config.keyCodes: ."+t),!1):(e[t]=n,!0)}})}var ii={has:function e(t,n){var e=n in t,r=ti(n)||"_"===n.charAt(0);return e||r||ni(t,n),e||!r}},si={get:function(e,t){return"string"!=typeof t||t in e||ni(e,t),e[t]}};Yo=function(e){if(ri){var t=e.$options,n=t.render&&t.render._withStripped?si:ii;e._renderProxy=new Proxy(e,n)}else e._renderProxy=e};var ai=function(e,t,n,r,o,i,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},ci={child:{}};ci.child.get=function(){return this.componentInstance},Object.defineProperties(ai.prototype,ci);var ui,li=function(){var e=new ai;return e.text="",e.isComment=!0,e},fi={init:X,prepatch:Y,insert:Z,destroy:ee},di=Object.keys(fi),pi=a(function(e){var t="~"===e.charAt(0);e=t?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:t,capture:n}}),hi=1,vi=2,yi=null,mi=[],gi={},_i={},bi=!1,wi=!1,ki=0,xi=0,Ai=function(e,t,n,r){this.vm=e,e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++xi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ho,this.newDepIds=new ho,this.expression=t.toString(),"function"==typeof t?this.getter=t:(this.getter=b(t),this.getter||(this.getter=function(){},$o('Failed watching path: "'+t+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',e))),this.value=this.lazy?void 0:this.get()};Ai.prototype.get=function(){k(this);var e=this.getter.call(this.vm,this.vm);return this.deep&&Te(e),x(),this.cleanupDeps(),e},Ai.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ai.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},Ai.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():je(this)},Ai.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||f(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){if(!Eo.errorHandler)throw $o('Error in watcher "'+this.expression+'"',this.vm),e;Eo.errorHandler.call(null,e,this.vm)}else this.cb.call(this.vm,e,t)}}},Ai.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ai.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},Ai.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||o(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var Si=new ho,Ei={key:1,ref:1,slot:1},Ci={enumerable:!0,configurable:!0,get:h,set:h},Oi=0;Fe(Ke),$e(Ke),xe(Ke),Se(Ke),me(Ke);var ji=[String,RegExp],Ti={name:"keep-alive",abstract:!0,props:{include:ji,exclude:ji},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in this.cache)Ze(e.cache[t])},watch:{include:function(e){Ye(this.cache,function(t){return Xe(e,t)})},exclude:function(e){Ye(this.cache,function(t){return!Xe(e,t)})}},render:function(){var e=de(this.$slots.default),t=e&&e.componentOptions;if(t){var n=Qe(t);if(n&&(this.include&&!Xe(this.include,n)||this.exclude&&Xe(this.exclude,n)))return e;var r=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[r]?e.componentInstance=this.cache[r].componentInstance:this.cache[r]=e,e.data.keepAlive=!0}return e}},Di={KeepAlive:Ti};et(Ke),Object.defineProperty(Ke.prototype,"$isServer",{get:Lo}),Ke.version="2.1.10";var Bi,Ii,Ri=r("input,textarea,option,select"),qi=function(e,t,n){return"value"===n&&Ri(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Li=r("contenteditable,draggable,spellcheck"),Ni=r("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Pi="http://www.w3.org/1999/xlink",Mi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},$i=function(e){return Mi(e)?e.slice(6,e.length):""},Ui=function(e){return null==e||e===!1},Fi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Vi=r("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Ji=r("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ki=function(e){return"pre"===e},zi=function(e){return Vi(e)||Ji(e)},Gi=Object.create(null),Hi=Object.freeze({createElement:ut,createElementNS:lt,createTextNode:ft,createComment:dt,insertBefore:pt,removeChild:ht,appendChild:vt,parentNode:yt,nextSibling:mt,tagName:gt,setTextContent:_t,setAttribute:bt}),Wi={create:function(e,t){wt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(wt(e,!0),wt(t))},destroy:function(e){wt(e,!0)}},Qi=new ai("",{},[]),Xi=["create","activate","update","remove","destroy"],Yi={create:Ct,update:Ct,destroy:function(e){Ct(e,Qi)}},Zi=Object.create(null),es=[Wi,Yi],ts={create:Bt,update:Bt},ns={create:Rt,update:Rt},rs={create:Nt,update:Nt},os={create:Pt,update:Pt},is=a(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),ss=/^--/,as=/\s*!important$/,cs=function(e,t,n){ss.test(t)?e.style.setProperty(t,n):as.test(n)?e.style.setProperty(t,n.replace(as,""),"important"):e.style[ls(t)]=n},us=["Webkit","Moz","ms"],ls=a(function(e){if(Ii=Ii||document.createElement("div"),e=go(e),"filter"!==e&&e in Ii.style)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<us.length;n++){var r=us[n]+t;if(r in Ii.style)return r}}),fs={create:Kt,update:Kt},ds=jo&&!Bo,ps="transition",hs="animation",vs="transition",ys="transitionend",ms="animation",gs="animationend";ds&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(vs="WebkitTransition",ys="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ms="WebkitAnimation",gs="webkitAnimationEnd"));var _s=jo&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,bs=/\b(transform|all)(,|$)/,ws=a(function(e){return{enterClass:e+"-enter",leaveClass:e+"-leave",appearClass:e+"-enter",enterToClass:e+"-enter-to",leaveToClass:e+"-leave-to",appearToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveActiveClass:e+"-leave-active",appearActiveClass:e+"-enter-active"}}),ks=jo?{create:sn,activate:sn,remove:function(e,t){e.data.show?t():nn(e,t)}}:{},xs=[ts,ns,rs,os,fs,ks],As=xs.concat(es),Ss=Et({
nodeOps:Hi,modules:As}),Es=/^input|select|textarea|vue-component-[0-9]+(-[0-9a-zA-Z_-]*)?$/;Bo&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&dn(e,"input")});var Cs={inserted:function(e,t,n){if(Es.test(n.tag)||$o("v-model is not supported on element type: <"+n.tag+">. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.",n.context),"select"===n.tag){var r=function(){an(e,t,n.context)};r(),(Do||Io)&&setTimeout(r,0)}else"textarea"!==n.tag&&"text"!==e.type||(e._vModifiers=t.modifiers,t.modifiers.lazy||(Ro||(e.addEventListener("compositionstart",ln),e.addEventListener("compositionend",fn)),Bo&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){an(e,t,n.context);var r=e.multiple?t.value.some(function(t){return cn(t,e.options)}):t.value!==t.oldValue&&cn(t.value,e.options);r&&dn(e,"change")}}},Os={bind:function(e,t,n){var r=t.value;n=pn(n);var o=n.data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o&&!Bo?(n.data.show=!0,tn(n,function(){e.style.display=i})):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value,o=t.oldValue;if(r!==o){n=pn(n);var i=n.data&&n.data.transition;i&&!Bo?(n.data.show=!0,r?tn(n,function(){e.style.display=e.__vOriginalDisplay}):nn(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}},js={model:Cs,show:Os},Ts={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String},Ds={name:"transition",props:Ts,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag}),n.length)){n.length>1&&$o("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var r=this.mode;r&&"in-out"!==r&&"out-in"!==r&&$o("invalid <transition> mode: "+r,this.$parent);var o=n[0];if(mn(this.$vnode))return o;var i=hn(o);if(!i)return o;if(this._leaving)return yn(e,o);var a="__transition-"+this._uid+"-",c=i.key=null==i.key?a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key,u=(i.data||(i.data={})).transition=vn(this),f=this._vnode,d=hn(f);if(i.data.directives&&i.data.directives.some(function(e){return"show"===e.name})&&(i.data.show=!0),d&&d.data&&!gn(i,d)){var p=d&&(d.data.transition=l({},u));if("out-in"===r)return this._leaving=!0,se(p,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()},c),yn(e,o);if("in-out"===r){var h,v=function(){h()};se(u,"afterEnter",v,c),se(u,"enterCancelled",v,c),se(p,"delayLeave",function(e){h=e},c)}}return o}}},Bs=l({tag:String,moveClass:String},Ts);delete Bs.mode;var Is={props:Bs,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],s=vn(this),a=0;a<o.length;a++){var c=o[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else{var u=c.componentOptions,l=u?u.Ctor.options.name||u.tag:c.tag;$o("<transition-group> children must be keyed: <"+l+">")}}if(r){for(var f=[],d=[],p=0;p<r.length;p++){var h=r[p];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?f.push(h):d.push(h)}this.kept=e(t,null,f),this.removed=d}return e(t,null,i)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(_n),e.forEach(bn),e.forEach(wn);document.body.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;Wt(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ys,n._moveCb=function e(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ys,e),n._moveCb=null,Qt(n,t))})}})}},methods:{hasMove:function(e,t){if(!ds)return!1;if(null!=this._hasMove)return this._hasMove;Wt(e,t);var n=Yt(e);return Qt(e,t),this._hasMove=n.hasTransform}}},Rs={Transition:Ds,TransitionGroup:Is};Ke.config.isUnknownElement=at,Ke.config.isReservedTag=zi,Ke.config.getTagNamespace=st,Ke.config.mustUseProp=qi,l(Ke.options.directives,js),l(Ke.options.components,Rs),Ke.prototype.__patch__=jo?Ss:h,Ke.prototype.$mount=function(e,t){return e=e&&jo?ct(e):void 0,this._mount(e,t)},jo&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html"),setTimeout(function(){Eo.devtools&&(No?No.emit("init",Ke):jo&&!Io&&/Chrome\/\d+/.test(window.navigator.userAgent)&&console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools"))},0);var qs,Ls=!!jo&&kn("\n","&#10;"),Ns=r("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr",!0),Ps=r("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source",!0),Ms=r("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track",!0),$s=/([^\s"'<>\/=]+)/,Us=/(?:=)/,Fs=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],Vs=new RegExp("^\\s*"+$s.source+"(?:\\s*("+Us.source+")\\s*(?:"+Fs.join("|")+"))?"),Js="[a-zA-Z_][\\w\\-\\.]*",Ks="((?:"+Js+"\\:)?"+Js+")",zs=new RegExp("^<"+Ks),Gs=/^\s*(\/?)>/,Hs=new RegExp("^<\\/"+Ks+"[^>]*>"),Ws=/^<!DOCTYPE [^>]+>/i,Qs=/^<!--/,Xs=/^<!\[/,Ys=!1;"x".replace(/x(.)?/g,function(e,t){Ys=""===t});var Zs,ea,ta,na,ra,oa,ia,sa,aa,ca,ua,la,fa,da,pa,ha,va,ya,ma,ga,_a,ba,wa,ka,xa,Aa=r("script,style",!0),Sa={},Ea=/&lt;/g,Ca=/&gt;/g,Oa=/&#10;/g,ja=/&amp;/g,Ta=/&quot;/g,Da=/\{\{((?:.|\n)+?)\}\}/g,Ba=/[-.*+?^${}()|[\]\/\\]/g,Ia=a(function(e){var t=e[0].replace(Ba,"\\$&"),n=e[1].replace(Ba,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),Ra=/^v-|^@|^:/,qa=/(.*?)\s+(?:in|of)\s+(.*)/,La=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,Na=/^:|^v-bind:/,Pa=/^@|^v-on:/,Ma=/:(.*)$/,$a=/\.[^.]+/g,Ua=a(xn),Fa=/^xmlns:NS\d+/,Va=/^NS\d+:/,Ja=a(lr),Ka=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,za=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Ga={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ha={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:"if($event.target !== $event.currentTarget)return;",ctrl:"if(!$event.ctrlKey)return;",shift:"if(!$event.shiftKey)return;",alt:"if(!$event.altKey)return;",meta:"if(!$event.metaKey)return;"},Wa={bind:br,cloak:h},Qa=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Xa=/[A-Za-z_$][\w$]*/,Ya=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g,Za={staticKeys:["staticClass"],transformNode:Wr,genData:Qr},ec={staticKeys:["staticStyle"],transformNode:Xr,genData:Yr},tc=[Za,ec],nc={model:Zr,text:so,html:ao},rc=Object.create(null),oc={expectHTML:!0,modules:tc,staticKeys:v(tc),directives:nc,isReservedTag:zi,isUnaryTag:Ns,mustUseProp:qi,getTagNamespace:st,isPreTag:Ki},ic=a(function(e){var t=ct(e);return t&&t.innerHTML}),sc=Ke.prototype.$mount;return Ke.prototype.$mount=function(e,t){if(e=e&&ct(e),e===document.body||e===document.documentElement)return $o("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=ic(r),r||$o("Template element not found or is empty: "+n.template,this));else{if(!r.nodeType)return $o("invalid template option:"+r,this),this;r=r.innerHTML}else e&&(r=fo(e));if(r){var o=uo(r,{warn:$o,shouldDecodeNewlines:Ls,delimiters:n.delimiters},this),i=o.render,s=o.staticRenderFns;n.render=i,n.staticRenderFns=s}}return sc.call(this,e,t)},Ke.compile=uo,Ke})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],80:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var s=t.pop();o[s]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,s,a,c,u,l,f,d,p="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",p+=o,i)p+=i;else if("object"!=typeof r)p+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:r[s],prefix:a});t.push({val:"["})}else{c=[];for(u in r)r.hasOwnProperty(u)&&c.push(u);for(t.push({val:"}"}),s=c.length-1;s>=0;s--)l=c[s],f=r[l],d=s>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:f,prefix:d});t.push({val:"{"})}return p},n.parse=function(e){for(var t,n,o,i,s,a,c,u,l,f=[],d=[],p=0;;)if(t=e[p++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,r(null,f,d);break;case"t":p+=3,r(!0,f,d);break;case"f":p+=4,r(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(o=e[p++],!/[\d\.\-e\+]/.test(o)){p--;break}n+=o}r(parseFloat(n),f,d);break;case'"':for(i="",s=void 0,a=0;;){if(c=e[p++],'"'===c&&("\\"!==s||a%2!==1))break;i+=c,s=c,"\\"===s?a++:a=0}r(JSON.parse('"'+i+'"'),f,d);break;case"[":u={element:[],index:f.length},f.push(u.element),d.push(u);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();r(f.pop(),f,d)}}},{}],81:[function(e,t,n){"use strict";function r(e,t){function n(e){try{h.emit("error",e)}catch(t){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(e)}}function r(e){var t=e.messageId,r=e.type,o=e.content;if("uncaughtError"===r)return void n(o);var i=h._callbacks[t];return i?(c("receive message",h._instanceId,t,r,o),void("error"===r?(delete h._callbacks[t],i(o)):"success"===r?(delete h._callbacks[t],i(null,o)):h._changesListeners[t](o))):void c("duplicate message (ignoring)",t,r,o)}function i(e){e.data.id===h._instanceId&&r(e.data)}function d(e,t,n){if(h._destroyed)return n(new Error("this db was destroyed"));if(h._closed)return n(new Error("this db was closed"));var r=s();c("send message",h._instanceId,r,e,t),h._callbacks[r]=n;var o=l(t);y.postMessage({id:h._instanceId,type:e,messageId:r,args:o}),c("message sent",h._instanceId,r)}function p(e,t,n){c("send message",h._instanceId,e,t,n);var r=l(n);y.postMessage({id:h._instanceId,type:t,messageId:e,args:r}),c("message sent",h._instanceId,e)}var h=this;if("string"==typeof e){var v=o.lastIndexOf(e,"/");e={url:e.substring(0,v),name:e.substring(v+1)}}else e=o.clone(e);c("constructor called",e);var y=e.worker&&"function"==typeof e.worker?e.worker():e.worker;if(!y||!y.postMessage){var m="Error: you must provide a valid `worker` in `new PouchDB()`";return console.error(m),t(new Error(m))}if(!e.name){var g="Error: you must provide a database name.";return console.error(g),t(new Error(g))}h.type=function(){return"worker"},h._id=f("id",function(e){d("id",[],e)}),h.compact=f("compact",function(e,t){"function"==typeof e&&(t=e,e={}),d("compact",[e],t)}),h._info=function(e){d("info",[],e)},h.get=f("get",function(e,t,n){"function"==typeof t&&(n=t,t={}),d("get",[e,t],n)}),h._get=function(e,t,n){h.get(e,t,function(e,t){return e?n(e):void n(null,{doc:t})})},h.remove=f("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t));var i=o._rev||n.rev;d("remove",[o._id,i],r)}),h.getAttachment=f("getAttachment",function(e,t,n,r){"function"==typeof n&&(r=n,n={}),d("getAttachment",[e,t,n],r)}),h.removeAttachment=f("removeAttachment",function(e,t,n,r){d("removeAttachment",[e,t,n],r)}),h.putAttachment=f("putAttachment",function(e,t,n,r,i,s){if("function"==typeof i&&(s=i,i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),"string"==typeof r){var c;try{c=atob(r)}catch(e){return s(a.error(a.BAD_ARG,"Attachments need to be base64 encoded"))}r=o.createBlob([o.binaryStringToArrayBuffer(c)],{type:i})}var u=[e,t,n,r,i];d("putAttachment",u,s)}),h.put=f("put",o.getArguments(function(e){var t,n,r,i=e.shift(),s="_id"in i,c=e.pop();return"object"!=typeof i||Array.isArray(i)?c(a.error(a.NOT_AN_OBJECT)):(i=o.clone(i),void u(i).then(function(){for(;;)if(t=e.shift(),n=typeof t,"string"!==n||s?"string"!==n||!s||"_rev"in i?"object"===n&&(r=o.clone(t)):i._rev=t:(i._id=t,s=!0),!e.length)break;r=r||{},d("put",[i,r],c)}).catch(c))})),h.post=f("post",function(e,t,n){"function"==typeof t&&(n=t,t={}),t=o.clone(t),d("post",[e,t],n)}),h._bulkDocs=function(e,t,n){d("bulkDocs",[e,t],n)},h._allDocs=function(e,t){"function"==typeof e&&(t=e,e={}),d("allDocs",[e],t)},h._changes=function(e){if(e=o.clone(e),e.continuous){var n=s();return h._changesListeners[n]=e.onChange,h._callbacks[n]=e.complete,p(n,"liveChanges",[e]),{cancel:function(){p(n,"cancelChanges",[])}}}d("changes",[e],function(n,r){return n?(e.complete(n),t(n)):(r.results.forEach(function(t){e.onChange(t)}),e.returnDocs!==!1&&e.return_docs!==!1||(r.results=[]),void e.complete(null,r))})},h.revsDiff=f("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={}),d("revsDiff",[e,t],n)}),h._query=f("query",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=e;"function"==typeof e&&(r={map:e}),d("query",[r,t],n)}),h._viewCleanup=f("viewCleanup",function(e){d("viewCleanup",[],e)}),h._close=function(e){h._closed=!0,e()},h.destroy=f("destroy",function(e,t){"function"==typeof e&&(t=e,e={}),d("destroy",[],function(e,n){return e?(h.emit("error",e),t(e)):(h._destroyed=!0,y.removeEventListener("message",i),h.emit("destroyed"),void t(null,n))})}),h._instanceId=h.name||e.originalName,h._callbacks={},h._changesListeners={},y.addEventListener("message",i);var _={name:h._instanceId,auto_compaction:!!e.auto_compaction};e.revs_limit&&(_.revs_limit=e.revs_limit),d("createDatabase",[_],function(e){return e?t(e):void t(null,h)})}var o=e("../shared/utils"),i=e("./utils"),s=e("./../shared/uuid"),a=e("../shared/errors"),c=e("debug")("pouchdb:worker:client"),u=i.preprocessAttachments,l=i.encodeArgs,f=i.adapterFun;r.valid=function(){return!0},r.use_prefix=!1,t.exports=r},{"../shared/errors":87,"../shared/utils":89,"./../shared/uuid":90,"./utils":85,debug:11}],82:[function(e,t,n){"use strict";t.exports=function(t){function n(e){var t=r([e],{type:"text/javascript"});return o.createObjectURL(t)}var r=e("../shared/utils").createBlob,o="undefined"!=typeof URL?URL:webkitURL,i=r([t],{type:"text/javascript"});return new Worker(n(i))}},{"../shared/utils":89}],83:[function(e,t,n){(function(n){"use strict";function r(e,t){var r=window.__pouchdb_global_worker;if(!r)try{r=s(c),r.addEventListener("error",function(e){"console"in n&&"warn"in console&&console.warn("worker threw an error",e.error)}),window.__pouchdb_global_worker=r}catch(e){return"console"in n&&"info"in console&&console.info("This browser is not supported by WorkerPouch. Please use isSupportedBrowser() to check.",e),t(new Error("browser unsupported by worker-pouch"))}var a=o({worker:function(){return r}},e);i.call(this,a,t)}var o=e("js-extend").extend,i=e("./core"),s=e("./create-worker"),a=e("./is-supported-browser"),c=e("../workerified");r.valid=function(){return!0},r.use_prefix=!1,r.isSupportedBrowser=a,t.exports=r,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.adapter("worker",t.exports)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../workerified":91,"./core":81,"./create-worker":82,"./is-supported-browser":84,"js-extend":35}],84:[function(e,t,n){(function(n){"use strict";var r=e("pouchdb-promise"),o=e("./create-worker");t.exports=function(){return r.resolve().then(function(){var e=o('self.onmessage = function () {  self.postMessage({    hasIndexedDB: (typeof indexedDB !== "undefined")  });};');return new r(function(t,n){function r(r){return e.terminate(),r.data.hasIndexedDB?void t():void n()}function o(){e.terminate(),n()}e.addEventListener("error",o),e.addEventListener("message",r),e.postMessage({})})}).then(function(){return!0},function(e){return"console"in n&&"info"in console&&console.info("This browser is not supported by WorkerPouch",e),!1})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./create-worker":82,"pouchdb-promise":45}],85:[function(e,t,n){(function(t){"use strict";function r(e){var t=["filter","map","reduce"],n=["onChange","processChange","complete"],r={};return Object.keys(e).forEach(function(o){n.indexOf(o)===-1&&(t.indexOf(o)!==-1&&"function"==typeof e[o]?r[o]={type:"func",func:e[o].toString()}:r[o]=e[o])}),r}var o=e("../shared/utils"),i=e("debug")("pouchdb:worker:client"),s="undefined"==typeof t||t.browser;n.preprocessAttachments=function(e){return e._attachments&&Object.keys(e._attachments)?o.Promise.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data){if(s)return new o.Promise(function(e){o.readAsBinaryString(n.data,function(t){n.data=btoa(t),e()})});n.data=n.data.toString("base64")}})):o.Promise.resolve()},n.encodeArgs=function(e){var t=[];return e.forEach(function(e){null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Blob||e instanceof Date?t.push(e):t.push(r(e))}),t},n.padInt=function(e,t){for(var n=e.toString();n.length<t;)n="0"+n;return n},n.adapterFun=function(e,t){function n(e,t,n){if(i.enabled){for(var r=e.name||e._db_name,o=[r,t],s=0;s<n.length-1;s++)o.push(n[s]);i.apply(null,o);var a=n[n.length-1];n[n.length-1]=function(e,n){var o=[r,t];o=o.concat(e?["error",e]:["success",n]),i.apply(null,o),a(e,n)}}}return o.toPromise(o.getArguments(function(r){if(this._closed)return o.Promise.reject(new Error("database is closed"));var i=this;return n(i,e,r),this.taskqueue.isReady?t.apply(this,r):new o.Promise(function(t,n){i.taskqueue.addTask(function(o){o?n(o):t(i[e].apply(i,r))})})}))}}).call(this,e("_process"))},{"../shared/utils":89,_process:46,debug:11}],86:[function(e,t,n){"use strict";t.exports=e("./client")},{"./client":83}],87:[function(e,t,n){"use strict";function r(e){Error.call(e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}var o=e("inherits");o(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},n.UNAUTHORIZED=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),n.MISSING_BULK_DOCS=new r({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),n.MISSING_DOC=new r({status:404,error:"not_found",reason:"missing"}),n.REV_CONFLICT=new r({status:409,error:"conflict",reason:"Document update conflict"}),n.INVALID_ID=new r({status:400,error:"invalid_id",reason:"_id field must contain a string"}),n.MISSING_ID=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),n.RESERVED_ID=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),n.NOT_OPEN=new r({status:412,error:"precondition_failed",reason:"Database not open"}),n.UNKNOWN_ERROR=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),n.BAD_ARG=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),n.INVALID_REQUEST=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),n.QUERY_PARSE_ERROR=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),n.DOC_VALIDATION=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),n.BAD_REQUEST=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),n.NOT_AN_OBJECT=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),n.DB_MISSING=new r({status:404,error:"not_found",reason:"Database not found"}),n.IDB_ERROR=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),n.WSQ_ERROR=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),n.LDB_ERROR=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),n.FORBIDDEN=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),n.INVALID_REV=new r({status:400,error:"bad_request",reason:"Invalid rev format"}),n.FILE_EXISTS=new r({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),n.MISSING_STUB=new r({status:412,error:"missing_stub"}),n.error=function(e,t,n){function o(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return o.prototype=r.prototype,new o(t)},n.getErrorTypeByProp=function(e,t,r){var o=n,i=Object.keys(o).filter(function(n){var r=o[n];return"function"!=typeof r&&r[e]===t}),s=r&&i.filter(function(e){var t=o[e];return t.message===r})[0]||i[0];return s?o[s]:null},n.generateErrorFromResponse=function(e){var t,r,o,i,s,a=n;return r=e.error===!0&&"string"==typeof e.name?e.name:e.error,s=e.reason,o=a.getErrorTypeByProp("name",r,s),e.missing||"missing"===s||"deleted"===s||"not_found"===r?o=a.MISSING_DOC:"doc_validation"===r?(o=a.DOC_VALIDATION,i=s):"bad_request"===r&&o.message!==s&&(0===s.indexOf("unknown stub attachment")?(o=a.MISSING_STUB,i=s):o=a.BAD_REQUEST),o||(o=a.getErrorTypeByProp("status",e.status,s)||a.UNKNOWN_ERROR),t=a.error(o,s,r),i&&(t.message=i),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.statusText&&(t.name=e.statusText),e.missing&&(t.missing=e.missing),t}},{inherits:34}],88:[function(e,t,n){"use strict";function r(e){return e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function o(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function i(e){return e instanceof ArrayBuffer?o(e):e.slice(0,e.size,e.type)}t.exports=function e(t){var n,o,s;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(n=[],o=0,s=t.length;o<s;o++)n[o]=e(t[o]);return n}if(t instanceof Date)return t.toISOString();if(r(t))return i(t);n={};for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=e(t[o]);"undefined"!=typeof a&&(n[o]=a)}return n}},{}],89:[function(e,t,n){(function(t,r){"use strict";var o=e("pouchdb-promise");n.lastIndexOf=function(e,t){for(var n=e.length-1;n>=0;n--)if(e.charAt(n)===t)return n;return-1},n.clone=e("./pouchdb-clone"),n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw"console"in r&&"trace"in console&&console.trace(),new Error("once called  more than once");t=!0,e.apply(this,n)})},n.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},n.toPromise=function(e){return n.getArguments(function(r){var i,s=this,a="function"==typeof r[r.length-1]&&r.pop();a&&(i=function(e,n){t.nextTick(function(){a(e,n)})});var c=new o(function(t,o){try{var i=n.once(function(e,n){e?o(e):t(n)});r.push(i),e.apply(s,r)}catch(e){o(e)}});return i&&c.then(function(e){i(null,e)},i),c.cancel=function(){return this},c})},n.inherits=e("inherits"),n.Promise=o;var i=e("pouchdb-binary-util");n.createBlob=i.createBlob,n.readAsArrayBuffer=i.readAsArrayBuffer,n.readAsBinaryString=i.readAsBinaryString,n.binaryStringToArrayBuffer=i.binaryStringToArrayBuffer,n.arrayBufferToBinaryString=i.arrayBufferToBinaryString}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./pouchdb-clone":88,_process:46,inherits:34,"pouchdb-binary-util":43,"pouchdb-promise":45}],90:[function(e,t,n){"use strict";function r(e){return 0|Math.random()*e}function o(e,t){t=t||i.length;var n="",o=-1;if(e){for(;++o<e;)n+=i[r(t)];return n}for(;++o<36;)switch(o){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=i[3&r(16)|8];break;default:n+=i[r(16)]}return n}var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.exports=o},{}],91:[function(e,t,n){t.exports='!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module \'"+s+"\'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";var r=e(3),o=e(4);r(self,o)},{3:3,4:4}],2:[function(e,t,n){"use strict";function r(e){Error.call(e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}var o=e(13);o(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},n.UNAUTHORIZED=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),n.MISSING_BULK_DOCS=new r({status:400,error:"bad_request",reason:"Missing JSON list of \'docs\'"}),n.MISSING_DOC=new r({status:404,error:"not_found",reason:"missing"}),n.REV_CONFLICT=new r({status:409,error:"conflict",reason:"Document update conflict"}),n.INVALID_ID=new r({status:400,error:"invalid_id",reason:"_id field must contain a string"}),n.MISSING_ID=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),n.RESERVED_ID=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),n.NOT_OPEN=new r({status:412,error:"precondition_failed",reason:"Database not open"}),n.UNKNOWN_ERROR=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),n.BAD_ARG=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),n.INVALID_REQUEST=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),n.QUERY_PARSE_ERROR=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),n.DOC_VALIDATION=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),n.BAD_REQUEST=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),n.NOT_AN_OBJECT=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),n.DB_MISSING=new r({status:404,error:"not_found",reason:"Database not found"}),n.IDB_ERROR=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),n.WSQ_ERROR=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),n.LDB_ERROR=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),n.FORBIDDEN=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),n.INVALID_REV=new r({status:400,error:"bad_request",reason:"Invalid rev format"}),n.FILE_EXISTS=new r({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),n.MISSING_STUB=new r({status:412,error:"missing_stub"}),n.error=function(e,t,n){function o(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return o.prototype=r.prototype,new o(t)},n.getErrorTypeByProp=function(e,t,r){var o=n,i=Object.keys(o).filter(function(n){var r=o[n];return"function"!=typeof r&&r[e]===t}),s=r&&i.filter(function(e){var t=o[e];return t.message===r})[0]||i[0];return s?o[s]:null},n.generateErrorFromResponse=function(e){var t,r,o,i,s,a=n;return r=e.error===!0&&"string"==typeof e.name?e.name:e.error,s=e.reason,o=a.getErrorTypeByProp("name",r,s),e.missing||"missing"===s||"deleted"===s||"not_found"===r?o=a.MISSING_DOC:"doc_validation"===r?(o=a.DOC_VALIDATION,i=s):"bad_request"===r&&o.message!==s&&(0===s.indexOf("unknown stub attachment")?(o=a.MISSING_STUB,i=s):o=a.BAD_REQUEST),o||(o=a.getErrorTypeByProp("status",e.status,s)||a.UNKNOWN_ERROR),t=a.error(o,s,r),i&&(t.message=i),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.statusText&&(t.name=e.statusText),e.missing&&(t.missing=e.missing),t}},{13:13}],3:[function(e,t,n){"use strict";function r(e,t){function n(t,n){f(" -> sendUncaughtError",t,n),e.postMessage({type:"uncaughtError",id:t,content:s.createError(n)})}function r(t,n,r){f(" -> sendError",t,n,r),e.postMessage({type:"error",id:t,messageId:n,content:s.createError(r)})}function l(t,n,r){f(" -> sendSuccess",t,n),e.postMessage({type:"success",id:t,messageId:n,content:r})}function d(t,n,r){f(" -> sendUpdate",t,n),e.postMessage({type:"update",id:t,messageId:n,content:r})}function p(e,t,n,i){var s=u["$"+e];return s?void o.resolve().then(function(){return s[t].apply(s,i)}).then(function(t){l(e,n,t)}).catch(function(t){r(e,n,t)}):r(e,n,{error:"db not found"})}function h(e,t,n){var r=n[0];r&&"object"==typeof r&&(r.returnDocs=!0,r.return_docs=!0),p(e,"changes",t,n)}function v(e,t,n){var s=u["$"+e];return s?void o.resolve().then(function(){var r=n[0],o=n[1],a=n[2];return"object"!=typeof a&&(a={}),s.get(r,a).then(function(r){if(!r._attachments||!r._attachments[o])throw i.MISSING_DOC;return s.getAttachment.apply(s,n).then(function(n){l(e,t,n)})})}).catch(function(n){r(e,t,n)}):r(e,t,{error:"db not found"})}function y(e,t,n){var i="$"+e,s=u[i];return s?(delete u[i],void o.resolve().then(function(){return s.destroy.apply(s,n)}).then(function(n){l(e,t,n)}).catch(function(n){r(e,t,n)})):r(e,t,{error:"db not found"})}function _(e,t,n){var i=u["$"+e];return i?void o.resolve().then(function(){var o=i.changes(n[0]);c[t]=o,o.on("change",function(n){d(e,t,n)}).on("complete",function(n){o.removeAllListeners(),delete c[t],l(e,t,n)}).on("error",function(n){o.removeAllListeners(),delete c[t],r(e,t,n)})}):r(e,t,{error:"db not found"})}function m(e){var t=c[e];t&&t.cancel()}function g(e,t){return o.resolve().then(function(){e.on("error",function(e){n(t,e)})})}function b(e,n,o){var i="$"+e,s=u[i];if(s)return g(s,e).then(function(){return l(e,n,{ok:!0,exists:!0})});var a="string"==typeof o[0]?o[0]:o[0].name;return a?(s=u[i]=t(o[0]),void g(s,e).then(function(){l(e,n,{ok:!0})}).catch(function(t){r(e,n,t)})):r(e,n,{error:"you must provide a database name"})}function w(e,t,n,o){switch(f("onReceiveMessage",t,e,n,o),t){case"createDatabase":return b(e,n,o);case"id":return void l(e,n,e);case"info":case"put":case"allDocs":case"bulkDocs":case"post":case"get":case"remove":case"revsDiff":case"compact":case"viewCleanup":case"removeAttachment":case"putAttachment":case"query":return p(e,t,n,o);case"changes":return h(e,n,o);case"getAttachment":return v(e,n,o);case"liveChanges":return _(e,n,o);case"cancelChanges":return m(n);case"destroy":return y(e,n,o);default:return r(e,n,{error:"unknown API method: "+t})}}function k(e,t){var n=e.type,r=e.messageId,o=a(e.args);w(t,n,r,o)}e.addEventListener("message",function(e){if(e.data&&e.data.id&&e.data.args&&e.data.type&&e.data.messageId){var t=e.data.id;"close"===e.data.type?(f("closing worker",t),delete u["$"+t]):k(e.data,t)}})}var o=e(32),i=e(2),s=e(6),a=s.decodeArgs,u={},c={},f=e(8)("pouchdb:worker");t.exports=r},{2:2,32:32,6:6,8:8}],4:[function(e,t,n){"use strict";t.exports=e(24).plugin(e(17)).plugin(e(16)).plugin(e(29)).plugin(e(33))},{16:16,17:17,24:24,29:29,33:33}],5:[function(_dereq_,module,exports){"use strict";var log=_dereq_(8)("pouchdb:worker");module.exports=function safeEval(str){log("safeEvaling",str);var target={};return eval("target.target = ("+str+");"),log("returning",target.target),target.target}},{8:8}],6:[function(e,t,n){"use strict";var r=e(5);n.createError=function(e){var t=e.status||500;return e.name&&e.message&&("Error"!==e.name&&"TypeError"!==e.name||(e.message.indexOf("Bad special document member")!==-1?e.name="doc_validation":e.name="bad_request"),e={error:e.name,name:e.name,reason:e.message,message:e.message,status:t}),e},n.decodeArgs=function(e){var t=["filter","map","reduce"];return e.forEach(function(e){"object"!=typeof e||null===e||Array.isArray(e)||t.forEach(function(t){t in e&&null!==e[t]?"func"===e[t].type&&e[t].func&&(e[t]=r(e[t].func)):delete e[t]})}),e}},{5:5}],7:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],8:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e(9),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{9:9}],9:[function(e,t,n){function r(){return n.colors[f++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var u=o.log||n.log||console.log.bind(console);u.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/\\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=u,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e(15),n.names=[],n.skips=[],n.formatters={};var c,f=0},{15:15}],10:[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():(e.PromisePool=r(),e.promisePool=e.PromisePool)}(this,function(){"use strict";var e=function(){this._listeners={}};e.prototype.addEventListener=function(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].indexOf(t)<0&&this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n>=0&&this._listeners[e].splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._listeners[e.type]&&this._listeners[e.type].length)for(var t=this._listeners[e.type].slice(),n=0,r=t.length;n<r;++n)t[n].call(this,e)};var t=function(e){return"function"==typeof e.constructor&&"GeneratorFunction"===e.constructor.name},n=function(e){return{next:function(){var t=e();return t?{value:t}:{done:!0}}}},r=function(e){var t=!1;return{next:function(){return t?{done:!0}:(t=!0,{value:e})}}},o=function(e,o){var i=typeof e;if("object"===i){if("function"==typeof e.next)return e;if("function"==typeof e.then)return r(e)}return"function"===i?t(e)?e():n(e):r(o.resolve(e))},i=function(e,t,n){this.target=e,this.type=t,this.data=n},s=function(t,n,r){if(e.call(this),"number"!=typeof n||Math.floor(n)!==n||n<1)throw new Error("Invalid concurrency");this._concurrency=n,this._options=r||{},this._options.promise=this._options.promise||Promise,this._iterator=o(t,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return s.prototype=new e,s.prototype.constructor=s,s.prototype.concurrency=function(e){return"undefined"!=typeof e&&(this._concurrency=e,this.active()&&this._proceed()),this._concurrency},s.prototype.size=function(){return this._size},s.prototype.active=function(){return!!this._promise},s.prototype.promise=function(){return this._promise},s.prototype.start=function(){var e=this,t=this._options.promise;return this._promise=new t(function(t,n){e._callbacks={reject:n,resolve:t},e._proceed()}),this._promise},s.prototype._fireEvent=function(e,t){this.dispatchEvent(new i(this,e,t))},s.prototype._settle=function(e){e?this._callbacks.reject(e):this._callbacks.resolve(),this._promise=null,this._callbacks=null},s.prototype._onPooledPromiseFulfilled=function(e,t){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:e,result:t}),this._proceed())},s.prototype._onPooledPromiseRejected=function(e,t){this._size--,this.active()&&(this._fireEvent("rejected",{promise:e,error:t}),this._settle(t||new Error("Unknown error")))},s.prototype._trackPromise=function(e){var t=this;e.then(function(n){t._onPooledPromiseFulfilled(e,n)},function(n){t._onPooledPromiseRejected(e,n)}).catch(function(e){t._settle(new Error("Promise processing failed: "+e))})},s.prototype._proceed=function(){if(!this._done){for(var e=null;this._size<this._concurrency&&!(e=this._iterator.next()).done;)this._size++,this._trackPromise(e.value);this._done=null===e||!!e.done}this._done&&0===this._size&&this._settle()},s.PromisePoolEvent=i,s.PromisePool=s,s})},{}],11:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError(\'Uncaught, unspecified "error" event.\')}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];n.apply(this,i)}else if(s(n)){for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i)}return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],12:[function(e,t,n){(function(e){"use strict";function n(){f=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}f=!1}function r(e){1!==l.push(e)||f||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),o=function(){u.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var f,l=[];t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],14:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(e,t,n){h(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,s=c(o);"error"===s.status&&n(s.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function f(e){return e instanceof this?e:v.resolve(new this(r),e)}function l(e){var t=new this(r);return v.reject(t,e)}function d(e){function t(e,t){function r(e){s[t]=e,++a!==o||i||(i=!0,v.resolve(c,s))}n.resolve(e).then(r,function(e){i||(i=!0,v.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=new Array(o),a=0,u=-1,c=new this(r);++u<o;)t(e[u],u);return c}function p(e){function t(e){n.resolve(e).then(function(e){i||(i=!0,v.resolve(a,e))},function(e){i||(i=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=-1,a=new this(r);++s<o;)t(e[s]);return a}var h=e(12),v={},y=["REJECTED"],_=["FULFILLED"],m=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===_||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==m){var o=this.state===_?e:t;s(n,o,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=_,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=f,o.reject=l,o.all=d,o.race=p},{12:12}],15:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*f;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=f?Math.round(e/f)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,f,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,f=24*c,l=365.25*f;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?i(e):o(e)}},{}],16:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=m.base64StringToBlobOrBuffer(n.data,n.content_type)})}function i(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function s(e){return e._attachments&&Object.keys(e._attachments)?v.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new v(function(e){m.blobOrBufferToBase64(n.data,e)}).then(function(e){n.data=e})})):v.resolve()}function a(e){if(!e.prefix)return!1;var t=h.parseUri(e.prefix).protocol;return"http"===t||"https"===t}function u(e,t){if(a(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=h.parseUri(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\\/|\\/$)/g,"").split("/");return r.db=o.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function c(e,t){return f(e,e.db+"/"+t)}function f(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function l(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function d(e,t){function n(e,t,n){var r=e.ajax||{},o=h.jsExtend(h.clone(I),r,t);return O(o.method+" "+o.url),w._ajax(o,n)}function r(e,t){return new v(function(r,o){n(e,t,function(e,t){return e?o(e):void r(t)})})}function a(e,t){return h.adapterFun(e,_(function(e){d().then(function(){return t.apply(this,e)}).catch(function(t){var n=e.pop();n(t)})}))}function d(){if(e.skipSetup||e.skip_setup)return v.resolve();if(q)return q;var t={method:"GET",url:A};return q=r({},t).catch(function(e){return e&&e.status&&404===e.status?(h.explainError(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:A})):v.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||v.reject(e)}),q.catch(function(){q=null}),q}function p(e){return e.split("/").map(encodeURIComponent).join("/")}var w=this,j=u(e.name,e),A=c(j,"");e=h.clone(e);var I=e.ajax||{};if(e.auth||j.auth){var D=e.auth||j.auth,x=D.username+":"+D.password,C=m.btoa(unescape(encodeURIComponent(x)));I.headers=I.headers||{},I.headers.Authorization="Basic "+C}w._ajax=y;var q;setTimeout(function(){t(null,w)}),w.type=function(){return"http"},w.id=a("id",function(e){n({},{method:"GET",url:f(j,"")},function(t,n){var r=n&&n.uuid?n.uuid+j.db:c(j,"");e(null,r)})}),w.request=a("request",function(e,t){e.url=c(j,e.url),n({},e,t)}),w.compact=a("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=h.clone(e),n(e,{url:c(j,"_compact"),method:"POST"},function(){function n(){w.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),w.bulkGet=h.adapterFun("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),n({},{url:c(j,"_bulk_get"+l(r)),method:"POST",body:{docs:e.docs}},t)}function o(){function n(e){return function(n,r){a[e]=r.results,++s===o&&t(null,{results:h.flatten(a)})}}for(var r=E,o=Math.ceil(e.docs.length/r),s=0,a=new Array(o),u=0;u<o;u++){var c=h.pick(e,["revs","attachments"]);c.ajax=I,c.docs=e.docs.slice(u*r,Math.min(e.docs.length,(u+1)*r)),h.bulkGetShim(i,c,n(u))}}var i=this,s=f(j,""),a=S[s];"boolean"!=typeof a?r(function(e,n){if(e){var r=Math.floor(e.status/100);4===r||5===r?(S[s]=!1,h.explainError(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):t(e)}else S[s]=!0,t(null,n)}):a?r(t):o()}),w._info=function(e){d().then(function(){n({},{method:"GET",url:c(j,"")},function(t,n){return t?e(t):(n.host=c(j,""),void e(null,n))})}).catch(e)},w.get=a("get",function(e,t,n){function o(e){function n(){if(!s.length)return null;var n=s.pop(),a=o[n],u=i(e._id)+"/"+p(n)+"?rev="+e._rev;return r(t,{method:"GET",url:c(j,u),binary:!0}).then(function(e){return t.binary?e:new v(function(t){m.blobOrBufferToBase64(e,t)})}).then(function(e){delete a.stub,delete a.length,a.data=e})}var o=e._attachments,s=o&&Object.keys(o);if(o&&s.length)return new g(n,5,{promise:v}).start()}function s(e){return Array.isArray(e)?v.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=h.clone(t);var a={};t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=i(e);var u={method:"GET",url:c(j,e+l(a))};r(t,u).then(function(e){return v.resolve().then(function(){if(t.attachments)return s(e)}).then(function(){n(null,e)})}).catch(n)}),w.remove=a("remove",function(e,t,r,o){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(s=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=s._rev||r.rev;n(r,{method:"DELETE",url:c(j,i(s._id))+"?rev="+a},o)}),w.getAttachment=a("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var s=r.rev?"?rev="+r.rev:"",a=c(j,i(e))+"/"+p(t)+s;n(r,{method:"GET",url:a,binary:!0},o)}),w.removeAttachment=a("removeAttachment",function(e,t,r,o){var s=c(j,i(e)+"/"+p(t))+"?rev="+r;n({},{method:"DELETE",url:s},o)}),w.putAttachment=a("putAttachment",function(e,t,r,o,s,a){"function"==typeof s&&(a=s,s=o,o=r,r=null);var u=i(e)+"/"+p(t),f=c(j,u);if(r&&(f+="?rev="+r),"string"==typeof o){var l;try{l=m.atob(o)}catch(e){return a(b.createError(b.BAD_ARG,"Attachment is not a valid base64 string"))}o=l?m.binaryStringToBlobOrBuffer(l,s):""}var d={headers:{"Content-Type":s},method:"PUT",url:f,processData:!1,body:o,timeout:I.timeout||6e4};n({},d,a)}),w._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,d().then(function(){return v.all(e.docs.map(s))}).then(function(){n(t,{method:"POST",url:c(j,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})}).catch(r)},w._put=function(e,t,r){d().then(function(){return s(e)}).then(function(){n(t,{method:"PUT",url:c(j,i(e._id)),body:e},function(e,t){return e?r(e):void r(null,t)})}).catch(r)},w.allDocs=a("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=h.clone(e);var n,i={},s="GET";e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),"undefined"!=typeof e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),"undefined"!=typeof e.limit&&(i.limit=e.limit),"undefined"!=typeof e.skip&&(i.skip=e.skip);var a=l(i);"undefined"!=typeof e.keys&&(s="POST",n={keys:e.keys}),r(e,{method:s,url:c(j,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(o),t(null,n)}).catch(t)}),w._changes=function(e){var t="batch_size"in e?e.batch_size:k;e=h.clone(e),e.timeout="timeout"in e?e.timeout:"timeout"in I?I.timeout:3e4;var r,i=e.timeout?{timeout:e.timeout-5e3}:{},s="undefined"!=typeof e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),"heartbeat"in e?e.heartbeat&&(i.heartbeat=e.heartbeat):i.heartbeat=1e4,e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(i[u]=e.query_params[u]);var f,p="GET";e.doc_ids&&(i.filter="_doc_ids",p="POST",f={doc_ids:e.doc_ids});var v,y,_=function(r,o){if(!e.aborted){i.since=r,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var u={method:p,url:c(j,"_changes"+l(i)),timeout:e.timeout,body:f};y=r,e.aborted||d().then(function(){v=n(e,u,o)}).catch(o)}},m={results:[]},g=function(n,i){if(!e.aborted){var u=0;if(i&&i.results){u=i.results.length,m.last_seq=i.last_seq;var c={};c.query=e.query_params,i.results=i.results.filter(function(t){a--;var n=h.filterChange(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&o(t),r&&m.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(y=i.last_seq);var f=s&&a<=0||i&&u<t||e.descending;(!e.continuous||s&&a<=0)&&f?e.complete(null,m):setTimeout(function(){_(y,g)},0)}};return _(e.since||0,g),{cancel:function(){e.aborted=!0,v&&v.abort()}}},w.revsDiff=a("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:c(j,"_revs_diff"),body:e},r)}),w._close=function(e){e()},w._destroy=function(e,t){n(e,{url:c(j,""),method:"DELETE"},function(e,n){return e&&e.status&&404!==e.status?t(e):void t(null,n)})}}function p(e){e.adapter("http",d,!1),e.adapter("https",d,!1)}var h=e(34),v=r(e(32)),y=r(e(19)),_=r(e(7)),m=e(20),g=r(e(10)),b=e(25),w=r(e(8)),k=25,E=50,S={},O=w("pouchdb:http");d.valid=function(){return!0},t.exports=p},{10:10,19:19,20:20,25:25,32:32,34:34,7:7,8:8}],17:[function(e,t,n){(function(n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,n,r){\ntry{e.apply(t,n)}catch(e){r.emit("error",e)}}function i(e){if(!U.running&&U.queue.length){U.running=!0;var t=U.queue.shift();t.action(function(r,s){o(t.callback,this,[r,s],e),U.running=!1,n.nextTick(function(){i(e)})})}}function s(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(I.createError(I.IDB_ERROR,n,t.type))}}function a(e,t,n){return{data:C.safeJsonStringify(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function u(e){if(!e)return null;var t=C.safeJsonParse(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function c(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function f(e,t,n,r){n?r(e?"string"!=typeof e?e:q.base64StringToBlobOrBuffer(e,t):q.blob([""],{type:t})):e?"string"!=typeof e?q.readAsBinaryString(e,function(e){r(q.btoa(e))}):r(e):r("")}function l(e,t,n,r){function o(){++a===s.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest,s=n.objectStore(B).get(i);s.onsuccess=function(e){r.body=e.target.result.body,o()}}var s=Object.keys(e._attachments||{});if(!s.length)return r&&r();var a=0;s.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function d(e,t){return x.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return x.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new x(function(s){f(o,i,t,function(t){e.doc._attachments[n]=O.jsExtend(O.pick(r,["digest","content_type"]),{data:t}),s()})})}}))}}))}function p(e,t,n){function r(){c--,c||o()}function o(){i.length&&i.forEach(function(e){var t=u.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||a.delete(e)}})}var i=[],s=n.objectStore(T),a=n.objectStore(B),u=n.objectStore(N),c=e.length;e.forEach(function(e){var n=s.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();s.delete(t);var n=u.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),u.delete(t.primaryKey),t.continue()}else r()}}})}function h(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function v(e,t,n,r,o,i,c){function f(){var e=[L,T,B,M,N],t=h(o,e,"readwrite");return t.error?c(t.error):(E=t.txn,E.onabort=s(c),E.ontimeout=s(c),E.oncomplete=v,S=E.objectStore(L),O=E.objectStore(T),x=E.objectStore(B),C=E.objectStore(N),void _(function(e){return e?(z=!0,c(e)):void d()}))}function l(){D.processDocs(e.revs_limit,R,r,K,E,V,m,n)}function d(){function e(){++n===R.length&&l()}function t(t){var n=u(t.target.result);n&&K.set(n.id,n),e()}if(R.length)for(var n=0,r=0,o=R.length;r<o;r++){var i=R[r];if(i._id&&D.isLocalId(i._id))e();else{var s=S.get(i.metadata.id);s.onsuccess=t}}}function v(){z||(i.notify(r._meta.name),r._meta.docCount+=P,c(null,V))}function y(e,t){var n=x.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=I.createError(I.MISSING_STUB,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function _(e){function t(){++o===n.length&&e(r)}var n=[];if(R.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){y(e,function(e){e&&!r&&(r=e),t()})})}function m(e,t,n,r,o,i,s,a){P+=i,e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0);var c=u._attachments&&Object.keys(u._attachments).length;return c?b(e,t,n,o,s,a):void g(e,t,n,o,s,a)}function g(e,t,n,o,i,s){function u(i){var s=e.stemmedRevs||[];o&&r.auto_compaction&&(s=s.concat(j.compactTree(e.metadata))),s&&s.length&&p(s,e.metadata.id,E),d.seq=i.target.result,delete d.rev;var u=a(d,t,n),c=S.put(u);c.onsuccess=f}function c(e){e.preventDefault(),e.stopPropagation();var t=O.index("_doc_id_rev"),n=t.getKey(l._doc_id_rev);n.onsuccess=function(e){var t=O.put(l,e.target.result);t.onsuccess=u}}function f(){V[i]={ok:!0,id:d.id,rev:t},K.set(e.metadata.id,e.metadata),w(e,d.seq,s)}var l=e.data,d=e.metadata;l._doc_id_rev=d.id+"::"+d.rev,delete l._id,delete l._rev;var h=O.put(l);h.onsuccess=u,h.onerror=c}function b(e,t,n,r,o,i){function s(){c===f.length&&g(e,t,n,r,o,i)}function a(){c++,s()}var u=e.data,c=0,f=Object.keys(u._attachments);f.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,s();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);var i=r.digest;k(i,o,a)}})}function w(e,t,n){function r(){++i===s.length&&n()}function o(n){var o=e.data._attachments[n].digest,i=C.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var i=0,s=Object.keys(e.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)o(s[a])}function k(e,t,n){var r=x.count(e);r.onsuccess=function(r){var o=r.target.result;if(o)return n();var i={digest:e,body:t},s=x.put(i);s.onsuccess=n}}for(var E,S,O,x,C,q,R=t.docs,P=0,F=0,U=R.length;F<U;F++){var G=R[F];G._id&&D.isLocalId(G._id)||(G=R[F]=D.parseDoc(G,n.new_edits),G.error&&!q&&(q=G))}if(q)return c(q);var V=new Array(R.length),K=new A.Map,z=!1,J=r._meta.blobSupport?"blob":"base64";D.preprocessAttachments(R,J,function(e){return e?c(e):void f()})}function y(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function _(e,t,n,r){return"DataError"===n.name&&0===n.code?r(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]}):void r(I.createError(I.IDB_ERROR,n.name,n.message))}function m(e,t,n,r){function o(e,r){function o(t,n,r){var o=t.id+"::"+r;C.get(o).onsuccess=function(r){n.doc=c(r.target.result),e.conflicts&&(n.doc._conflicts=j.collectConflicts(t)),l(n.doc,e,A)}}function i(t,n,r){var i={id:r.id,key:r.id,value:{rev:n}},s=r.deleted;if("ok"===e.deleted)q.push(i),s?(i.value.deleted=!0,i.doc=null):e.include_docs&&o(r,i,n);else if(!s&&g--<=0&&(q.push(i),e.include_docs&&o(r,i,n),0===--b))return;t.continue()}function s(e){R=t._meta.docCount;var n=e.target.result;if(n){var r=u(n.value),o=r.winningRev;i(n,o,r)}}function a(){r(null,{total_rows:R,offset:e.skip,rows:q})}function f(){e.attachments?d(q,e.binary).then(a):a()}var p="startkey"in e&&e.startkey,v="endkey"in e&&e.endkey,m="key"in e&&e.key,g=e.skip||0,b="number"==typeof e.limit?e.limit:-1,w=e.inclusive_end!==!1,k="descending"in e&&e.descending?"prev":null,E=y(p,v,w,m,k);if(E&&E.error)return _(t,e,E.error,r);var S=[L,T];e.attachments&&S.push(B);var O=h(n,S,"readonly");if(O.error)return r(O.error);var A=O.txn,I=A.objectStore(L),D=A.objectStore(T),x=k?I.openCursor(E,k):I.openCursor(E),C=D.index("_doc_id_rev"),q=[],R=0;A.oncomplete=f,x.onsuccess=s}function i(e,n){return 0===e.limit?n(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]}):void o(e,n)}i(e,r)}function g(e){return new x(function(t){var n=q.blob([""]);e.objectStore(F).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\\/(\\d+)/),n=navigator.userAgent.match(/Edge\\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function b(e,t){var n=this;U.queue.push({action:function(t){w(n,e,t)},callback:t}),i(n.constructor)}function w(e,t,r){function o(e){var t=e.createObjectStore(L,{keyPath:"id"});e.createObjectStore(T,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(B,{keyPath:"digest"}),e.createObjectStore(P,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(F),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(M,{keyPath:"_id"});var n=e.createObjectStore(N,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function i(e,t){var n=e.objectStore(L);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=j.isDeleted(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function y(e){e.createObjectStore(M,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function _(e,t){var n=e.objectStore(M),r=e.objectStore(L),o=e.objectStore(T),i=r.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var s=i.value,a=s.id,u=j.isLocalId(a),c=j.winningRev(s);if(u){var f=a+"::"+c,l=a+"::",d=a+"::~",p=o.index("_doc_id_rev"),h=IDBKeyRange.bound(l,d,!1,!1),v=p.openCursor(h);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===f&&n.put(t),o.delete(v.primaryKey),v.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function b(e){var t=e.createObjectStore(N,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function w(e,t){var n=e.objectStore(T),r=e.objectStore(B),o=e.objectStore(N),i=r.count();i.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,s=Object.keys(r._attachments||{}),a={},u=0;u<s.length;u++){var c=r._attachments[s[u]];a[c.digest]=!0}var f=Object.keys(a);for(u=0;u<f.length;u++){var l=f[u];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}):t()}}function E(e){function t(e){return e.data?u(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(T),r=e.objectStore(L),o=r.openCursor();o.onsuccess=function(e){function o(){var e=u.id+"::",t=u.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),o=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return u.seq=o,i();var n=t.primaryKey;n>o&&(o=n),t.continue()}}function i(){var e=a(u,u.winningRev,u.deleted),t=r.put(e);t.onsuccess=function(){s.continue()}}var s=e.target.result;if(s){var u=t(s.value);return u.winningRev=u.winningRev||j.winningRev(u),u.seq?i():void o()}}}var D=t.name,x=null;e._meta=null,e.type=function(){return"idb"},e._id=O.toPromise(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){v(t,n,r,e,x,V,o)},e._get=function(e,t,n){function r(){n(s,{doc:o,metadata:i,ctx:a})}var o,i,s,a=t.ctx;if(!a){var f=h(x,[L,T,B],"readonly");if(f.error)return n(f.error);a=f.txn}a.objectStore(L).get(e).onsuccess=function(e){if(i=u(e.target.result),!i)return s=I.createError(I.MISSING_DOC,"missing"),r();if(j.isDeleted(i)&&!t.rev)return s=I.createError(I.MISSING_DOC,"deleted"),r();var n=a.objectStore(T),f=t.rev||i.winningRev,l=i.id+"::"+f;n.index("_doc_id_rev").get(l).onsuccess=function(e){return o=e.target.result,o&&(o=c(o)),o?void r():(s=I.createError(I.MISSING_DOC,"missing"),r())}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var s=h(x,[L,T,B],"readonly");if(s.error)return o(s.error);i=s.txn}var a=n.digest,u=n.content_type;i.objectStore(B).get(a).onsuccess=function(e){var t=e.target.result.body;f(t,u,r.binary,function(e){o(null,e)})}},e._info=function(t){if(null===x||!G.has(D)){var n=new Error("db isn\'t open");return n.id="idbNull",t(n)}var r,o,i=h(x,[T],"readonly");if(i.error)return t(i.error);var s=i.txn,a=s.objectStore(T).openCursor(null,"prev");a.onsuccess=function(t){var n=t.target.result;r=n?n.key:0,o=e._meta.docCount},s.oncomplete=function(){t(null,{doc_count:o,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(t,n){m(t,e,x,n)},e._changes=function(t){function n(e){function n(){return a.seq!==s?e.continue():(p=s,a.winningRev===i._rev?o(i):void r())}function r(){var e=i._id+"::"+a.winningRev,t=b.get(e);t.onsuccess=function(e){o(c(e.target.result))}}function o(n){var r=t.processChange(n,a,t);r.seq=a.seq;var o=E(r);return"object"==typeof o?t.complete(o):(o&&(k++,y&&w.push(r),t.attachments&&t.include_docs?l(n,t,_,function(){d([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r)),void(k!==v&&e.continue()))}var i=c(e.value),s=e.key;if(f&&!f.has(i._id))return e.continue();var a;return(a=S.get(i._id))?n():void(g.get(i._id).onsuccess=function(e){a=u(e.target.result),S.set(i._id,a),n()})}function r(e){var t=e.target.result;t&&n(t)}function o(){var e=[L,T];t.attachments&&e.push(B);var n=h(x,e,"readonly");if(n.error)return t.complete(n.error);_=n.txn,_.onabort=s(t.complete),_.oncomplete=i,m=_.objectStore(T),g=_.objectStore(L),b=m.index("_doc_id_rev");var o;o=t.descending?m.openCursor(null,"prev"):m.openCursor(IDBKeyRange.lowerBound(t.since,!0)),o.onsuccess=r}function i(){function e(){t.complete(null,{results:w,last_seq:p})}!t.continuous&&t.attachments?d(w).then(e):e()}if(t=O.clone(t),t.continuous){var a=D+":"+O.uuid();return V.addListener(D,a,e,t),V.notify(D),{cancel:function(){V.removeListener(D,a)}}}var f=t.doc_ids&&new A.Set(t.doc_ids);t.since=t.since||0;var p=t.since,v="limit"in t?t.limit:-1;0===v&&(v=1);var y;y="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var _,m,g,b,w=[],k=0,E=O.filterChange(t),S=new A.Map;o()},e._close=function(e){return null===x?e(I.createError(I.NOT_OPEN)):(x.close(),G.delete(D),x=null,void e())},e._getRevisionTree=function(e,t){var n=h(x,[L],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(L).get(e);o.onsuccess=function(e){var n=u(e.target.result);n?t(null,n.rev_tree):t(I.createError(I.MISSING_DOC))}},e._doCompaction=function(e,t,n){var r=[L,T,B,N],o=h(x,r,"readwrite");if(o.error)return n(o.error);var i=o.txn,c=i.objectStore(L);c.get(e).onsuccess=function(n){var r=u(n.target.result);j.traverseRevTree(r.rev_tree,function(e,n,r,o,i){var s=n+"-"+r;t.indexOf(s)!==-1&&(i.status="missing")}),p(t,e,i);var o=r.winningRev,s=r.deleted;i.objectStore(L).put(a(r,o,s))},i.onabort=s(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=h(x,[M],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(M).get(e);o.onerror=s(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(I.createError(I.MISSING_DOC))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;r?e._rev="0-"+(parseInt(r.split("-")[1],10)+1):e._rev="0-1";var i,a=t.ctx;if(!a){var u=h(x,[M],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=s(n),a.oncomplete=function(){i&&n(null,i)}}var c,f=a.objectStore(M);r?(c=f.get(o),c.onsuccess=function(o){var s=o.target.result;if(s&&s._rev===r){var a=f.put(e);a.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(I.createError(I.REV_CONFLICT))}):(c=f.add(e),c.onerror=function(e){n(I.createError(I.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=h(x,[M],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(M),c=u.get(a);c.onerror=s(n),c.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(I.createError(I.MISSING_DOC))}},e._destroy=function(e,t){V.removeAllListeners(D);var n=K.get(D);n&&n.result&&(n.result.close(),G.delete(D));var r=indexedDB.deleteDatabase(D);r.onsuccess=function(){K.delete(D),O.hasLocalStorage()&&D in localStorage&&delete localStorage[D],t(null,{ok:!0})},r.onerror=s(t)};var C=G.get(D);if(C)return x=C.idb,e._meta=C.global,void n.nextTick(function(){r(null,e)});var q;q=t.storage?k(D,t.storage):indexedDB.open(D,R),K.set(D,q),q.onupgradeneeded=function(e){function t(){var e=s[a-1];a++,e&&e(r,t)}var n=e.target.result;if(e.oldVersion<1)return o(n);var r=e.currentTarget.transaction;e.oldVersion<3&&y(n),e.oldVersion<4&&b(n);var s=[i,_,w,E],a=e.oldVersion;t()},q.onsuccess=function(t){x=t.target.result,x.onversionchange=function(){x.close(),G.delete(D)},x.onabort=function(e){O.guardedConsole("error","Database has a global failure",e.target.error),x.close(),G.delete(D)};var n=x.transaction([P,F,L],"readwrite"),o=n.objectStore(P).get(P),i=null,s=null,a=null;o.onsuccess=function(t){var o=function(){null!==i&&null!==s&&null!==a&&(e._meta={name:D,instanceId:a,blobSupport:i,docCount:s},G.set(D,{idb:x,global:e._meta}),r(null,e))},u=t.target.result||{id:P};D+"_id"in u?(a=u[D+"_id"],o()):(a=O.uuid(),u[D+"_id"]=a,n.objectStore(P).put(u).onsuccess=function(){o()}),S||(S=g(n)),S.then(function(e){i=e,o()});var c=n.objectStore(L).index("deletedOrLocal");c.count(IDBKeyRange.only("0")).onsuccess=function(e){s=e.target.result,o()}}},q.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";O.guardedConsole("error",e),r(I.createError(I.IDB_ERROR,e))}}function k(e,t){try{return indexedDB.open(e,{version:R,storage:t})}catch(t){return indexedDB.open(e,R)}}function E(e){e.adapter("idb",b,!0)}var S,O=e(34),j=e(31),A=e(23),I=e(25),D=e(18),x=r(e(32)),C=e(27),q=e(20),R=5,L="document-store",T="by-sequence",B="attach-store",N="attach-seq-store",P="meta-store",M="local-store",F="detect-blob-support",U={running:!1,queue:[]},G=new A.Map,V=new O.changesHandler,K=new A.Map;b.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange},t.exports=E}).call(this,e(35))},{18:18,20:20,23:23,25:25,27:27,31:31,32:32,34:34,35:35}],18:[function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function o(e){if(!/^\\d+\\-./.test(e))return y.createError(y.INVALID_REV);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function i(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,s=r.length;i<s;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function s(e,t){var n,r,s,a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=v.uuid()),r=v.uuid(32,16).toLowerCase(),e._rev){if(s=o(e._rev),s.error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,a,[]]]]}],n=s.prefix+1}else e._rev_tree=[{pos:1,ids:[r,a,[]]}],n=1;else if(e._revisions&&(e._rev_tree=i(e._revisions,a),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(s=o(e._rev),s.error)return s;n=s.prefix,r=s.id,e._rev_tree=[{pos:n,ids:[r,a,[]]}]}v.invalidIdError(e._id),e._rev=n+"-"+r;var u={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var f="_"===c[0];if(f&&!w[c]){var l=y.createError(y.DOC_VALIDATION,c);throw l.message=y.DOC_VALIDATION.message+": "+c,l}f&&!k[c]?u.metadata[c.slice(1)]=e[c]:u.data[c]=e[c]}return u}function a(e){try{return m.atob(e)}catch(e){var t=y.createError(y.BAD_ARG,"Attachment is not a valid base64 string");return{error:t}}}function u(e,t,n){var r=a(e.data);return r.error?n(r.error):(e.length=r.length,"blob"===t?e.data=m.binaryStringToBlobOrBuffer(r,e.content_type):"base64"===t?e.data=m.btoa(r):e.data=r,void g.binaryMd5(r,function(t){e.digest="md5-"+t,n()}))}function c(e,t,n){g.binaryMd5(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?m.blobOrBufferToBinaryString(e.data,function(t){e.data=t,n()}):"base64"===t?m.blobOrBufferToBase64(e.data,function(t){e.data=t,n()}):n()})}function f(e,t,n){return e.stub?n():void("string"==typeof e.data?u(e,t,n):c(e,t,n))}function l(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,s++,s===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],s=0;if(!i.length)return r();for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&f(e.data._attachments[a],t,n)})}function d(e,t,n,r,o,i,a,u){if(_.revExists(t.rev_tree,n.metadata.rev))return r[o]=n,i();var c=t.winningRev||_.winningRev(t),f="deleted"in t?t.deleted:_.isDeleted(t,c),l="deleted"in n.metadata?n.metadata.deleted:_.isDeleted(n.metadata),d=/^1-/.test(n.metadata.rev);if(f&&!l&&u&&d){var p=n.data;p._rev=c,p._id=n.metadata.id,n=s(p,u)}var h=_.merge(t.rev_tree,n.metadata.rev_tree[0],e),v=u&&(f&&l||!f&&"new_leaf"!==h.conflicts||f&&!l&&"new_branch"===h.conflicts);if(v){var m=y.createError(y.REV_CONFLICT);return r[o]=m,i()}var g=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var b,w=_.winningRev(n.metadata),k=_.isDeleted(n.metadata,w),E=f===k?0:f<k?-1:1;b=g===w?k:_.isDeleted(n.metadata,g),a(n,w,k,b,!0,E,o,i)}function p(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function h(e,t,n,r,o,i,s,a,u){function c(e,t,n){var r=_.winningRev(e.metadata),o=_.isDeleted(e.metadata,r);if("was_delete"in a&&o)return i[t]=y.createError(y.MISSING_DOC,"deleted"),n();var u=l&&p(e);if(u){var c=y.createError(y.REV_CONFLICT);return i[t]=c,n()}var f=o?0:1;s(e,r,o,o,!1,f,t,n)}function f(){++v===m&&u&&u()}e=e||1e3;var l=a.new_edits,h=new b.Map,v=0,m=t.length;t.forEach(function(e,t){if(e._id&&_.isLocalId(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,f()})}var s=e.metadata.id;h.has(s)?(m--,h.get(s).push([e,t])):h.set(s,[[e,t]])}),h.forEach(function(t,n){function o(){++u<t.length?a():f()}function a(){var a=t[u],f=a[0],p=a[1];if(r.has(n))d(e,r.get(n),f,i,p,o,s,l);else{var h=_.merge([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=h.tree,f.stemmedRevs=h.stemmedRevs||[],c(f,p,o)}}var u=0;a()})}Object.defineProperty(n,"__esModule",{value:!0});var v=e(34),y=e(25),_=e(31),m=e(20),g=e(30),b=e(23),w=r(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),k=r(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);n.invalidIdError=v.invalidIdError,n.isDeleted=_.isDeleted,n.isLocalId=_.isLocalId,n.normalizeDdocFunctionName=v.normalizeDdocFunctionName,n.parseDdocFunctionName=v.parseDdocFunctionName,n.parseDoc=s,n.preprocessAttachments=l,n.processDocs=h,n.updateDoc=d},{20:20,23:23,25:25,30:30,31:31,34:34}],19:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(){for(var e={},t=new p(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,p.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function i(e,t){var n,r,i,s=new Headers,a={method:e.method,credentials:"include",headers:s};return e.json&&(s.set("Accept","application/json"),s.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.body instanceof Blob?d.readAsArrayBuffer(e.body,function(e){a.body=e}):e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):"body"in e?a.body=e.body:a.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&s.set(t,e.headers[t])}),n=o(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(r),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):t(e,i)}).catch(function(e){t(e,i)}),{abort:n.reject}}function s(e,t){var n,r,o=!1,i=function(){n.abort(),u()},s=function(){o=!0,n.abort(),u()},a={abort:i},u=function(){clearTimeout(r),a.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(s,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(s,e.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?d.blob([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var s={};if(o)s=new Error("ETIMEDOUT"),s.code="ETIMEDOUT";else if("string"==typeof n.response)try{s=JSON.parse(n.response)}catch(e){}s.status=n.status,t(s)}u()}},e.body&&e.body instanceof Blob?d.readAsArrayBuffer(e.body,function(e){n.send(e)}):n.send(e.body),a}function a(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function u(e,t){return y||e.xhr?s(e,t):i(e,t)}function c(){return""}function f(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?v.generateErrorFromResponse(e):e})),e.binary&&_(t,n),r(null,t,n)}e=h.clone(e);var r={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=h.jsExtend(r,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),u(e,function(r,o,i){if(r)return t(v.generateErrorFromResponse(r));var s,a=o.headers&&o.headers["content-type"],u=i||c();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof u&&(/json/.test(a)||/^[\\s]*\\{/.test(u)&&/\\}[\\s]*$/.test(u)))try{u=JSON.parse(u.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(u,o,t):(s=v.generateErrorFromResponse(u),s.status=o.statusCode,t(s))})}function l(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,o=n.indexOf("msie")!==-1,i=n.indexOf("edge")!==-1,s=r||(o||i)&&"GET"===e.method,a=!("cache"in e)||e.cache,u=/^blob:/.test(e.url);if(!u&&(s||!a)){var c=e.url.indexOf("?")!==-1;e.url+=(c?"&":"?")+"_nonce="+Date.now()}return f(e,t)}var d=e(20),p=r(e(32)),h=e(34),v=e(25),y=a(),_=function(){};t.exports=l},{20:20,25:25,32:32,34:34}],20:[function(e,t,n){"use strict";function r(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function o(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function i(e,t){return r([o(e)],{type:t})}function s(e,t){return i(p(e),t)}function a(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function u(e,t){if("undefined"==typeof FileReader)return t(a((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return r?t(n):void t(a(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function c(e,t){u(e,function(e){t(e)})}function f(e,t){c(e,function(e){t(h(e))})}function l(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function d(){}Object.defineProperty(n,"__esModule",{value:!0});var p=function(e){return atob(e)},h=function(e){return btoa(e)};n.atob=p,n.btoa=h,n.base64StringToBlobOrBuffer=s,n.binaryStringToArrayBuffer=o,n.binaryStringToBlobOrBuffer=i,n.blob=r,n.blobOrBufferToBase64=f,n.blobOrBufferToBinaryString=c,n.readAsArrayBuffer=l,n.readAsBinaryString=u,n.typedBuffer=d},{}],21:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,n,r,i){return e.get(t).catch(function(n){if(404===n.status)return"http"===e.type()&&l.explainError(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:h,version:p};throw n}).then(function(s){if(!i.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter(function(e){return e.session_id!==r}),s.history.unshift({last_seq:n,session_id:r}),s.history=s.history.slice(0,v),s.version=p,s.replicator=h,s.session_id=r,s.last_seq=n,e.put(s).catch(function(s){if(409===s.status)return o(e,t,n,r,i);throw s})})}function i(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function s(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:a(e.history,t.history)}function a(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);if(!n||0===t.length)return{last_seq:y,history:[]};var s=n.session_id;if(u(s,t))return{last_seq:n.last_seq,history:e};var c=o.session_id;return u(c,r)?{last_seq:o.last_seq,history:i}:a(r,i)}function u(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||u(e,r))}function c(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}var f=r(e(32)),l=e(34),d=e(22),p=1,h="pouchdb",v=5,y=0;i.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},i.prototype.updateTarget=function(e,t){return o(this.target,this.id,e,t,this.returnValue)},i.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?f.resolve(!0):o(this.src,this.id,e,t,this.returnValue).catch(function(e){if(c(e))return n.readOnlySource=!0,!0;throw e})};var _={undefined:function(e,t){return 0===d.collate(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return s(t,e).last_seq}};i.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?f.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return y;var n;return n=t.version?t.version.toString():"undefined",n in _?_[n](t,e):y},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:y}).then(function(){return y},function(n){return c(n)?(e.readOnlySource=!0,t.last_seq):y});throw n})}).catch(function(e){if(404!==e.status)throw e;return y})},t.exports=i},{22:22,32:32,34:34}],22:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function o(e,t,n){var o=r(e,t,n);return o+e}function i(e,t){if(e===t)return 0;e=s(e),t=s(t);var n=v(e),r=v(t);if(n-r!==0)return n-r;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:e<t?-1:1;case"string":return p(e,t)}return Array.isArray(e)?d(e,t):h(e,t)}function s(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=s(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];"undefined"!=typeof i&&(e[o]=s(i))}}}}return e}function a(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return y(e);case"string":return e.replace(/\\u0002/g,"").replace(/\\u0001/g,"").replace(/\\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";\nif(t)for(;++r<o;)i+=u(n[r]);else for(;++r<o;){var s=n[r];i+=u(s)+u(e[s])}return i}return""}function u(e){var t="\\0";return e=s(e),v(e)+g+a(e)+t}function c(e,t){var n,r=t,o="1"===e[t];if(o)n=0,t++;else{var i="0"===e[t];t++;var s="",a=e.substring(t,t+m),u=parseInt(a,10)+_;for(i&&(u=-u),t+=m;;){var c=e[t];if("\\0"===c)break;s+=c,t++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function f(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var s=e.pop();o[s]=n}else e.push(n)}}function l(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=c(e,r);t.push(i.num),r+=i.length;break;case"4":for(var s="";;){var a=e[r];if("\\0"===a)break;s+=a,r++}s=s.replace(/\\u0001\\u0001/g,"\\0").replace(/\\u0001\\u0002/g,"").replace(/\\u0002\\u0002/g,""),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();f(t,n)}}}function d(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=i(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function p(e,t){return e===t?0:e>t?1:-1}function h(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),s=0;s<o;s++){var a=i(n[s],r[s]);if(0!==a)return a;if(a=i(e[n[s]],t[r[s]]),0!==a)return a}return n.length===r.length?0:n.length>r.length?1:-1}function v(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function y(e){if(0===e)return"1";var t=e.toExponential().split(/e\\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",s=(r?-n:n)-_,a=o(s.toString(),"0",m);i+=g+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var c=u.toFixed(20);return c=c.replace(/\\.?0+$/,""),i+=g+c}Object.defineProperty(n,"__esModule",{value:!0});var _=-324,m=3,g="";n.collate=i,n.normalizeKey=s,n.toIndexableString=u,n.parseIndexableString=l},{}],23:[function(e,t,n){"use strict";function r(e){return"$"+e}function o(e){return e.substring(1)}function i(){this.store={}}function s(e){if(this.store=new i,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}Object.defineProperty(n,"__esModule",{value:!0}),i.prototype.get=function(e){var t=r(e);return this.store[t]},i.prototype.set=function(e,t){var n=r(e);return this.store[n]=t,!0},i.prototype.has=function(e){var t=r(e);return t in this.store},i.prototype.delete=function(e){var t=r(e),n=t in this.store;return delete this.store[t],n},i.prototype.forEach=function(e){for(var t=Object.keys(this.store),n=0,r=t.length;n<r;n++){var i=t[n],s=this.store[i];i=o(i),e(s,i)}},s.prototype.add=function(e){return this.store.set(e,!0)},s.prototype.has=function(e){return this.store.has(e)},n.Set=s,n.Map=i},{}],24:[function(e,t,n){(function(n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return q(\'"use strict";\\nreturn \'+e+";",{})}function i(e){var t=["return function(doc) {",\'  "use strict";\',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\\n");return q(t,{})}function s(e,t){try{e.emit("change",t)}catch(e){S.guardedConsole("error",\'Error in .on("change", function):\',e)}}function a(e,t,n){function r(){o.cancel()}D.EventEmitter.call(this);var o=this;this.db=e,t=t?S.clone(t):{};var i=t.complete=S.once(function(t,n){t?S.listenerCount(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){t.isCancelled||s(o,e)};var a=new A(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function u(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=C.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return C.isDeleted(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=C.collectConflicts(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function c(e,t){return e<t?-1:e>t?1:0}function f(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n)===!0)return e[n]}function l(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function d(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=S.pick(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function p(e,t){var n=c(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,o=t._revisions?t._revisions.start:0;return c(r,o)}function h(e){var t={},n=[];return C.traverseRevTree(e,function(e,r,o,i){var s=r+"-"+o;return e&&(t[s]=0),void 0!==i&&n.push({from:i,to:s}),s}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function v(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return A.all(r.map(function(n){var r=S.jsExtend({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new A(function(t,i){e._allDocs(r,function(e,r){return e?i(e):(o.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return o.rows=e,o})}function y(e){var t=e._compactionQueue[0],r=t.opts,o=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,function(t,r){t?o(t):o(null,r),n.nextTick(function(){e._compactionQueue.shift(),e._compactionQueue.length&&y(e)})})})}function _(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with \'_\'"}function m(){D.EventEmitter.call(this)}function g(){this.isReady=!1,this.failed=!1,this.queue=[]}function b(e,t){var n=e.match(/([a-z\\-]*):\\/\\/(.*)/);if(n)return e=/http(s?)/.test(n[1])?n[1]+"://"+n[2]:n[2],{name:e,adapter:n[1]};var r,o="idb"in k.adapters&&"websql"in k.adapters&&S.hasLocalStorage()&&localStorage["_pouch__websqldb_"+k.prefix+e];if(t.adapter)r=t.adapter;else if("undefined"!=typeof t&&t.db)r="leveldb";else for(var i=0;i<k.preferredAdapters.length;++i){r=k.preferredAdapters[i];{if(!o||"idb"!==r)break;S.guardedConsole("log",\'PouchDB is downgrading "\'+e+\'" to WebSQL to avoid data loss, because it was already opened with WebSQL.\')}}var s=k.adapters[r],a=!(s&&"use_prefix"in s)||s.use_prefix;return{name:a?k.prefix+e:e,adapter:r}}function w(e){function t(){e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.emit("destroyed",e)}var r=e.constructor._destructionListeners;e.once("destroyed",t),r.has(e.name)||r.set(e.name,[]),r.get(e.name).push(n)}function k(e,t){if(!(this instanceof k))return new k(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=S.clone(t),n.auto_compaction=t.auto_compaction,n.prefix=k.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=b(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,O("pouchdb:adapter")("Picked adapter: "+t.adapter),!k.adapters[t.adapter]||!k.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);m.call(n),n.taskqueue=new g,n.adapter=t.adapter,k.adapters[t.adapter].call(n,t,function(e){return e?n.taskqueue.fail(e):(w(n),n.emit("created",n),k.emit("created",n.name),void n.taskqueue.ready(n))})}function E(e){Object.keys(D.EventEmitter.prototype).forEach(function(t){"function"==typeof D.EventEmitter.prototype[t]&&(e[t]=L[t].bind(L))});var t=e._destructionListeners=new I.Map;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}var S=e(34),O=r(e(8)),j=r(e(13)),A=r(e(32)),I=e(23),D=e(11),x=r(e(7)),C=e(31),q=r(e(36)),R=e(25);j(a,D.EventEmitter),a.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},a.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=S.clone(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=u,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=S.normalizeDdocFunctionName(e.view):e.filter=S.normalizeDdocFunctionName(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=x(function(e){r.cancel(),o.apply(this,e)})}},a.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=R.createError(R.BAD_REQUEST,"`view` filter parameter not found or invalid.");return n(r)}var s=S.parseDdocFunctionName(e.view);this.db.get("_design/"+s[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(R.generateErrorFromResponse(r));var a=o&&o.views&&o.views[s[1]]&&o.views[s[1]].map;return a?(e.filter=i(a),void t.doChanges(e)):n(R.createError(R.MISSING_DOC,o.views?"missing json key: "+s[1]:"missing json key: views"))})}else{var a=S.parseDdocFunctionName(e.filter);if(!a)return t.doChanges(e);this.db.get("_design/"+a[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(R.generateErrorFromResponse(r));var s=i&&i.filters&&i.filters[a[1]];return s?(e.filter=o(s),void t.doChanges(e)):n(R.createError(R.MISSING_DOC,i&&i.filters?"missing json key: "+a[1]:"missing json key: filters"))})}},j(m,D.EventEmitter),m.prototype.post=S.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(R.createError(R.NOT_AN_OBJECT)):void this.bulkDocs({docs:[e]},t,l(n))}),m.prototype.put=S.adapterFun("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(R.createError(R.NOT_AN_OBJECT)):(S.invalidIdError(e._id),C.isLocalId(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&t.new_edits!==!1?this._put(e,t,n):this.bulkDocs({docs:[e]},t,l(n))))}),m.prototype.putAttachment=S.adapterFun("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},s.put(e)}var s=this;return"function"==typeof o&&(o=r,r=n,n=null),"undefined"==typeof o&&(o=r,r=n,n=null),s.get(e).then(function(e){if(e._rev!==n)throw R.createError(R.REV_CONFLICT);return i(e)},function(t){if(t.reason===R.MISSING_DOC.message)return i({_id:e});throw t})}),m.prototype.removeAttachment=S.adapterFun("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(R.createError(R.REV_CONFLICT)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),m.prototype.remove=S.adapterFun("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};return i._deleted=!0,C.isLocalId(i._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,r):void this.bulkDocs({docs:[i]},n,l(r))}),m.prototype.revsDiff=S.adapterFun("revsDiff",function(e,t,n){function r(e,t){a.has(e)||a.set(e,{missing:[]}),a.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);C.traverseRevTree(n,function(e,n,i,s,a){var u=n+"-"+i,c=o.indexOf(u);c!==-1&&(o.splice(c,1),"available"!==a.status&&r(t,u))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,a=new I.Map;i.map(function(t){this._getRevisionTree(t,function(r,u){if(r&&404===r.status&&"missing"===r.message)a.set(t,{missing:e[t]});else{if(r)return n(r);o(t,u)}if(++s===i.length){var c={};return a.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),m.prototype.bulkGet=S.adapterFun("bulkGet",function(e,t){S.bulkGetShim(this,e,t)}),m.prototype.compactDocument=S.adapterFun("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var s=h(i),a=[],u=[];Object.keys(s).forEach(function(e){s[e]>t&&a.push(e)}),C.traverseRevTree(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&a.indexOf(i)!==-1&&u.push(i)}),r._doCompaction(e,u,n)})}),m.prototype.compact=S.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&y(n)}),m.prototype._compact=function(e,t){function n(e){s.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;A.all(s).then(function(){return S.upsert(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},s=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},m.prototype.get=S.adapterFun("get",function(e,t,n){function r(){var r=[],s=o.length;return s?void o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,attachments:t.attachments},function(e,t){e?r.push({missing:o}):r.push({ok:t}),s--,s||n(null,r)})}):n(null,r)}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(R.createError(R.INVALID_ID));if(C.isLocalId(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var o=r.doc,s=r.metadata,a=r.ctx;if(t.conflicts){var u=C.collectConflicts(s);u.length&&(o._conflicts=u)}if(C.isDeleted(s,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){var c=C.rootToLeaf(s.rev_tree),l=f(c,function(e){return e.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])!==-1}),d=l.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,p=l.ids.length-d;if(l.ids.splice(d,p),l.ids.reverse(),t.revs&&(o._revisions={start:l.pos+l.ids.length-1,ids:l.ids.map(function(e){return e.id})}),t.revs_info){var h=l.pos+l.ids.length;o._revs_info=l.ids.map(function(e){return h--,{rev:h+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var v=o._attachments,y=Object.keys(v).length;if(0===y)return n(null,o);Object.keys(v).forEach(function(e){this._getAttachment(o._id,e,v[e],{rev:o._rev,binary:t.binary,ctx:a},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--y||n(null,o)})},i)}else{if(o._attachments)for(var _ in o._attachments)o._attachments.hasOwnProperty(_)&&(o._attachments[_].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?n(e):(o=C.collectLeaves(t).map(function(e){return e.rev}),void r())});else{if(!Array.isArray(t.open_revs))return n(R.createError(R.UNKNOWN_ERROR,"function_clause"));o=t.open_revs;for(var s=0;s<o.length;s++){var a=o[s];if("string"!=typeof a||!/^\\d+-/.test(a))return n(R.createError(R.INVALID_REV))}r()}}),m.prototype.getAttachment=S.adapterFun("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,s){return i?r(i):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,o._getAttachment(e,t,s.doc._attachments[t],n,r),void 0):r(R.createError(R.MISSING_DOC))})}),m.prototype.allDocs=S.adapterFun("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(R.createError(R.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return v(this,e,t)}return this._allDocs(e,t)}),m.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new a(this,e,t)},m.prototype.close=S.adapterFun("close",function(e){return this._closed=!0,this._close(e)}),m.prototype.info=S.adapterFun("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),void e(null,r))})}),m.prototype.id=S.adapterFun("id",function(e){return this._id(e)}),m.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},m.prototype.bulkDocs=S.adapterFun("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(R.createError(R.MISSING_BULK_DOCS));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(R.createError(R.NOT_AN_OBJECT));var o;return e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(e){o=o||_(e)})}),o?n(R.createError(R.BAD_REQUEST,o)):("new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0),t.new_edits||"http"===this.type()||e.docs.sort(p),d(e.docs),this._bulkDocs(e,t,function(e,r){return e?n(e):(t.new_edits||(r=r.filter(function(e){return e.error})),void n(null,r))}))}),m.prototype.registerDependentDatabase=S.adapterFun("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);S.upsert(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),m.prototype.destroy=S.adapterFun("destroy",function(e,t){function n(){r._destroy(e,function(e,n){return e?t(e):(r._destroyed=!0,r.emit("destroyed"),void t(null,n||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var s=i.dependentDbs,a=r.constructor,u=Object.keys(s).map(function(e){var t=o?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,r.__opts).destroy()});A.all(u).then(n,t)})}),g.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},g.prototype.fail=function(e){this.failed=e,this.execute()},g.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},g.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},j(k,m),k.debug=O,k.adapters={},k.preferredAdapters=[],k.prefix="_pouch_";var L=new D.EventEmitter;E(k),k.adapter=function(e,t,n){t.valid()&&(k.adapters[e]=t,n&&k.preferredAdapters.push(e))},k.plugin=function(e){if("function"==typeof e)e(k);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error("Invalid plugin: object passed in is empty or not an object");Object.keys(e).forEach(function(t){k.prototype[t]=e[t]})}return k},k.defaults=function(e){function t(n,r){return this instanceof t?(r=r||{},n&&"object"==typeof n&&(r=n,n=r.name,delete r.name),r=S.jsExtend({},e,r),void k.call(this,n,r)):new t(n,r)}return j(t,k),t.preferredAdapters=k.preferredAdapters.slice(),Object.keys(k).forEach(function(e){e in t||(t[e]=k[e])}),t};var T="6.0.7";k.version=T,t.exports=k}).call(this,e(35))},{11:11,13:13,23:23,25:25,31:31,32:32,34:34,35:35,36:36,7:7,8:8}],25:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}function i(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=o.prototype,new n(t)}function s(e){if("object"!=typeof e){var t=e;e=y,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(13));a(o,Error),o.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var u=new o({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),c=new o({status:400,error:"bad_request",reason:"Missing JSON list of \'docs\'"}),f=new o({status:404,error:"not_found",reason:"missing"}),l=new o({status:409,error:"conflict",reason:"Document update conflict"}),d=new o({status:400,error:"bad_request",reason:"_id field must contain a string"}),p=new o({status:412,error:"missing_id",reason:"_id is required for puts"}),h=new o({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),v=new o({status:412,error:"precondition_failed",reason:"Database not open"}),y=new o({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),_=new o({status:500,error:"badarg",reason:"Some query argument is invalid"}),m=new o({status:400,error:"invalid_request",reason:"Request was invalid"}),g=new o({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),b=new o({status:500,error:"doc_validation",reason:"Bad special document member"}),w=new o({status:400,error:"bad_request",reason:"Something wrong with the request"}),k=new o({status:400,error:"bad_request",reason:"Document must be a JSON object"}),E=new o({status:404,error:"not_found",reason:"Database not found"}),S=new o({status:500,error:"indexed_db_went_bad",reason:"unknown"}),O=new o({status:500,error:"web_sql_went_bad",reason:"unknown"}),j=new o({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),A=new o({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),I=new o({status:400,error:"bad_request",reason:"Invalid rev format"}),D=new o({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),x=new o({status:412,error:"missing_stub"}),C=new o({status:413,error:"invalid_url",reason:"Provided URL is invalid"});n.UNAUTHORIZED=u,n.MISSING_BULK_DOCS=c,n.MISSING_DOC=f,n.REV_CONFLICT=l,n.INVALID_ID=d,n.MISSING_ID=p,n.RESERVED_ID=h,n.NOT_OPEN=v,n.UNKNOWN_ERROR=y,n.BAD_ARG=_,n.INVALID_REQUEST=m,n.QUERY_PARSE_ERROR=g,n.DOC_VALIDATION=b,n.BAD_REQUEST=w,n.NOT_AN_OBJECT=k,n.DB_MISSING=E,n.WSQ_ERROR=O,n.LDB_ERROR=j,n.FORBIDDEN=A,n.INVALID_REV=I,n.FILE_EXISTS=D,n.MISSING_STUB=x,n.IDB_ERROR=S,n.INVALID_URL=C,n.createError=i,n.generateErrorFromResponse=s},{13:13}],26:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return Object.keys(e).sort(u.collate).reduce(function(t,n){return t[n]=e[n],t},{})}function i(e,t,n){var r=n.doc_ids?n.doc_ids.sort(u.collate):"",i=n.filter?n.filter.toString():"",c="",f="";return n.filter&&n.query_params&&(c=JSON.stringify(o(n.query_params))),n.filter&&"_view"===n.filter&&(f=n.view.toString()),s.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+i+f+c+r;return new s(function(e){a.binaryMd5(t,e)})}).then(function(e){return e=e.replace(/\\//g,".").replace(/\\+/g,"_"),"_local/"+e})}var s=r(e(32)),a=e(30),u=e(22);t.exports=i},{22:22,30:30,32:32}],27:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){try{return JSON.parse(e)}catch(t){return a.parse(e)}}function i(e){return e.length<5e4?JSON.parse(e):o(e)}function s(e){try{return JSON.stringify(e)}catch(t){return a.stringify(e)}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(38));n.safeJsonParse=i,n.safeJsonStringify=s},{38:38}],28:[function(e,t,n){(function(t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(7)),i=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},s=function(e){return o(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&i(r,n),r})},a=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},u=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},c=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};n.uniq=c,n.sequentialize=u,n.fin=a,n.callbackify=s,n.promisedCallback=i}).call(this,e(35))},{35:35,7:7}],29:[function(e,t,n){(function(n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(){this.promise=new K(function(e){e()})}function i(e){var t,n=e.db,r=e.viewName,o=e.map,i=e.reduce,s=e.temporary,a=o.toString()+(i&&i.toString())+"undefined";if(!s&&(t=n._cachedViews=n._cachedViews||{},t[a]))return t[a];var u=n.info().then(function(e){function u(e){e.views=e.views||{};var t=r;t.indexOf("/")===-1&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[c])return n[c]=!0,e}var c=e.db_name+"-mrview-"+(s?"temp":z.stringMd5(a));return U.upsert(n,"_local/mrviews",u).then(function(){return n.registerDependentDatabase(c).then(function(e){var r=e.db;r.auto_compaction=!0;var s={name:c,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return s.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return s.seq=e?e.seq:0,t&&s.db.once("destroyed",function(){delete t[a]}),s})})})});return t&&(t[a]=u),u}function s(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,s)}catch(e){}}function a(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,a)}catch(e){}}function u(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,u)}catch(e){}}function c(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new u(t)}function f(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw c("_sum");t="number"==typeof t?[t]:t;for(var i=0,s=o.length;i<s;i++){var a=o[i];if("number"!=typeof a)throw c("_sum");"undefined"==typeof t[i]?t.push(a):t[i]+=a}}else"number"==typeof t?t+=o:t[0]+=o}return t}function l(e,t){return J("return ("+e.replace(/;\\s*$/,"")+");",{emit:t,sum:f,log:W,isArray:H,toJSON:Y})}function d(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function p(e){return 1===e.length&&/^1-/.test(e[0].rev)}function h(e,t){try{e.emit("error",t)}catch(e){U.guardedConsole("error","The user\'s map/reduce function threw an uncaught error.\\nYou can debug this error by doing:\\nmyDatabase.on(\'error\', function (err) { debugger; });\\nPlease double-check your map/reduce function."),U.guardedConsole("error",t)}}function v(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return h(e,t),{error:t}}}function y(e,t){var n=V.collate(e.key,t.key);return 0!==n?n:V.collate(e.value,t.value)}function _(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function m(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function g(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=G.base64StringToBlobOrBuffer(n.data,n.content_type)})})}function b(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&g(t),t}}function w(e,t,n,r){var o=t[e];"undefined"!=typeof o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function k(e){if("undefined"!=typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function E(e){return e.group_level=k(e.group_level),e.limit=k(e.limit),e.skip=k(e.skip),e}function S(e){if(e){if("number"!=typeof e)return new s(\'Invalid value for integer: "\'+e+\'"\');if(e<0)return new s(\'Invalid value for positive integer: "\'+e+\'"\')}}function O(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&V.collate(e[n],e[r])>0)throw new s("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new s("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new s("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=S(e[t]);if(n)throw n})}function j(e,t,n){var r,o=[],i="GET";if(w("reduce",n,o),w("include_docs",n,o),w("attachments",n,o),w("limit",n,o),w("descending",n,o),w("group",n,o),w("group_level",n,o),w("skip",n,o),w("stale",n,o),w("conflicts",n,o),w("startkey",n,o,!0),w("start_key",n,o,!0),w("endkey",n,o,!0),w("end_key",n,o,!0),w("inclusive_end",n,o),w("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,"undefined"!=typeof n.keys){var s=2e3,a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=s?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=d(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(b(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(b(n))}function A(e,t,n){return new K(function(r,o){e._query(t,n,function(e,t){return e?o(e):void r(t)})})}function I(e){return new K(function(t,n){e._viewCleanup(function(e,r){return e?n(e):void t(r)})})}function D(e){return function(t){if(404===t.status)return e;throw t}}function x(e,t,n){function r(){return p(f)?K.resolve(a):t.db.get(s).catch(D(a))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):K.resolve({rows:[]})}function i(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var s=t.rows[o],a=s.doc;if(a&&(n.push(a),r[a._id]=!0,a._deleted=!c[a._id],!a._deleted)){var u=c[a._id];"value"in u&&(a.value=u.value)}}var f=Object.keys(c);return f.forEach(function(e){if(!r[e]){var t={_id:e},o=c[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=$.uniq(f.concat(e.keys)),n.push(e),n}var s="_local/doc_"+e,a={_id:s,keys:[]},u=n[e],c=u.indexableKeysToKeyValues,f=u.changes;return r().then(function(e){return o(e).then(function(t){return i(e,t)})})}function C(e,t,n){var r="_local/lastSeq";return e.db.get(r).catch(D({_id:r,seq:0})).then(function(r){var o=Object.keys(t);return K.all(o.map(function(n){return x(n,e,t)})).then(function(t){var o=U.flatten(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function q(e){var t="string"==typeof e?e:e.name,n=X[t];return n||(n=X[t]=new o),n}function R(e){return $.sequentialize(q(e),function(){return L(e)})()}function L(e){function t(e,t){var n={id:i._id,key:V.normalizeKey(e)};"undefined"!=typeof t&&null!==t&&(n.value=V.normalizeKey(t)),r.push(n)}function n(t,n){\nreturn function(){return C(e,t,n)}}var r,i,s;if("function"==typeof e.mapFun&&2===e.mapFun.length){var a=e.mapFun;s=function(e){return a(e,t)}}else s=l(e.mapFun.toString(),t);var u=e.seq||0,c=new o;return new K(function(t,o){function a(){c.finish().then(function(){e.seq=u,t()})}function f(){function t(e){o(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:ee}).on("complete",function(t){var o=t.results;if(!o.length)return a();for(var l={},d=0,p=o.length;d<p;d++){var h=o[d];if("_"!==h.doc._id[0]){r=[],i=h.doc,i._deleted||v(e.sourceDB,s,[i]),r.sort(y);for(var _,m={},g=0,b=r.length;g<b;g++){var w=r[g],k=[w.key,w.id];0===V.collate(w.key,_)&&k.push(g);var E=V.toIndexableString(k);m[E]=w,_=w.key}l[h.doc._id]={indexableKeysToKeyValues:m,changes:h.changes}}u=h.seq}return c.add(n(l,u)),o.length<ee?a():f()}).on("error",t)}f()})}function T(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=te[e.reduceFun]?te[e.reduceFun]:l(e.reduceFun.toString());var i=[],s=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=i[i.length-1],n=o?e.key:null;return o&&Array.isArray(n)&&(n=n.slice(0,s)),t&&0===V.collate(t.groupKey,n)?(t.keys.push([e.key,e.id]),void t.values.push(e.value)):void i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var a=0,c=i.length;a<c;a++){var f=i[a],d=v(e.sourceDB,r,[f.keys,f.values,!1]);if(d.error&&d.error instanceof u)throw d.error;t.push({value:d.error?null:d.output,key:f.groupKey})}return{rows:_(t,n.limit,n.skip)}}function B(e,t){return $.sequentialize(q(e),function(){return N(e,t)})()}function N(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=V.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?T(e,n,t):{total_rows:o,offset:s,rows:n},t.include_docs){var a=$.uniq(n.map(m));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=m(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&t.reduce!==!1,s=t.skip||0;if("undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!=typeof t.keys){var a=t.keys,u=a.map(function(e){var t={startkey:V.toIndexableString([e]),endkey:V.toIndexableString([e,{}])};return n(t)});return K.all(u).then(U.flatten).then(r)}var c={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"undefined"!=typeof t.startkey&&(c.startkey=t.descending?V.toIndexableString([t.startkey,{}]):V.toIndexableString([t.startkey])),"undefined"!=typeof t.endkey){var f=t.inclusive_end!==!1;t.descending&&(f=!f),c.endkey=V.toIndexableString(f?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var l=V.toIndexableString([t.key]),d=V.toIndexableString([t.key,{}]);c.descending?(c.endkey=l,c.startkey=d):(c.startkey=l,c.endkey=d)}return i||("number"==typeof t.limit&&(c.limit=t.limit),c.skip=s),n(c).then(r)}function P(e){return e.request({method:"POST",url:"_view_cleanup"})}function M(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=d(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var s=Object.keys(t.views[i]),a=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(e){o[e]=o[e]||a})})});var i=Object.keys(o).filter(function(e){return!o[e]}),s=i.map(function(t){return $.sequentialize(q(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return K.all(s).then(function(){return{ok:!0}})})},D({ok:!0}))}function F(e,t,r){if("http"===e.type())return j(e,t,r);if("function"==typeof e._query)return A(e,t,r);if("string"!=typeof t){O(r,t);var o={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};return Z.add(function(){return i(o).then(function(e){function t(){return e.db.destroy()}return $.fin(R(e).then(function(){return B(e,r)}),t)})}),Z.finish()}var s=t,u=d(s),c=u[0],f=u[1];return e.get("_design/"+c).then(function(t){var o=t.views&&t.views[f];if(!o||"string"!=typeof o.map)throw new a("ddoc "+c+" has no view named "+f);O(r,o);var u={db:e,viewName:s,map:o.map,reduce:o.reduce};return i(u).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&n.nextTick(function(){R(e)}),B(e,r)):R(e).then(function(){return B(e,r)})})})}var U=e(34),G=e(20),V=e(22),K=r(e(32)),z=e(30),J=r(e(36)),Q=r(e(13)),$=e(28);o.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},o.prototype.finish=function(){return this.promise},Q(s,Error),Q(a,Error),Q(u,Error);var W=U.guardedConsole.bind(null,"log"),H=Array.isArray,Y=JSON.parse,X={},Z=new o,ee=50,te={_sum:function(e,t){return f(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}return{sum:f(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}},ne=$.callbackify(function(){var e=this;return"http"===e.type()?P(e):"function"==typeof e._viewCleanup?I(e):M(e)}),re=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?E(t):{},"function"==typeof e&&(e={map:e});var r=this,o=K.resolve().then(function(){return F(r,e,t)});return $.promisedCallback(o,n),o},oe={query:re,viewCleanup:ne};t.exports=oe}).call(this,e(35))},{13:13,20:20,22:22,28:28,30:30,32:32,34:34,35:35,36:36}],30:[function(e,t,n){(function(t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return f.btoa(e)}function i(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function s(e,t,n,r,o){(n>0||r<t.size)&&(t=i(t,n,r)),f.readAsArrayBuffer(t,function(t){e.append(t),o()})}function a(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function u(e,t){function n(){d(i)}function r(){var e=y.end(!0),n=o(e);t(n),y.destroy()}function i(){var t=v*f,o=t+f;v++,v<h?_(y,e,t,o,n):_(y,e,t,o,r)}var u="string"==typeof e,c=u?e.length:e.size,f=Math.min(p,c),h=Math.ceil(c/f),v=0,y=u?new l:new l.ArrayBuffer,_=u?a:s;i()}function c(e){return l.hash(e)}Object.defineProperty(n,"__esModule",{value:!0});var f=e(20),l=r(e(37)),d=t.setImmediate||t.setTimeout,p=32768;n.binaryMd5=u,n.stringMd5=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{20:20,37:37}],31:[function(e,t,n){"use strict";function r(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var s=o.ids,a=s[2],u=o.pos;if(a.length)for(var c=0,f=a.length;c<f;c++)i.push({pos:u+1,ids:a[c]});else{var l=!!s[1].deleted,d=s[0];t&&!(r!==l?r:n!==u?n<u:t<d)||(t=d,n=u,r=l)}}return n+"-"+t}function o(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,s=i[2],a=t(0===s.length,o,i[0],n.ctx,i[1]),u=0,c=s.length;u<c;u++)r.push({pos:o+1,ids:s[u],ctx:a})}function i(e,t){return e.pos-t.pos}function s(e){var t=[];o(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(i).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function a(e){for(var t=r(e),n=s(e.rev_tree),o=[],i=0,a=n.length;i<a;i++){var u=n[i];u.rev===t||u.opts.deleted||o.push(u.rev)}return o}function u(e){var t=[];return o(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function c(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,s=i[0],a=i[1],u=i[2],c=0===u.length,f=t.history?t.history.slice():[];f.push({id:s,opts:a}),c&&n.push({pos:o+1-f.length,ids:f});for(var l=0,d=u.length;l<d;l++)r.push({pos:o+1,ids:u[l],history:f})}return n.reverse()}function f(e,t){return e.pos-t.pos}function l(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function d(e,t,n){var r=l(e,t,n);e.splice(r,0,t)}function p(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var s=e[o],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function h(e,t){return e[0]<t[0]?-1:1}function v(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,s=o.tree2;(i[1].status||s[1].status)&&(i[1].status="available"===i[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(i[2][0]){for(var u=!1,c=0;c<i[2].length;c++)i[2][c][0]===s[2][a][0]&&(n.push({tree1:i[2][c],tree2:s[2][a]}),u=!0);u||(r="new_branch",d(i[2],s[2][a],h))}else r="new_leaf",i[2][0]=s[2][a]}return{conflicts:r,tree:e}}function y(e,t,n){var r,o=[],i=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,u=e.length;a<u;a++){var c=e[a];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=v(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,s=!0;else if(n!==!0){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,p=d.pos-l.pos,h=[],y=[];for(y.push({ids:l.ids,diff:p,parent:null,parentIdx:null});y.length>0;){var _=y.pop();if(0!==_.diff)for(var m=_.ids[2],g=0,b=m.length;g<b;g++)y.push({ids:m[g],diff:_.diff-1,parent:_.ids,parentIdx:g});else _.ids[0]===d.ids[0]&&h.push(_)}var w=h[0];w?(r=v(w.ids,d.ids),w.parent[2][w.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,s=!0):o.push(c)}else o.push(c)}return s||o.push(t),o.sort(f),{tree:o,conflicts:i||"internal_node"}}function _(e,t){for(var n,r=c(e),i={},s=0,a=r.length;s<a;s++){for(var u=r[s],f=u.ids,l=Math.max(0,f.length-t),d={pos:u.pos+l,ids:p(f,l)},h=0;h<l;h++){var v=u.pos+h+"-"+f[h].id;i[v]=!0}n=n?y(n,d,!0).tree:[d]}return o(n,function(e,t,n){delete i[t+"-"+n]}),{tree:n,revs:Object.keys(i)}}function m(e,t,n){var r=y(e,t),o=_(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function g(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),s=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===s)return!0;for(var a=n.ids[2],u=0,c=a.length;u<c;u++)r.push({pos:n.pos+1,ids:a[u]})}return!1}function b(e){return e.ids}function w(e,t){t||(t=r(e));for(var n,o=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(b);n=i.pop();){if(n[0]===o)return!!n[1].deleted;i=i.concat(n[2])}}function k(e){return/^_local/.test(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.collectConflicts=a,n.collectLeaves=s,n.compactTree=u,n.isDeleted=w,n.isLocalId=k,n.merge=m,n.revExists=g,n.rootToLeaf=c,n.traverseRevTree=o,n.winningRev=r},{}],32:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=r(e(14)),i="function"==typeof Promise?Promise:o;t.exports=i},{14:14}],33:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return/^1-/.test(e)}function i(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function s(e,t){var n=Object.keys(t._attachments);return g.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function a(e,t,n){var r="http"===t.type()&&"http"!==e.type(),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return g.all(o.map(function(o){return i(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return s(t,n)}):s(t,n)}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0}}function c(e,t,n,r){function i(){var o=u(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return g.all(n.results.map(function(n){return g.all(n.docs.map(function(n){var r=n.ok;return n.error&&(h=!1),r&&r._attachments?a(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){p=p.concat(m.flatten(e).filter(Boolean))})})}function s(e){return e._attachments&&Object.keys(e._attachments).length>0}function c(e){return e._conflicts&&e._conflicts.length>0}function f(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!o(e.value.rev)||s(e.doc)||c(e.doc)||(p.push(e.doc),delete n[e.id])})})}function l(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&o(t[0])});if(e.length>0)return f(e)}function d(){return{ok:h,docs:p}}n=m.clone(n);var p=[],h=!0;return g.resolve().then(l).then(i).then(d)}function f(e,t,n,r){if(e.retry===!1)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=m.defaultBackOff),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=O},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||O,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function l(e,t,n,r,o){function i(){return D?g.resolve():w(e,t,n).then(function(n){I=n,D=new b(e,t,I,r)})}function s(){if(U=[],0!==A.docs.length){var e=A.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw y(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",m.clone(t))}else U.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function a(){if(A.error)throw new Error("There was a problem getting docs.");o.last_seq=T=A.seq;var e=m.clone(o);return U.length&&(e.docs=U,r.emit("change",e)),q=!0,D.writeCheckpoint(A.seq,G).then(function(){if(q=!1,r.cancelled)throw y(),new Error("cancelled");A=void 0,S()}).catch(function(e){throw j(e),e})}function u(){var e={};return A.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw y(),new Error("cancelled");A.diffs=e})}function d(){return c(e,t,A.diffs,r).then(function(e){A.error=!e.ok,e.docs.forEach(function(e){delete A.diffs[e._id],o.docs_read++,A.docs.push(e)})})}function p(){if(!r.cancelled&&!A){if(0===x.length)return void h(!0);A=x.shift(),u().then(d).then(s).then(a).then(p).catch(function(e){v("batch processing terminated with error",e)})}}function h(e){return 0===C.changes.length?void(0!==x.length||A||((B&&V.live||R)&&(r.state="pending",r.emit("paused")),R&&y())):void((e||R||C.changes.length>=N)&&(x.push(C),C={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),p()))}function v(e,t){L||(t.message||(t.message=e),o.ok=!1,o.status="aborting",x=[],C={seq:0,changes:[],docs:[]},y(t))}function y(i){L||r.cancelled&&(o.status="cancelled",q)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=T,L=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):f(n,r,i,function(){l(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function _(e){if(r.cancelled)return y();var t=m.filterChange(n)(e);t&&(C.seq=e.seq,C.changes.push(e),h(0===x.length&&V.live))}function k(e){if(M=!1,r.cancelled)return y();if(e.results.length>0)V.since=e.last_seq,S(),h(!0);else{var t=function(){B?(V.live=!0,S()):R=!0,h(!0)};A||0!==e.results.length?t():(q=!0,D.writeCheckpoint(e.last_seq,G).then(function(){q=!1,o.last_seq=T=e.last_seq,t()}).catch(j))}}function E(e){return M=!1,r.cancelled?y():void v("changes rejected",e)}function S(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!M&&!R&&x.length<P){M=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(V).on("change",_);i.then(o,o),i.then(k).catch(E),n.retry&&(r._changes=i,r._abortChanges=t)}}function O(){i().then(function(){return r.cancelled?void y():D.getCheckpoint().then(function(e){T=e,V={since:T,limit:N,batch_size:N,style:"all_docs",doc_ids:F,return_docs:!0},n.filter&&("string"!=typeof n.filter?V.include_docs=!0:V.filter=n.filter),"heartbeat"in n&&(V.heartbeat=n.heartbeat),"timeout"in n&&(V.timeout=n.timeout),n.query_params&&(V.query_params=n.query_params),n.view&&(V.view=n.view),S()})}).catch(function(e){v("getCheckpoint rejected with ",e)})}function j(e){q=!1,v("writeCheckpoint completed with error",e)}var A,I,D,x=[],C={seq:0,changes:[],docs:[]},q=!1,R=!1,L=!1,T=0,B=n.continuous||n.live||!1,N=n.batch_size||100,P=n.batches_limit||10,M=!1,F=n.doc_ids,U=[],G=m.uuid();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var V={};return r.ready(e,t),r.cancelled?void y():(r._addedListeners||(r.once("cancel",y),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void("undefined"==typeof n.since?O():i().then(function(){return q=!0,D.writeCheckpoint(n.since,G)}).then(function(){return q=!1,r.cancelled?void y():(T=n.since,void O())}).catch(j)))}function d(){k.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new g(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function p(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function h(e,t,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw S.createError(S.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");n.complete=r,n=m.clone(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new d(n),i=p(e,n),s=p(t,n);return l(i,s,n,o),o}function v(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=m.clone(n),n.PouchConstructor=n.PouchConstructor||this,e=p(e,n),t=p(t,n),new y(e,t,n,r)}function y(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function s(e){p.emit("denied",{direction:"push",doc:e})}function a(e){p.emit("denied",{direction:"pull",doc:e})}function u(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function f(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function l(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===a||n===s),h="paused"===t&&(n===c||n===u),v="active"===t&&(n===l||n===f);(r||d||h||v)&&(t in _||(_[t]={}),_[t][e]=!0,2===Object.keys(_[t]).length&&p.removeAllListeners(t))}}var p=this;this.canceled=!1;var v=n.push?m.jsExtend({},n,n.push):n,y=n.pull?m.jsExtend({},n,n.pull):n;this.push=h(e,t,v),this.pull=h(t,e,y),this.pushPaused=!0,this.pullPaused=!0;var _={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(p.pull.on("change",o),p.push.on("change",i)):"denied"===e?(p.pull.on("denied",a),p.push.on("denied",s)):"active"===e?(p.pull.on("active",l),p.push.on("active",f)):"paused"===e&&(p.pull.on("paused",c),p.push.on("paused",u))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",a),p.push.removeListener("denied",s)):"active"===e?(p.pull.removeListener("active",l),p.push.removeListener("active",f)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",u))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var b=g.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return b.then(e,t)},this.catch=function(e){return b.catch(e)}}function _(e){e.replicate=h,e.sync=v,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var m=e(34),g=r(e(32)),b=r(e(21)),w=r(e(26)),k=e(11),E=r(e(13)),S=e(25),O=0;E(d,k.EventEmitter),d.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},d.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},E(y,k.EventEmitter),y.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},t.exports=_},{11:11,13:13,21:21,25:25,26:26,32:32,34:34}],34:[function(e,t,n){(function(t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function s(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&$.call(n)==W}function u(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=u(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return s(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=u(e[n]);"undefined"!=typeof i&&(t[n]=i)}return t}function c(e){var t=!1;return V(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function f(e){return V(function(n){n=u(n);var r,o=this,i="function"==typeof n[n.length-1]&&n.pop();i&&(r=function(e,n){t.nextTick(function(){i(e,n)})});var s=new G(function(t,r){var i;try{var s=c(function(e,n){e?r(e):t(n)});n.push(s),i=e.apply(o,n),i&&"function"==typeof i.then&&t(i)}catch(e){r(e)}});return r&&s.then(function(e){r(null,e)},r),s})}function l(e,t){function n(e,t,n){if(H.enabled){for(var r=[e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);H.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e.name,t];o=o.concat(n?["error",n]:["success",r]),H.apply(null,o),i(n,r)}}}return f(V(function(r){if(this._closed)return G.reject(new Error("database is closed"));if(this._destroyed)return G.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new G(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function d(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function p(e){return e}function h(e){return[{ok:e}]}function v(e,t,n){function r(){var e=[];v.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++l===f&&r()}function i(e,t,n){v[e]={id:t,docs:n},o()}function s(){if(!(_>=y.length)){var e=Math.min(_+Y,y.length),t=y.slice(_,e);a(t,_),_+=t.length}}function a(n,r){n.forEach(function(n,o){var a=r+o,u=c[n],f=d(u[0],["atts_since","attachments"]);f.open_revs=u.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(p);var l=p;0===f.open_revs.length&&(delete f.open_revs,l=h),["revs","attachments","binary","ajax"].forEach(function(e){e in t&&(f[e]=t[e])}),e.get(n,f,function(e,t){var r;r=e?[{error:e}]:l(t),i(a,n,r),s()})})}var u=t.docs,c={};u.forEach(function(e){e.id in c?c[e.id].push(e):c[e.id]=[e]});var f=Object.keys(c).length,l=0,v=new Array(f),y=Object.keys(c),_=0;s()}function y(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function _(){return U}function m(e){y()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):_()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function g(){z.EventEmitter.call(this),this._listeners={},m(this)}function b(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function w(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>n&&(e=n>>1,t=n);var r=Math.random(),o=t-e;return~~(o*r+e)}function k(e){var t=0;return e||(t=2e3),w(e,t)}function E(e,t){b("info","The above "+e+" is totally normal. "+t)}function S(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=u(t[n]);"undefined"!=typeof r&&(e[n]=r)}}function O(e,t,n){return S(e,t),n&&S(e,n),e}function j(e){if("object"!=typeof e)throw e+" is not an object";var t=Z.call(arguments,1);return ee.call(t,function(t){if(t)for(var n in t)"object"==typeof t[n]&&e[n]?j.call(e,e[n],t[n]):e[n]=t[n]}),e}function A(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return Q.createError(Q.BAD_REQUEST,r)}}function I(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&A(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function D(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function x(){}function C(e){var t;if(e?"string"!=typeof e?t=Q.createError(Q.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Q.createError(Q.RESERVED_ID)):t=Q.createError(Q.MISSING_ID),t)throw t}function q(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function R(e,t){return"listenerCount"in e?e.listenerCount(t):z.EventEmitter.listenerCount(e,t)}function L(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function T(e){var t=L(e);return t?t.join("/"):null}function B(e){for(var t=se.exec(e),n={},r=14;r--;){var o=re[r],i=t[r]||"",s=["user","password"].indexOf(o)!==-1;n[o]=s?decodeURIComponent(i):i}return n[oe]={},n[re[12]].replace(ie,function(e,t,r){t&&(n[oe][t]=r)}),n}function N(e,t,n){return new G(function(r,o){e.get(t,function(i,s){if(i){if(404!==i.status)return o(i);s={}}var a=s._rev,u=n(s);return u?(u._id=t,u._rev=a,void r(P(e,u,n))):r({updated:!1,rev:a})})})}function P(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return N(e,t._id,n)})}function M(e){return 0|Math.random()*e}function F(e,t){t=t||ae.length;var n="",r=-1;if(e){for(;++r<e;)n+=ae[M(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=ae[3&M(16)|8];break;default:n+=ae[M(16)]}return n}Object.defineProperty(n,"__esModule",{value:!0});var U,G=r(e(32)),V=r(e(7)),K=r(e(8)),z=e(11),J=r(e(13)),Q=e(25),$=Function.prototype.toString,W=$.call(Object),H=K("pouchdb:api"),Y=6;if(y())U=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),U=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){U=!1}J(g,z.EventEmitter),g.prototype.addListener=function(e,t,n,r){function o(){function e(){s=!1}if(i._listeners[t]){if(s)return void(s="waiting");s=!0;var a=d(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&setTimeout(function(){o()},0),s=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,s=!1;this._listeners[t]=o,this.on(e,o)}},g.prototype.removeListener=function(e,t){t in this._listeners&&(z.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},g.prototype.notifyLocalWindows=function(e){y()?chrome.storage.local.set({dbName:e}):_()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},g.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var X,Z=Array.prototype.slice,ee=Array.prototype.forEach,te=x.name;X=te?function(e){return e.name}:function(e){return e.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[1]};var ne=X,re=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],oe="queryKey",ie=/(?:^|&)([^&=]*)=?([^&]*)/g,se=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,ae="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");n.adapterFun=l,n.bulkGetShim=v,n.changesHandler=g,n.clone=u,n.defaultBackOff=k,n.explainError=E,n.extend=O,n.jsExtend=j,n.filterChange=I,n.flatten=D,n.functionName=ne,n.guardedConsole=b,n.hasLocalStorage=_,n.invalidIdError=C,n.isChromeApp=y,n.isCordova=q,n.listenerCount=R,n.normalizeDdocFunctionName=T,n.once=c,n.parseDdocFunctionName=L,n.parseUri=B,n.pick=d,n.toPromise=f,n.upsert=N,n.uuid=F}).call(this,e(35))},{11:11,13:13,25:25,32:32,35:35,7:7,8:8}],35:[function(e,t,n){function r(){if(!a){a=!0;for(var e,t=s.length;t;){e=s,s=[];for(var n=-1;++n<t;)e[n]();t=s.length}a=!1}}function o(){}var i=t.exports={},s=[],a=!1;i.nextTick=function(e){s.push(e),a||setTimeout(r,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=o,i.addListener=o,i.once=o,i.off=o,i.removeListener=o,i.removeAllListeners=o,i.emit=o,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],36:[function(e,t,n){(function(){var e={}.hasOwnProperty,n=[].slice;t.exports=function(t,r){var o,i,s,a;i=[],a=[];for(o in r)e.call(r,o)&&(s=r[o],"this"!==o&&(i.push(o),a.push(s)));return Function.apply(null,n.call(i).concat([t])).apply(r.this,a)}}).call(this)},{}],37:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(e){r=self}r.SparkMD5=e()}}(function(e){"use strict";function t(e,t,n,r,o,i){return t=g(g(t,e),g(r,i)),g(t<<o|t>>>32-o,n)}function n(e,n,r,o,i,s,a){return t(n&r|~n&o,e,n,i,s,a)}function r(e,n,r,o,i,s,a){return t(n&o|r&~o,e,n,i,s,a)}function o(e,n,r,o,i,s,a){return t(n^r^o,e,n,i,s,a)}function i(e,n,r,o,i,s,a){return t(r^(n|~o),e,n,i,s,a)}function s(e,t){var s=e[0],a=e[1],u=e[2],c=e[3];s=n(s,a,u,c,t[0],7,-680876936),c=n(c,s,a,u,t[1],12,-389564586),u=n(u,c,s,a,t[2],17,606105819),a=n(a,u,c,s,t[3],22,-1044525330),s=n(s,a,u,c,t[4],7,-176418897),c=n(c,s,a,u,t[5],12,1200080426),u=n(u,c,s,a,t[6],17,-1473231341),a=n(a,u,c,s,t[7],22,-45705983),s=n(s,a,u,c,t[8],7,1770035416),c=n(c,s,a,u,t[9],12,-1958414417),u=n(u,c,s,a,t[10],17,-42063),a=n(a,u,c,s,t[11],22,-1990404162),s=n(s,a,u,c,t[12],7,1804603682),c=n(c,s,a,u,t[13],12,-40341101),u=n(u,c,s,a,t[14],17,-1502002290),a=n(a,u,c,s,t[15],22,1236535329),s=r(s,a,u,c,t[1],5,-165796510),\nc=r(c,s,a,u,t[6],9,-1069501632),u=r(u,c,s,a,t[11],14,643717713),a=r(a,u,c,s,t[0],20,-373897302),s=r(s,a,u,c,t[5],5,-701558691),c=r(c,s,a,u,t[10],9,38016083),u=r(u,c,s,a,t[15],14,-660478335),a=r(a,u,c,s,t[4],20,-405537848),s=r(s,a,u,c,t[9],5,568446438),c=r(c,s,a,u,t[14],9,-1019803690),u=r(u,c,s,a,t[3],14,-187363961),a=r(a,u,c,s,t[8],20,1163531501),s=r(s,a,u,c,t[13],5,-1444681467),c=r(c,s,a,u,t[2],9,-51403784),u=r(u,c,s,a,t[7],14,1735328473),a=r(a,u,c,s,t[12],20,-1926607734),s=o(s,a,u,c,t[5],4,-378558),c=o(c,s,a,u,t[8],11,-2022574463),u=o(u,c,s,a,t[11],16,1839030562),a=o(a,u,c,s,t[14],23,-35309556),s=o(s,a,u,c,t[1],4,-1530992060),c=o(c,s,a,u,t[4],11,1272893353),u=o(u,c,s,a,t[7],16,-155497632),a=o(a,u,c,s,t[10],23,-1094730640),s=o(s,a,u,c,t[13],4,681279174),c=o(c,s,a,u,t[0],11,-358537222),u=o(u,c,s,a,t[3],16,-722521979),a=o(a,u,c,s,t[6],23,76029189),s=o(s,a,u,c,t[9],4,-640364487),c=o(c,s,a,u,t[12],11,-421815835),u=o(u,c,s,a,t[15],16,530742520),a=o(a,u,c,s,t[2],23,-995338651),s=i(s,a,u,c,t[0],6,-198630844),c=i(c,s,a,u,t[7],10,1126891415),u=i(u,c,s,a,t[14],15,-1416354905),a=i(a,u,c,s,t[5],21,-57434055),s=i(s,a,u,c,t[12],6,1700485571),c=i(c,s,a,u,t[3],10,-1894986606),u=i(u,c,s,a,t[10],15,-1051523),a=i(a,u,c,s,t[1],21,-2054922799),s=i(s,a,u,c,t[8],6,1873313359),c=i(c,s,a,u,t[15],10,-30611744),u=i(u,c,s,a,t[6],15,-1560198380),a=i(a,u,c,s,t[13],21,1309151649),s=i(s,a,u,c,t[4],6,-145523070),c=i(c,s,a,u,t[11],10,-1120210379),u=i(u,c,s,a,t[2],15,718787259),a=i(a,u,c,s,t[9],21,-343485551),e[0]=g(s,e[0]),e[1]=g(a,e[1]),e[2]=g(u,e[2]),e[3]=g(c,e[3])}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function c(e){var t,n,r,o,i,u,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(f,a(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(f,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,r[14]=i,r[15]=u,s(f,r),f}function f(e){var t,n,r,o,i,a,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(f,u(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(f,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,s(f,r),f}function l(e){var t,n="";for(t=0;t<4;t+=1)n+=b[e>>8*t+4&15]+b[e>>8*t&15];return n}function d(e){var t;for(t=0;t<e.length;t+=1)e[t]=l(e[t]);return e.join("")}function p(e){return/[\\u0080-\\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function h(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function v(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function y(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function _(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function m(){this.reset()}var g=function(e,t){return e+t&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==d(c("hello"))&&(g=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,s,a,u=this.byteLength,c=t(n,u),f=u;return r!==e&&(f=t(r,u)),c>f?new ArrayBuffer(0):(o=f-c,i=new ArrayBuffer(o),s=new Uint8Array(i),a=new Uint8Array(this,c,o),s.set(a),i)}}(),m.prototype.append=function(e){return this.appendBinary(p(e)),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)s(this._hash,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=d(this._hash),e&&(n=_(n)),this.reset(),n},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},m.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,s(this._hash,e)},m.hash=function(e,t){return m.hashBinary(p(e),t)},m.hashBinary=function(e,t){var n=c(e),r=d(n);return t?_(r):r},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=y(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)s(this._hash,u(n.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=d(this._hash),e&&(n=_(n)),this.reset(),n},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var e=m.prototype.getState.call(this);return e.buff=v(e.buff),e},m.ArrayBuffer.prototype.setState=function(e){return e.buff=h(e.buff,!0),m.prototype.setState.call(this,e)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e)),r=d(n);return t?_(r):r},m})},{}],38:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var s=t.pop();o[s]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,s,a,u,c,f,l,d,p="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",p+=o,i)p+=i;else if("object"!=typeof r)p+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:r[s],prefix:a});t.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(t.push({val:"}"}),s=u.length-1;s>=0;s--)f=u[s],l=r[f],d=s>0?",":"",d+=JSON.stringify(f)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return p},n.parse=function(e){for(var t,n,o,i,s,a,u,c,f,l=[],d=[],p=0;;)if(t=e[p++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\\t":case"\\n":case":":case",":break;case"n":p+=3,r(null,l,d);break;case"t":p+=3,r(!0,l,d);break;case"f":p+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(o=e[p++],!/[\\d\\.\\-e\\+]/.test(o)){p--;break}n+=o}r(parseFloat(n),l,d);break;case\'"\':for(i="",s=void 0,a=0;;){if(u=e[p++],\'"\'===u&&("\\\\"!==s||a%2!==1))break;i+=u,s=u,"\\\\"===s?a++:a=0}r(JSON.parse(\'"\'+i+\'"\'),l,d);break;case"[":c={element:[],index:l.length},l.push(c.element),d.push(c);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},{}]},{},[1]);';
},{}],92:[function(e,t,n){(function(e){!function(r){function o(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function i(e){for(var t,n=e.length,r=-1,o="";++r<n;)t=e[r],t>65535&&(t-=65536,o+=g(t>>>10&1023|55296),t=56320|1023&t),o+=g(t);return o}function s(e,t){return g(e>>t&63|128)}function a(e){if(0==(4294967168&e))return g(e);var t="";return 0==(4294965248&e)?t=g(e>>6&31|192):0==(4294901760&e)?(t=g(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=g(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=g(63&e|128)}function c(e){for(var t,n=o(e),r=n.length,i=-1,s="";++i<r;)t=n[i],s+=a(t);return s}function u(){if(m>=y)throw Error("Invalid byte index");var e=255&v[m];if(m++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(){var e,t,n,r,o;if(m>y)throw Error("Invalid byte index");if(m==y)return!1;if(e=255&v[m],m++,0==(128&e))return e;if(192==(224&e)){var t=u();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),o=(15&e)<<12|t<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),r=u(),o=(15&e)<<18|t<<12|n<<6|r,o>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function f(e){v=o(e),y=v.length,m=0;for(var t,n=[];(t=l())!==!1;)n.push(t);return i(n)}var d="object"==typeof n&&n,p="object"==typeof t&&t&&t.exports==d&&t,h="object"==typeof e&&e;h.global!==h&&h.window!==h||(r=h);var v,y,m,g=String.fromCharCode,_={version:"1.0.0",encode:c,decode:f};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return _});else if(d&&!d.nodeType)if(p)p.exports=_;else{var b={},w=b.hasOwnProperty;for(var k in _)w.call(_,k)&&(d[k]=_[k])}else r.wtf8=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],93:[function(e,t,n){"use strict";function r(e){var t="";do t=a[e%c]+t,e=Math.floor(e/c);while(e>0);return t}function o(e){var t=0;for(f=0;f<e.length;f++)t=t*c+u[e.charAt(f)];return t}function i(){var e=r(+new Date);return e!==s?(l=0,s=e):e+"."+r(l++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},l=0,f=0;f<c;f++)u[a[f]]=f;i.encode=r,i.decode=o,t.exports=i},{}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={data:function(){return{url:"https://www.cryptool.org",path:"/aesapi",useTabs:!0,useAccordion:!1,useCipherOptions:!1,useKeywordBox:!1,useSigns:!1,groupType:"1",show:!1,toggle:!1,own:!1}}};n.default=r},{}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={data:function(){return{alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",allowedKeys:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",hexKeys:"0123456789ABCDEF",codtxt:"001a14e726f9bc23838852a0725e85d0693ecc51e70bba2b2f375624f35b12edfb737de62b9713e7b3539b71569ef93618756a837da4727e448abfb0e84ba9515aecac0796837509ce7098e4ca9c0c01ba9c758b7430053d5841271445f66bb671872c57ea5a4598d2be0d2aba35399d7683788d672be5c5043bf6c8bb5437d355598c0d1f6b41ede25b4669d82fab9562fbb18a9e40b6cc3b3397338bb93ca1fa9eb0d774a7cfb2eb9195d47a506507a71a04d74c04b2fbd362191e7ee4cd49ff5015f959cb25a41d01b5986e7ed8a8071a5a0f798fee80bbb2b179065c14363ff9b71f6c87e34debbc8300026e293265fcaf67139f61f6bc65335229a7f8182f984218a99afa44c854ee4e0e26bef05d6f5252dd914b9019581618f9bab9bf8694dcfc5604e1a3033d0f3d905d3e346e9fc0842b3e3856e32622ecf7d18369",code:"encode",bitValue:"128",keyValue128:"AA ** AA BB ** BB AA BB AA BB AA BB AA BB AA BB",keyValue192:"AA BB AA BB AA BB AA BB AA BB AA BB AA BB AA BB AA BB AA BB AA BB AA BB",keyValue256:"11 ** ** AA AA AA AA AB AA AA AA AA AA AA AA AC 11 ** ** AA AA AA AA AB ** AA AA AA AA AA AA AC",keyValue:"AA BB AA ** ** BB AA BB AA BB AA BB AA BB AA BB",mode:"ECB",show:!1,toggle:!1,own:!1,warningLength:!1,run:!1,start:!1,finish:!1,define:!0}}};n.default=r},{}],96:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(e,t){var n={url:d.default.data().url,path:d.default.data().path};return new c.default(n,e,t)}function n(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;for(var c in a)if(a[c]===t)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1}this.jobQueue=new s.default,this.socket=t("/",this),console.log(this.socket),this.pool=new l.default,this.pool.create();var r,o,i=0;this.getVSocketBox=function(){return e},this.getCurrentJob=function(){return r},this.switchSocket=function(e){var n=!0,r=!1,o=void 0;try{for(var i,s=this.socket.gRooms()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;a.name===e&&"free"===a.status&&(console.debug(e),this.socket.close(),this.socket=t(e,this))}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}},this.alone=function(e){o=e,"undefined"==typeof e.job?(r=this.jobQueue.createJob(),r.ctxt=e.codtxt,this.jobQueue.storeJob(r._id),e.job=r):r=this.jobQueue.getJob(e.job._id),this.pool.start(e,this,this.jobQueue)},this.fine=function(t){i++,i===e.selectWorker&&(i=0,this.socket.send("result.distribute",{sid:this.socket.id(),job:t,datas:t.getDatas()}),t.clear(),this.jobQueue.storeJob(t._id),e.fine(!1,o),e.decrypt(r.datas[0]))},this.complete=function(t){this.updateResult(t),e.isJobCreate=!1,console.debug(t.endTime),e.date=t.endTime,e.fine(!0,o),e.decrypt(r.datas[0])},this.define=function(t){t.is&&(r=t.job),e.isJobCreate=t.is},this.compute=function(t){o=t,r=this.jobQueue.addJob(t.job),console.log("compute"),console.log(r),this.pool.start(t,this,this.jobQueue),e.exe()},this.calcStats=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;window.clearInterval(e.inter);var n=new Date;e.date=n.toLocaleTimeString("en-GB");for(var r=0,i=0;i<t.keyValue.length;i++)t.keyValue[i].indexOf("*")>-1&&r++;e.numberAllKeys=Math.pow(t.alpha.length,r);var s=n.getTime()-e.startTime.getTime();console.log(s),e.throughput=parseInt(e.numberAllKeys/(s/1e3))},this.getResults=function(){return console.log(this.getCurrentJob()),"undefined"==typeof r?[]:r.sortDatas()},this.updateResult=function(e){console.log("updateResult"),r=this.jobQueue.getJob(e.job._id),console.log(e),r.addDatas(e.datas),r.datas=r.cutSortDatas(20),this.jobQueue.storeJob(r._id),console.log(r)},this.searchByKeywords=function(e){var t=[];if("undefined"==typeof r)return t;var o=r.sortDatas(),i=!0,s=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,f=!0,d=!1,p=void 0;try{for(var h,v=o[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var y=h.value;"undefined"!=typeof y.otxt&&y.otxt.includes(l)&&!n(t,y.otxt)&&t.push(y)}}catch(e){d=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}}}catch(e){s=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw a}}return t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./db/job.queue"),s=r(i),a=e("./socket"),c=r(a),u=e("./worker/worker.pool"),l=r(u),f=e("../config/app.config"),d=r(f)},{"../config/app.config":94,"./db/job.queue":98,"./socket":100,"./worker/worker.pool":107}],97:[function(e,t,n){"use strict";function r(){this.init=function(e){return this._id=e.date,this.sid=e.sid,this.from=e.from,this.key=e.key,this.otxt=e.otxt,this.alpha=e.alpha,this.date=e.date,this.mode=e.mode,this.calc=0,"undefined"!=typeof e.calc&&(this.calc=parseFloat(e.calc).toFixed(3)),this.init="",this}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){this.keys=[]}function i(){this.name="none",this.ctxt="",this.datas=[],this.tmpObj=new o,this.addData=function(e){var t=new c.default;t.init(e),this.datas.push(t)},this.addDatas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!1,n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value,c=!0,u=!1,l=void 0;try{for(var f,d=this.datas[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;if(p.key===a.key){t=!0;break}}}catch(e){u=!0,l=e}finally{try{!c&&d.return&&d.return()}finally{if(u)throw l}}t?t=!1:this.addData(a)}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}},this.removeData=function(e){for(var t=0;t<this.datas.length;t++)if(e===this.datas[t]._id){this.datas.splice(t,1);break}},this.getDatas=function(){return this.datas},this.cutSortDatas=function(e){return this.sortDatas().slice(0,e)},this.sortDatas=function(){return this.datas.sort(function(e,t){return t.calc-e.calc}),this.datas},this.clear=function(){null!=this.tmpObj&&(this.tmpObj.keys=[],this.tmpObj=null)}}function s(){function e(e){for(var t=0;t<r.length;t++){var n=r[t];if(n._id===e){r.splice(t,1),n.status=f.CLOSE,o.push(jobs);break}}}function t(e){for(var t=0;t<r.length;t++)if(r[t]._id===e)return r[t]}var n=new l.default;n.createWorkerDB("cto");var r=[],o=[];this.createJob=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new i;return n._id=e.toString(),n.date=(new Date).toJSON(),null!==t&&(n.datas=t),n.status=f.OPEN,r.push(n),n},this.addJob=function(e){for(var t=0;t<r.length;t++)if(r[t]._id===e._id)return!1;var n=new i;return n._id=e._id,n.name=e.name,n.ctxt=e.ctxt,n.date=e.date,n.status=e.status,r.push(n),n},this.setJobStatus=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.CLOSE,n=0;n<r.length;n++)if(r[n]._id===e){r[n].status=t;break}},this.moveJob=e,this.getJob=t,this.updateJob=function(e,n,r){if("id"===e)return!1;var o=t(e);return o[n]=r,!0},this.storeJob=function(e){var r=this,o=t(e);o.status===f.PROCESS&&setTimeout(function(){console.log("wait"),r.storeJob(e)},200),o.status=f.PROCESS;var i=n.getObjPromise(o._id);i.then(function(e){console.log("update"),n.updateObject(e._id,o)}).catch(function(e){console.log(e),n.storeBulk([o])}),o.status=f.OPEN,console.log(o)},this.clearCache=function(){o=[]}}Object.defineProperty(n,"__esModule",{value:!0}),n.JobStatus=void 0,n.Temp=o,n.Job=i,n.default=s;var a=e("./data.obj"),c=r(a),u=e("./pouch.db"),l=r(u),f=n.JobStatus={OPEN:"open",CLOSE:"close",PROCESS:"process"}},{"./data.obj":97,"./pouch.db":99}],99:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){function t(e,t){return e?console.log(e):console.log(t)}function n(e,t){t=r(t),o.get(e).then(function(r){console.log(r),t._rev=r._rev,o.put(t,function(r,o){return r?(n(e,t),console.log(r)):console.log(o)})}).catch(function(e){console.log(e)})}function r(e){return console.log(e),JSON.parse(JSON.stringify(e))}var o;this.createWorkerDB=function(t){var n=e("worker-pouch");n.isSupportedBrowser().then(function(e){e?(s.default.adapter("worker",n),o=new s.default(t,{adapter:"worker"})):o=new s.default(t),o.info().then(function(e){console.log(e)})}).catch(console.log.bind(console))},this.createDB=function(e){o=new s.default(e),o.info().then(function(e){console.log(e)})},this.storeObject=function(e){e=r(e),o.put(e,t)},this.getObject=function(e){var t=o.get(e).then(function(e){return console.log(e),e});return t},this.getObjPromise=function(e){return o.get(e)},this.removeObject=function(e){o.get(e).then(function(e){return o.remove(e)})},this.storeBulk=function(e){e=r(e),o.bulkDocs(e,t)},this.updateObject=n,this.getBulk=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={skip:e,limit:t,descending:n},i=o.allDocs(r).then(function(e){return console.log(e),e}).catch(function(e){console.log(e)});return i},this.getAllIds=function(){return o.allDocs().then(function(e){return console.log(e),e}).catch(function(e){console.log(e)})},this.close=function(){o.close(function(){console.log("pouchdb closed")})}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("pouchdb-browser"),s=r(i)},{"pouchdb-browser":44,"worker-pouch":86}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(){u=s.default.connect(e.url,{path:e.path+"/socket.io"})}function n(e){console.log(u),l=""===e?u.open():u.io.socket(e,{}),l.on("connect",function(){console.log(l),l.emit("g.names"),l.on("r.names",function(e){r(e.namespaces)}),l.on("job.define",function(e){c.define(e)}),l.on("job.complete",function(e){c.complete(e),l.emit("g.names")}),l.on("compute",function(e){"withServer"!==e.cmd&&"distribute"!==e.cmd||c.compute(e)}),l.on("result",function(e){c.updateResult(e),l.emit("g.names")}),l.on("connected.clients",function(e){document.getElementById("connectClients").innerHTML=e,l.emit("g.names")}),l.on("bing",function(){l.emit("bong")}),l.on("message",function(e){i(e)}),l.on("fail",function(e){i(e)}),l.on("exit",function(e){d.close()})})}function r(e){e.forEach(function(e){o(e)})}function o(e){var t=!0,n=!1,r=void 0;try{for(var o,i=f[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;if(s.name.includes(e.name))return s.status=e.status,s.jobName=e.jobName,!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return f.push(e),!0}function i(e){console.log(e);var t=document.getElementById("messages").getElementsByTagName("li").length+1,n=document.createTextNode(t+". "+e),r=document.createElement("li");r.appendChild(n),document.getElementById("messages").appendChild(r)}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",c=arguments[2];this.room=a;var u,l,f=(e.url+e.path,[]),d=this;t(),n(a),this.send=function(e,t){""!=e&&l.emit(e,t)},this.switch=function(e){var r=!0,o=!1,i=void 0;try{for(var s,a=f[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value;if(c.name===e&&"compute"!==c.status)return l.emit("exit"),t(),n(e),!0}}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return!1},this.gRooms=function(){return f},this.close=function(){l.emit("exit"),f=[],l.disconnect()},this.id=function(){return l.id},this.address=function(){return l.localAddress}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("socket.io-client"),s=r(i)},{"socket.io-client":48}],101:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("../share/event.bus"),s=t(i),a=e("../share/event.names"),c=t(a),u=e("../options/popup.vue"),l=t(u),f=e("../config/app.data"),d=t(f),p=e("./control"),h=t(p),v=e("../options/buttonbox.vue"),y=t(v),m=e("../lib/array.list"),g=t(m),_=e("../model/result.object"),b=t(_),w=o.default.component("socketbox",{mixins:[d.default,s.default,c.default],created:function(){var e=this;this.arrayList.init(3,"tab"),this.arrayList.set("tab3",new b.default),this.arrayList.set("tab2",new b.default),this.arrayList.set("tab1",new b.default),this.control=new h.default(this),this.socketRooms=this.control.socket.gRooms();for(var t=2*navigator.hardwareConcurrency||4,n=0;n<t;n++)this.numberWorkers[n]=n+1;this.numberWorkers.length>1&&(this.selectWorker=parseInt(this.numberWorkers.length-1)),this.eventBus.$on(c.default.Crypt,function(t){e.codtxt=t.txt,e.resetSettings()}),this.eventBus.$on(c.default.Compute,function(){e.exe();var t={codtxt:e.codtxt,keyValue:e.keyValue,keyRange:e.hexKeys.length,maxComputeLen:e.selectCompLen,mode:e.mode,alpha:e.hexKeys,number:1};e.control.alone(t)}),this.eventBus.$on(c.default.Distribute,function(){e.control.socket.send("g.names"),console.log(e.control.getCurrentJob()),e.control.socket.send("compute",{cmd:"distribute",sid:e.control.socket.id(),job:e.control.getCurrentJob()}),console.log(e.keyValue)}),this.eventBus.$on(c.default.KeyValue,function(t){e.keyValue=t,e.resetSettings()}),this.eventBus.$on(c.default.BitSelected,function(t){e.bitValue=t.bit,e.keyValue=t.keyValue}),this.eventBus.$on(c.default.JobLocal,function(e){}),this.eventBus.$on(c.default.JobDefine,function(t){e.defineJob=t}),this.eventBus.$on(c.default.ResourceSpend,function(t){e.spendResource=t}),this.eventBus.$on(c.default.GroupType,function(t){e.setSettings(e.tab,t),"3"==t&&(e.selectWorker=e.numberWorkers.length/2)})},beforeDestroy:function(){this.control.socket.send("exit"),this.control.socket.close(),this.control.pool.stop()},data:function(){return{control:null,decryptText:"",isJobCreate:!1,isFilled:!1,defineJob:!1,jobName:"",jobLength:!1,numberWorkers:[1],selectWorker:1,searchValues:"",matchValues:[],connectClients:0,numberResults:0,open:!1,modalToggle:!1,arrayList:new g.default,resultObj:new b.default,selectRoom:"/none",selectJob:"/none",socketRooms:[],socketType:"socketRooms",selectCompLen:96,spendResource:!1,tab:"1",computeLengths:[16,32,64,96,128]}},watch:{socketType:function(e,t){e!==t&&(this.socketRooms=this.control.socket.gRooms())},socketRooms:function(e,t){e!==t&&(this.socketRooms=e)},selectJob:function(e,t){console.log(e),this.switchRoom(e)},selectRoom:function(e,t){this.switchRoom(e);var n=this.jobName.length>3&&this.jobName.length<21;this.isFilled=n&&"/none"!==this.newVal},isJobCreate:function(e,t){e?this.eventBus.$emit(c.default.RoomSelected,!0):t&&this.eventBus.$emit(c.default.RoomSelected,!1)},jobName:function(e,t){var n=e.length>3&&e.length<21;this.jobLength=n,this.isFilled=n&&"/none"!==this.selectRoom},selectWorker:function(e,t){window.clearInterval(this.resultObj.interComKeys),this.resultObj.numberOfComKeys=0,this.resultObj.numberOfKeys=0,this.control.pool.changeWorkerSize(e)},searchValues:function(e,t){if(this.matchValues=[],0!==this.searchValues.length){var n=this.searchValues.split(" ");this.matchValues=this.resultObj.searchByKeywords(n),this.show=!0}else this.show=!1},toggle:function(){this.eventBus.$emit(c.default.Toggle,this.toggle)}},methods:{setSettings:function(e,t){if(e!=t){var n=new b.default;n.setSettings(this.resultObj),"3"==e?this.arrayList.set("tab3",n):"2"==e?this.arrayList.set("tab2",n):"1"==e&&this.arrayList.set("tab1",n),this.tab=t;var r=null;"3"==this.tab?r=this.arrayList.get("tab3"):"2"==this.tab?r=this.arrayList.get("tab2"):"1"==this.tab&&(r=this.arrayList.get("tab1")),console.log(r.matchValues),this.resultObj.setSettings(r),this.resultObj.numberOfKeys<1?(this.finish=!1,this.show=!1):this.finish=!0,this.matchValues=[]}},resetSettings:function(){window.clearInterval(this.resultObj.interComKeys),this.finish=!1,this.show=!1,this.matchValues=[],this.resultObj.startTime="",this.resultObj.startDate="",this.resultObj.date="",this.resultObj.elapTime="",this.resultObj.inter="",this.resultObj.interComKeys="",this.resultObj.throughput=0,this.resultObj.numberAllKeys=0,this.resultObj.numberOfComKeys=0,this.resultObj.numberOfKeys=0,"3"==this.tab?this.arrayList.reset("tab3"):"2"==this.tab?this.arrayList.reset("tab2"):"1"==this.tab&&this.arrayList.reset("tab1")},switchRoom:function(e){this.control.socket.switch(e);"/none"!==e&&"/root"!==e||this.eventBus.$emit(c.default.RoomSelected,!1)},createJob:function(){this.control.socket.send("job.create",{sid:this.control.socket.id(),name:this.jobName,codtxt:this.codtxt,keyValue:this.keyValue,maxComputeLen:this.selectCompLen,mode:this.mode}),this.isFilled=!1},exe:function(){var e=this;this.start=!0,this.run=!0,this.finish=!1,this.resultObj.numberAllKeys=0,this.resultObj.throughput=0,this.resultObj.startTime=new Date,this.resultObj.startDate=this.resultObj.startTime.toLocaleTimeString("en-GB"),this.resultObj.inter=setInterval(function(){var t=Date.now()-e.resultObj.startTime.getTime()-36e5;e.resultObj.elapTime=new Date(t).toLocaleTimeString("en-GB")},100),this.resultObj.interComKeys=setInterval(function(){e.resultObj.numberOfComKeys=e.control.pool.getComputedKeysCount()[0],e.resultObj.numberOfKeys=e.control.pool.getComputedKeysCount()[1]},150),this.show=!1,this.matchValues=[],this.eventBus.$emit(c.default.ComputingRun,!0)},showList:function(){this.show=!this.show,this.show?this.matchValues=this.resultObj.matchValues:this.matchValues=[]},fine:function(e,t){this.start=!1,this.run=!1,this.finish=!0;var n=!this.defineJob&&!this.spendResource||e;n&&this.calcStats(t),this.eventBus.$emit(c.default.ComputingRun,!1)},calcStats:function(e){window.clearInterval(this.resultObj.inter);var t=new Date;this.resultObj.date=t.toLocaleTimeString("en-GB"),this.resultObj.jobId=this.control.getCurrentJob()._id,this.resultObj.matchValues=this.control.getResults();for(var n=0,r=0;r<e.keyValue.length;r++)e.keyValue[r].indexOf("*")>-1&&n++;this.resultObj.numberAllKeys=Math.pow(e.alpha.length,n);var o=t.getTime()-this.resultObj.startTime.getTime();console.debug(o),this.resultObj.throughput=parseInt(this.resultObj.numberAllKeys/(o/1e3))},stop:function(){this.start=!1,this.run=!1,this.finish=!0,this.control.pool.stop(),this.resultObj.date=(new Date).toLocaleTimeString("en-GB"),window.clearInterval(this.resultObj.inter),window.clearInterval(this.resultObj.interComKeys),this.eventBus.$emit(c.default.ComputingRun,!1),this.control.socket.send("abort",{sid:this.control.socket.id(),job:this.control.getCurrentJob()})},decrypt:function(e){this.control.pool.manDecryptText(e,this.setDecryptText)},setDecryptText:function(e){console.debug(e),this.decryptText=e,this.modalToggle=!0}},components:{Popup:l.default,ButtonBox:y.default}});n.default=w}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"socketBox"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.defineJob,expression:"defineJob"}],staticClass:"select",attrs:{id:"distributeJob"}},[n("h4",[e._v(e._s(e.$t("defineJob")))]),e._v(" "),n("div",{staticClass:"input has-feedback"},[n("label",{attrs:{for:"job"}},[e._v(e._s(e.$t("jobName"))+":")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.jobName,expression:"jobName"}],staticClass:"form-control",class:e.clazz,attrs:{name:"job",type:"text",id:"job",size:"32",placeholder:"Give the job a name (required)"},domProps:{value:e._s(e.jobName)},on:{input:function(t){t.target.composing||(e.jobName=t.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.jobLength,expression:"jobLength"}],staticClass:"glyphicon glyphicon-ok form-control-feedback"}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.jobLength,expression:"!jobLength"}],staticClass:"glyphicon glyphicon-warning-sign form-control-feedback"})])]),e._v(" "),n("div",{staticClass:"drop"},[n("div",[n("label",{attrs:{for:"bindRoom"}},[e._v(e._s(e.$t("bindRoom"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectRoom,expression:"selectRoom"}],attrs:{id:"bindRoom"},on:{change:function(t){e.selectRoom=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[n("option",{attrs:{value:"/none"}},[e._v("/none")]),e._v(" "),e._l(e.socketRooms,function(t){return n("option",{domProps:{value:t.name}},[e._v(e._s(t.name)+" ("+e._s(t.status)+")")])})],2)]),e._v(" "),n("div",[n("label",{attrs:{for:"computeLength"}},[e._v(e._s(e.$t("lenDecryption"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectCompLen,expression:"selectCompLen"}],attrs:{id:"computeLength"},on:{change:function(t){e.selectCompLen=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},e._l(e.computeLengths,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),e._v(" "),n("div",[n("label",{attrs:{for:"mode"}},[e._v(e._s(e.$t("mode"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],attrs:{id:"mode"},on:{change:function(t){e.mode=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[n("option",[e._v("ECB")]),e._v(" "),n("option",[e._v("CBC")])])])]),e._v(" "),n("input",{staticClass:"btn btn-lg",attrs:{disabled:!e.isFilled,type:"button",id:"createJob",value:e.$t("buttonCreate")},on:{click:function(t){e.createJob()}}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.spendResource||e.defineJob,expression:"spendResource || defineJob"}],staticClass:"socket"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.defineJob,expression:"!defineJob"}],staticClass:"flexCon"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.socketType,expression:"socketType"}],attrs:{id:"socketJobs",type:"radio",value:"socketJobs",name:"optradio"},domProps:{checked:e._q(e.socketType,"socketJobs")},on:{click:function(t){e.socketType="socketJobs"}}}),e._v(" "),n("label",{staticClass:"radio",attrs:{for:"socketJobs"}},[e._v(e._s(e.$t("chooseJob"))+":\n                    "),n("label",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectJob,expression:"selectJob"}],attrs:{disabled:"socketJobs"!=e.socketType},on:{change:function(t){e.selectJob=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[n("option",{attrs:{value:"/none"}},[e._v("/none")]),e._v(" "),e._l(e.socketRooms,function(t){return t.jobName?n("option",{domProps:{value:t.name}},[e._v(e._s(t.jobName)+" ("+e._s(t.status)+")")]):e._e()})],2)])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.socketType,expression:"socketType"}],attrs:{id:"socketRooms",type:"radio",value:"socketRooms",name:"optradio"},domProps:{checked:e._q(e.socketType,"socketRooms")},on:{click:function(t){e.socketType="socketRooms"}}}),e._v(" "),n("label",{staticClass:"radio",attrs:{for:"socketRooms"}},[e._v(e._s(e.$t("chooseRoom"))+":\n                    "),n("label",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectRoom,expression:"selectRoom"}],attrs:{disabled:"socketRooms"!=e.socketType},on:{change:function(t){e.selectRoom=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[n("option",{attrs:{value:"/none"}},[e._v("/none")]),e._v(" "),e._l(e.socketRooms,function(t){return n("option",{domProps:{value:t.name}},[e._v(e._s(t.name)+" ("+e._s(t.status)+")")])})],2)])])])]),e._v(" "),n("div",[n("span",{staticClass:"clients"},[e._v(e._s(e.$t("connectClients"))+":\n                "),n("span",{attrs:{id:"connectClients"}})])]),e._v(" "),n("div",{staticClass:"msg"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"msgcontent",attrs:{id:"messages"}},[n("h4",[e._v(e._s(e.$t("msgSocket")))])])])]),e._v(" "),n("buttonbox"),e._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"select"},[n("p",{directives:[{name:"show",rawName:"v-show",value:!e.spendResource&&!e.defineJob,expression:"!spendResource && !defineJob"}]},[n("label",{attrs:{for:"mode"}},[e._v(e._s(e.$t("mode"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],attrs:{id:"mode"},on:{change:function(t){e.mode=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[n("option",[e._v("ECB")]),e._v(" "),n("option",[e._v("CBC")])])]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.spendResource&&!e.defineJob,expression:"!spendResource && !defineJob"}]},[n("label",{attrs:{for:"computeLength"}},[e._v(e._s(e.$t("lenDecryption"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectCompLen,expression:"selectCompLen"}],attrs:{id:"computeLength"},on:{change:function(t){e.selectCompLen=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},e._l(e.computeLengths,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),e._v(" "),n("p",[n("label",{attrs:{for:"countWorker"}},[e._v(e._s(e.$t("countWorker"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectWorker,expression:"selectWorker"}],attrs:{id:"countWorker",disabled:e.run},on:{change:function(t){e.selectWorker=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},e._l(e.numberWorkers,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])}))])]),e._v(" "),n("div",{staticClass:"info"},[n("div",[n("b",[e._v(e._s(e.$t("jobLocal")))]),e._v(" "),n("div",{staticClass:"keys"},[e._v(e._s(e.$t("computedKeys"))+": "),n("label",{attrs:{id:"numberOfKeys"}},[e._v(e._s(e.resultObj.numberOfComKeys)+" / "+e._s(e.resultObj.numberOfKeys))])])]),e._v(" "),n("div",[n("b",[e._v(e._s(e.$t("jobOverall")))]),e._v(" "),n("div",{staticClass:"keys"},[e._v(e._s(e.$t("computedKeys"))+": "),n("label",[e._v(e._s(e.resultObj.numberAllKeys))])]),e._v(" "),n("div",{staticClass:"keys"},[e._v(e._s(e.$t("throughput"))+": "),n("label",[e._v(e._s(e.resultObj.throughput))])]),e._v(" "),n("div",[e._v(e._s(e.$t("timeStart"))+": "),n("label",{staticClass:"time"},[e._v(e._s(e.resultObj.startDate))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.run,expression:"run"}]},[e._v(e._s(e.$t("timeElapse"))+": "),n("label",{staticClass:"time"},[e._v(e._s(e.resultObj.elapTime))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.run,expression:"!run"}]},[e._v(e._s(e.$t("timeEnd"))+": "),n("label",{staticClass:"time"},[e._v(e._s(e.resultObj.date))])])])]),e._v(" "),n("input",{staticClass:"btn btn-lg",attrs:{disabled:!e.run,type:"button",id:"stop",value:e.$t("buttonStop")},on:{click:e.stop}}),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"btn btn-lg",attrs:{disabled:!e.finish,type:"button",id:"best",value:e.$t("buttonListShow")},on:{click:e.showList}}),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"btn btn-lg",attrs:{disabled:!e.finish,type:"button",id:"best",value:e.$t("buttonListHide")},on:{click:e.showList}})]),e._v(" "),n("div",{staticClass:"socketFilter"},[n("div",[n("h4",[e._v(e._s(e.$t("results"))+":")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValues,expression:"searchValues"}],attrs:{type:"search",autocomplete:"off",name:"search",id:"search",placeholder:e.$t("searchBy")},domProps:{value:e._s(e.searchValues)},on:{input:function(t){t.target.composing||(e.searchValues=t.target.value)}}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.modalToggle,expression:"modalToggle"}],staticClass:"ctoModal",attrs:{id:"ctoModal"}},[n("div",{staticClass:"ctoModalContent"},[n("span",{staticClass:"close",on:{click:function(t){e.modalToggle=!e.modalToggle}}},[e._v("×")]),e._v(" "),n("h4",[e._v(e._s(e.$t("decryptText")))]),e._v(" "),n("p",[e._v(e._s(e.decryptText))])])]),e._v(" "),n("div",{attrs:{id:"results"}},[n("ol",{attrs:{id:"result"}},e._l(e.matchValues,function(t){return n("li",[n("b",[e._v(e._s(t.key)+":")]),n("span",[e._v(e._s(t.calc))]),n("br"),e._v("\n                "+e._s(t.otxt)+"\n                "),n("input",{attrs:{type:"button",id:"dec",value:e.$t("buttonDecrypt")},on:{click:function(n){e.decrypt(t)}}})])}))])],1)},r.staticRenderFns=[]},{"../config/app.data":95,"../lib/array.list":109,"../model/result.object":117,"../options/buttonbox.vue":119,"../options/popup.vue":122,"../share/event.bus":125,"../share/event.names":126,"./control":96,vue:79}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.AESData={keySizeInBits:192}},{}],103:[function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=s.default.spawn;this.kill=function(){this.thread.kill()},this.thread=e(function(e,t){function n(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return t}function r(e,t,n){for(var r=_/8,o=[],i=n/r-1;i>0;i--){var s=v(e.slice(i*r,(i+1)*r),t);if(s[0]>127)return s;for(var a=0;a<r;a++)o[(i-1)*r+a]=s[a]^e[(i-1)*r+a]}return o}function o(e,t,n){for(var r=_/8,o=[],i=n/r-1;i>0;i--){var s=v(e.slice(i*r,(i+1)*r),t);if(s[0]>127)return s;o=s.concat(o)}return o=v(e.slice(0,r),t).concat(o)}function i(e){for(var t=[],n=0;n<A;n++)t[n]=e[4*n]|e[4*n+1]<<8|e[4*n+2]<<16|e[4*n+3]<<24;for(n=A;n<S*(E+1);n++){var r=t[n-1];n%A==0?r=(k[r>>8&255]|k[r>>16&255]<<8|k[r>>24&255]<<16|k[255&r]<<24)^w[Math.floor(n/A)-1]:A>6&&n%A==4&&(r=k[r>>24&255]<<24|k[r>>16&255]<<16|k[r>>8&255]<<8|k[255&r]),t[n]=t[n-A]^r}return t}function s(e,t){var n=e.slice(0,t);return e=e.slice(t).concat(n)}function a(e){return e<<=1,256&e?283^e:e}function c(e,t){for(var n=0,r=1;r<256;r*=2,t=a(t))e&r&&(n^=t);return n}function u(e,t){for(var n=0;n<4;n++)for(var r=0;r<S;r++)e[n][r]=x[e[n][r]]}function l(e,t){for(var n=1;n<4;n++)e[n]=s(e[n],S-b[S][n])}function f(e,t){for(var n=[],r=0;r<S;r++){for(var o=0;o<4;o++)n[o]=c(e[o][r],14)^c(e[(o+1)%4][r],11)^c(e[(o+2)%4][r],13)^c(e[(o+3)%4][r],9);for(var i=0;i<4;i++)e[i][r]=n[i]}}function d(e,t){for(var n=0;n<S;n++)e[0][n]^=255&t[n],e[1][n]^=t[n]>>8&255,e[2][n]^=t[n]>>16&255,e[3][n]^=t[n]>>24&255}function p(e,t){d(e,t),f(e,"decrypt"),l(e,"decrypt"),u(e,"decrypt")}function h(e,t){d(e,t),l(e,"decrypt"),u(e,"decrypt")}function v(e,t){e=y(e),h(e,t.slice(S*E));for(var n=E-1;n>0;n--)p(e,t.slice(S*n,S*(n+1)));return d(e,t),m(e)}function y(e){if(e&&!(e.length%4)){var t=[];t[0]=[],t[1]=[],t[2]=[],t[3]=[];for(var n=0;n<e.length;n+=4)t[0][n/4]=e[n],t[1][n/4]=e[n+1],t[2][n/4]=e[n+2],t[3][n/4]=e[n+3];return t}}function m(e){for(var t=[],n=0;n<e[0].length;n++)t[t.length]=e[0][n],t[t.length]=e[1][n],t[t.length]=e[2][n],t[t.length]=e[3][n];return t}var g=e,_=128,b=[,,,,[,1,2,3],,[,1,2,3],,[,1,3,4]],w=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],k=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],x=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],A=g.keySizeInBits/32,S=4,E=A+6,C=g.ctxt.length;g.maxComputeLen&&g.maxComputeLen<g.ctxt.length&&(C=g.maxComputeLen);var O=n(g.obj.key),j=i(O),T=[];T="CBC"===g.mode?r(g.ctxt,j,C):o(g.ctxt,j,C),t({otxt:T,key:g.key,obj:g.obj})})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("threads"),s=r(i)},{threads:68}],104:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){function e(){null!==A&&A.kill(),A=new f.default}function t(e){E=0,S=x.disarm_hex(h.ctxt.toUpperCase());var t=e.keyValue.replace(/\s/g,"");console.debug("init key "+t),S&&t&&"string"!=typeof S&&(e.mode||(e.mode="ECB"),g=u.AESData,g.keySizeInBits=4*t.length,g.key=t,g.mode=e.mode,g.ctxt=S.slice(0,C),g.maxComputeLen=e.maxComputeLen,e.maxComputeLen<16&&(g.maxComputeLen=16),b=g.ctxt.length/4,g.ctxt.length>g.maxComputeLen&&(b=g.maxComputeLen/4))}function n(){E=1,g.obj=_.keys.pop(),a(g,o)}function r(e){if(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return k.decode_utf8(t)}}function o(e){var t=e.obj;t.otxt=r(e.otxt),t.calc=w.analyse(t.otxt),t.calc>b&&(h.addData(t),h.datas=h.cutSortDatas(20))}function i(e){return 0===e.length}function a(e,t){var n={start:new Date};A.thread.send(e).on("message",function(r){null!==t&&t(r),_.keys.length>0?(E++,e.obj=_.keys.pop(),A.thread.send(e)):(j=0,n.end=new Date,console.log("done: "+_.keys.length),h.datas=h.cutSortDatas(20),m.fine(h),console.debug(n.start),console.debug(E),console.debug(n.end))}).on("error",l).on("exit",d)}function l(e){console.error("Worker errored:",e),E--,m.fine(h)}function d(){console.log("Worker has been terminated."),console.debug(new Date)}var h,v,y,m,g,_,b,w=new p.default,k=new s.default,x=new c.default,A=null,S="",E=0,C=128,O=0,j=0;this.getComputedKeysCount=function(){return[E,O]},this.sendData=function(n,r,o){e(),console.debug(n),m=r,y=r.socket,v=r.jobQueue,h=v.getJob(n.job._id),_=h.tmpObj,console.log(h),t(n)},this.bruteForce=n,this.byteToString=r,this.decryptText=function(t,n){if(!i(t.key)){var o=t.key.replace(/\s/g,"");e();var s=x.disarm_hex(h.ctxt.toUpperCase());u.AESData.maxComputeLen=s.length,u.AESData.ctxt=s,u.AESData.obj.key=o,u.AESData.mode=t.mode,u.AESData.keySizeInBits=4*o.length,A.thread.send(u.AESData).on("message",function(e){console.log(e);var t=r(e.otxt);console.log(t),n(t)})}},this.kill=function(){"undefined"!=typeof v&&(h.clear(),v.storeJob(h._id)),null!==A&&A.kill()}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("../../model/utf-8"),s=r(i),a=e("../../model/armour.hex"),c=r(a),u=e("./aes.data"),l=e("./aes.decrypt.thread"),f=r(l),d=e("../../model/entropy"),p=r(d)},{"../../model/armour.hex":113,"../../model/entropy":115,"../../model/utf-8":118,"./aes.data":102,"./aes.decrypt.thread":103}],105:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=s.default.spawn;this.thread=e(function(e,t,n){function r(e){if(e.indexOf("*")!==-1)return!1;if(!(g.indexOf(e)>-1))return g.push(e),g.length>20768&&(n(g),g=[]),!0}function o(e,t){for(var n=new Set,r=0;r<e.length;r++){for(var o=e[r],i=t,a=0;a<t.length;a++){var c=t[a];c.indexOf("*")>-1&&(i=s(i,o,a))}n.add(i)}return n}function i(e,t){for(var n=Array.from(e),o=function(n){var o=l[n];[].map.call(t,function(t){var i=e;i.forEach(function(i){i[o]!==t&&(i=s(i,t,o),e.has(i)||(n!=c-1&&e.add(i),r(i)))})})},i=1;i<l.length;i++)o(i);return n.concat(g)}function s(e,t,n){var r=e.substring(0,n),o=e.substring(n+1,e.length);return r.concat(t,o)}function a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=t*(r-1),s=t*r;return n!==t&&(i=t*(r-1)+n*(o-1),s=t*(r-1)+n*o),s>e.length&&(s=e.length),{start:i,end:s}}console.log("Hi, i am worker number: "+e.cloneNumber),e.keyValue=e.keyValue.replace(/\s/g,"");var c=0,u=0,l=[],f=e.alpha;if("undefined"!=typeof e.begin&&e.begin.length>0){console.debug(!0);for(var d=e.keyValue,p=0;p<d.length;p++)d[p].indexOf("*")>-1&&(e.begin.length>u?(e.keyValue=s(d,e.begin[u],p),f=f.concat(e.alpha),u++):(l.push(p),c++))}else{console.debug(!1);for(var h=0;h<e.keyValue.length;h++)e.keyValue[h].indexOf("*")>-1&&(l.push(h),c++)}for(var v=a(f,e.keyRange,e.workerRange,e.number,e.cloneNumber),y=[],m=v.start;m<v.end;m++)y.push(f[m]);var g=[],_=o(y,e.keyValue),b=i(_,f);t(b)}),this.kill=function(){this.thread.kill()}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("threads"),s=r(i)},{threads:68}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){function e(){null!==u&&u.kill(),u=new s.default}function t(e,t){t.forEach(function(t){e.sid=i.id(),e.from=i.address(),e.key=t,e.date=new Date;var n=new c.default;n.init(e),o.keys.push(n)}),l+=t.length,0==f&&a.pool.force(),f++}function n(e){console.error("Worker errored:",e)}function r(){console.log("Worker has been terminated."),console.debug(new Date)}var o,i,a,u=null,l=0,f=0;this.getKeysCount=function(){return l},this.sendData=function(t,n){e(),console.debug(t),a=n,i=n.socket,o=n.getCurrentJob().tmpObj,t.job="undefined",this.generateKeys(t)},this.generateKeys=function(e){console.log(e),l=0,f=0,u.thread.send(e).on("message",function(n){t(e,n)}).on("progress",function(n){t(e,n)}).on("error",n).on("exit",r)},this.kill=function(){null!==u&&u.kill()}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./key.generation.thread3"),s=r(i),a=e("../db/data.obj"),c=r(a)},{"../db/data.obj":97,"./key.generation.thread3":105}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){function e(t){if(t==d.length)return f=t,void r();if(t>d.length)d.push(new s.default);else{var n=d.pop();console.log(n),n.kill()}console.log("tl "+d.length),e(t)}function t(){for(var e=0;e<n();e++)p.push(new c.default)}function n(){var e=1;return f>15?e=16:f>7?e=8:f>3?e=4:f>1&&(e=2),e}function r(){var e=n();if(e>=p.length){e-=p.length;for(var t=0;t<e;t++)p.push(new c.default)}else if(e<p.length){e=p.length-e;for(var r=0;r<e;r++){var o=p.pop();o.kill()}}}function o(){for(var e=0;e<d.length;e++)d[e].kill();for(var t=0;t<p.length;t++)p[t].kill();d=[],p=[]}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(t.length<n){var r=parseInt(n/t.length);do{for(var o=n/(2*r),i=0,s=0;s<parseInt(o);s++)for(var a=0;a<t.length;a++)for(var c=0;c<r;c++)e[i].begin+=t[a],i++;r=parseInt(r/t.length)}while(r>=t.length)}return e}function a(e,t){var n=e/t;return e%t!==0&&(n=parseInt(n)+1),n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=1;do{var o={};for(var i in e)o[i]=e[i];o.cloneNumber=r,"undefined"==typeof o.begin&&(o.begin=""),n.push(o),r++}while(r<=t);return console.log(n),n}var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,f=l,d=[],p=[];this.keys=[],this.changeCount=function(e){f=e<2?1:e},this.changeWorkerSize=e,this.create=function(){o(),t();for(var e=0;e<f;e++)d.push(new s.default)},this.manDecryptText=function(e,t){console.log(t),d.length<0&&this.create(),d[0].decryptText(e,t)},this.stop=function(){this.create()},this.getComputedKeysCount=function(){for(var e=0,t=0,n=0;n<d.length;n++)e+=d[n].getComputedKeysCount()[0];for(var r=0;r<p.length;r++)t+=p[r].getKeysCount();return[e,t]};var h=!1;this.start=function(e,t,r){h=!1;var o=n();e.workerRange=a(e.keyRange,o);var s=u(e,o);s=i(s,e.alpha,o);for(var c=0;c<f;c++)d[c].sendData(s[0],t);for(var l=0;l<p.length;l++)p[l].sendData(s[l],t)},this.force=function(){if(!h){h=!0;for(var e=0;e<f;e++)d[e].bruteForce()}}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./aes.slave"),s=r(i),a=e("./keygen.slave"),c=r(a)},{"./aes.slave":104,"./keygen.slave":106}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=new function(){this.valueIn=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;for(var c in a)if(a[c]===t)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1}}},{}],109:[function(e,t,n){"use strict";function r(){var e=[];this.init=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"list",r=1;r<t+1;r++){var o=n+r;e[o]=[]}},this.get=function(t){return e[t]?e[t]:null},this.set=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"undefined"!=typeof e[t]&&(e[t]=n,!0)},this.reset=function(e){return this.set(e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],110:[function(e,t,n){"use strict";function r(){this.hasStringEqualChars=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e.charAt(n);if(t.indexOf(r)<0)return!1}return!0},this.reverse=function(e){var t="";return 0!==e.length&&(t=e.split("").reverse().join("")),t},this.isNormalCase=function(e){return!this.isUpperCase(e)&&!this.isLowerCase(e)},this.isUpperCase=function(e){return e===e.toUpperCase()},this.isLowerCase=function(e){return e===e.toLowerCase()},this.hasTextBlanks=function(e){return e.indexOf(" ")>=0},this.hasTextUmlauts=function(e){var t=["Ä","ä","Ü","ü","Ö","ö","ß"],n=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;if(e.indexOf(a)>-1)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.hasTextPunctuation=function(e){var t=[".",",",":",";","!","?","(",")"],n=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;if(e.indexOf(a)>-1)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.hasTextSpecialChars=function(e){var t=["§","$","&","@","|","€","_"],n=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;if(e.indexOf(a)>-1)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.hasText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length<0)return!1;var n=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;if(e.indexOf(a)>-1)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.hasTextMathChars=function(e){var t=["%","<",">","+","-","=","*","/","%","~","{","}","[","]"],n=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;if(e.indexOf(a)>-1)return!0}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!1},this.hasTextNumbers=function(e,t){for(var n=["0","1","2","3","4","5","6","7","8","9"],r=0,o=0;o<e.length;o++)if(n.indexOf(e[o])>-1&&r++,r/e.length*100>=t)return!0;return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],111:[function(e,t,n){t.exports={de:{bindRoom:"Mit einer Gruppe verknüpfen*",chooseJob:"Einen Job wählen / helfen",chooseRoom:"Mit einer freien Gruppe verbinden",ciphername:"Kryptoanalyse - AES",computedKeys:"Analysierte Schlüssel",ciphertext:"Geheimtext im Hex-Format",connectClients:"Anzahl der verbundenen Clients",countWorker:"Anzahl der Worker (lokale Threads)",decryptText:"Der entschlüsselte Text",defineJob:"Einen verteilten Job definieren",infoTitle:"Brute-Force Analyse von AES",jobName:"Job-Name*",jobLocal:"Lokaler Job",jobOverall:"Gesamter Job",keyKnown:"Schlüssel mit bekannten Stellen",keyLength:"Schlüssellänge",length:"aktuelle Länge",lenDecryption:"Bytes zur Entschlüsselung pro Schlüssel",plaintext:"Klartext",radioOne:"Job nur lokal ausführen",radioTwo:"Einen verteilten Job definieren",radioThree:"Ressourcen zur Verfügung stellen",searchBy:"Suche mit Schlüssel-Wörtern",buttonCreate:"Erstelle Job",buttonDecrypt:"Entschlüsseln",buttonListShow:"Ergebnisliste anzeigen",buttonListHide:"Ergebnisliste verbergen",buttonName:"Lokalen Angriff starten",buttonStop:"Lokale Berechnung stoppen",disButtonName:"Angriff mit verbundenen Clients starten",msgSocket:"Server-Nachrichten",mode:"Modus",options:"Optionen",results:"Ergebnisse filtern",timeEnd:"Endzeit",timeElapse:"Verstrichene Zeit",timeStart:"Startzeit",throughput:"Durchsatz (Schlüssel/sek)",warning:"Die Eingabe enthält nicht nur Hex-Zeichen!",warningLength:"Sie haben keine vollständigen Blöcke (128 Bit) eingegeben!"},en:{bindRoom:"Associate with a group*",chooseJob:"Choose / help a job",chooseRoom:"Connect with a free group",ciphername:"Cryptanalysis - AES",computedKeys:"Computed keys",ciphertext:"Your ciphertext in hex characters",connectClients:"Number of connected clients",countWorker:"Number of workers (local threads)",decryptText:"The decrypted text",defineJob:"Define a distributed job",infoTitle:"Brute-Force Analysis of AES",jobName:"Job name*",jobLocal:"Local job",jobOverall:"Overall job",keyKnown:"Key with known parts",keyLength:"Key length",length:"current length",lenDecryption:"Bytes to decrypt per key",msgSocket:"Server messages",mode:"Mode",plaintext:"Plaintext",radioOne:"Run job only locally",radioTwo:"Define a distributed job",radioThree:"Provide my resources",searchBy:"Search by keywords",buttonCreate:"Create job",buttonDecrypt:"Decrypt",buttonListShow:"Show result list",buttonListHide:"Hide result list",buttonName:"Start attack locally",buttonStop:"Stop computing locally",disButtonName:"Start attack with connected clients",options:"Options",results:"Filter results",timeEnd:"End time",timeElapse:"Elapsed time",timeStart:"Start time",throughput:"Throughput (keys/sec)",warning:"The input contains other characters as hex characters",warningLength:"The input has not complete 128-bit blocks"}}},{}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("vue"),i=r(o),s=e("./prime.vue"),a=r(s),c=e("vue-i18n"),u=r(c),l=e("./locale/locale.json");i.default.use(u.default),i.default.config.lang="en",i.default.config.fallbackLang="de",Object.keys(l).forEach(function(e){i.default.locale(e,l[e])});new i.default({el:"#app",render:function(e){return e(a.default)}})},{"./locale/locale.json":111,"./prime.vue":124,vue:79,"vue-i18n":78}],113:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e){for(var t=r+s.default.byteArrayToHex(e)+o,i="";t.length>n;)i+=t.substring(0,n)+"\n",t=t.substring(n,t.length);return i+=t+"\n"}function t(e){var t,n="0123456789ABCDEF",i="";for((t=e.indexOf(r))>=0&&(e=e.substring(t+r.length,e.length)),(t=e.indexOf(o))>=0&&(e=e.substring(0,t)),t=0;t<e.length;t++){var a=e.charAt(t);n.indexOf(a)>=0&&(i+=a)}return s.default.hexToByteArray(i)}var n=64,r="?HX?",o="?H";this.armour_hex=e,this.disarm_hex=t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("./convert.hex"),s=r(i)},{"./convert.hex":114}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=new function(){function e(e){var t="";if(e){for(var n=0;n<e.length;n++)t+=(e[n]<16?"0":"")+e[n].toString(16);return t}}function t(e){if(!(e.length%2)){0!=e.indexOf("0x")&&0!=e.indexOf("0X")||(e=e.substring(2));for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return t}}this.byteArrayToHex=e,this.hexToByteArray=t}},{}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=new s.default,t="";this.analyseText=function(n){e.isLowerCase(n)?t="abcdefghijklmnopqrstuvwxyz":e.isUpperCase(n)?t="ABCDEFGHIJKLMNOPQRSTUVWXYZ":(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t+="АаБбВвГгҐґЃѓДдЂђЕеЀѐЁёЄєЖжЗзЅѕИиЍѝІіЇїЙйЈјКкЌќЛлЉљМмНнЊњОоПпРрСсТтЋћУуЎўФфХхЦцЧчЏџШшЩщЪъЫыЬьЭэЮюЯя"),e.hasTextNumbers(n,7)&&(t+="0123456789"),!e.hasTextBlanks(n),e.hasTextPunctuation(n)&&n.indexOf(".")!==n.length-1&&(t+=".,:;!?()"),e.hasTextUmlauts(n)},this.analyse=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=n,null===n&&(this.analyseText(e),n=t);for(var r=[],o=0;o<n.length;o++){var i=new c.default;i.key=n[o];for(var s=0;s<e.length;s++)n[o]==e[s]&&(i.absolute+=1);i.calculateAbsEpy(),r.push(i)}var a=0;return r.forEach(function(e){a+=e.calc}),a}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("../lib/string.lib"),s=r(i),a=e("./key.object"),c=r(a)},{"../lib/string.lib":110,"./key.object":116}],116:[function(e,t,n){"use strict";function r(){this.key="",this.keyValue=0,this.absolute=0,this.relative=0,this.calc=0,this.entropy=0,this.norm=0,this.calculateAbsEpy=function(){0!==this.absolute&&(this.calc=this.absolute*Math.log2(this.absolute))},this.calcEntropy=function(e){0!==this.absolute&&(this.relative=this.absolute/e.length,this.entropy=-1*(this.relative*Math.log2(this.relative)),this.calcEntropyNorm(e)),console.log(this.entropy)},this.calcEntropyNorm=function(e){0!==this.entropy&&(this.norm=this.entropy/Math.log2(e.length))},this.calculate=function(e,t){e.key.indexOf(this.key)>-1?this.calc=this.relative*t*3:this.calc=this.relative*t},this.setKeyValue=function(e){return"number"==typeof e&&(this.keyValue=-e,this.keyValue<0&&(this.keyValue=-this.keyValue),!0)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],117:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){this.jobId=0,this.matchValues=[],this.startTime="",this.startDate="",this.date="",this.elapTime="",this.inter="",this.interComKeys="",this.throughput=0,this.numberAllKeys=0,this.numberOfComKeys=0,this.numberOfKeys=0,this.setSettings=function(e){null!=e&&(this.jobId=e.jobId,this.matchValues=e.matchValues,this.startTime=e.startTime,this.startDate=e.startDate,this.date=e.date,this.elapTime=e.elapTime,window.clearInterval(e.inter),window.clearInterval(e.interComKeys),this.inter=e.inter,this.interComKeys=e.interComKeys,this.throughput=e.throughput,this.numberAllKeys=e.numberAllKeys,this.numberOfComKeys=e.numberOfComKeys,this.numberOfKeys=e.numberOfKeys)},this.searchByKeywords=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value,u=!0,l=!1,f=void 0;try{for(var d,p=this.matchValues[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;"undefined"!=typeof h.otxt&&h.otxt.includes(c)&&!s.default.valueIn(t,h.otxt)&&t.push(h)}}catch(e){l=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(l)throw f}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("../lib/array.lib"),s=r(i)},{"../lib/array.lib":108}],118:[function(e,t,n){"use strict";function r(){this.unicode_to_utf8=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=String.fromCharCode(r):r>=128&&r<=2047?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},this.utf8_to_unicode=function(e){for(var t,n,r,o="",i=0;i<e.length;)t=e.charCodeAt(i),t<128?(o+=String.fromCharCode(t),i++):t>=192&&t<224?(n=e.charCodeAt(i+1),o+=String.fromCharCode((31&t)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),r=e.charCodeAt(i+2),o+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r),i+=3);return o},this.encode_utf8=function(e){var t,n=!1;for(t=0;t<e.length;t++)if(157==e.charCodeAt(t)||e.charCodeAt(t)>255){n=!0;break}return n?String.fromCharCode(157)+this.unicode_to_utf8(e):e},this.decode_utf8=function(e){return e.length>0&&157==e.charCodeAt(0)?this.utf8_to_unicode(e.substring(1)):e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},{}],119:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("../share/event.bus"),s=t(i),a=e("../share/event.names"),c=t(a),u=e("../config/app.data"),l=t(u),f=o.default.component("buttonbox",{mixins:[s.default,c.default,l.default],created:function(){var e=this;this.eventBus.$on(c.default.OwnValue,function(t){e.own=t}),this.eventBus.$on(c.default.ComputingRun,function(t){e.run=t}),this.eventBus.$on(c.default.WarningClash,function(t){e.warning=t}),this.eventBus.$on(c.default.RoomSelected,function(t){e.isSelectedRoom=t}),this.eventBus.$on(c.default.GroupType,function(t){e.groupType=t})},data:function(){return{groupType:"1",isSelectedRoom:!1,warning:!1}},methods:{computed:function(){console.log("fire compute"),this.eventBus.$emit(c.default.Compute)},distribute:function(){this.eventBus.$emit(c.default.Distribute)}}});n.default=f}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"buttonBox"},[n("input",{directives:[{name:"show",rawName:"v-show",value:1==e.groupType,expression:"groupType == 1"}],staticClass:"btn btn-lg",attrs:{type:"button",name:"button",id:"computed",value:e.$t("buttonName"),disabled:e.run||e.warning},on:{click:e.computed}}),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:2==e.groupType,expression:"groupType == 2"}],staticClass:"btn btn-lg",attrs:{type:"button",name:"button",id:"distribute",value:e.$t("disButtonName"),disabled:e.run||!e.isSelectedRoom||e.warning},on:{click:e.distribute}})])])},r.staticRenderFns=[]},{"../config/app.data":95,"../share/event.bus":125,"../share/event.names":126,vue:79}],120:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("../share/event.bus"),s=t(i),a=e("../share/event.names"),c=t(a),u=o.default.component("infobox",{mixins:[s.default,c.default],created:function(){var e=this;this.eventBus.$on(c.default.KeyInfoBox,function(t){e.open=t.open,e.transmit(t)})},data:function(){return{infoAlgorithm:"",currentLength:"",lang:"",open:!1}},methods:{transmit:function(e){this.lang=o.default.config.lang,this.infoAlgorithm="For a "+e.bit+" bit AES key exactly "+e.bit/4+" hex characters are needed (including the asterisks for the unknown hex characters).",this.currentLength="Currently we have "+e.len+" characters.","de"==o.default.config.lang&&(this.infoAlgorithm="Für einen "+e.bit+" Bit AES-Schlüssel werden genau "+e.bit/4+"Hex-Zeichen benötigt (einschließlich der Sternchen für die unbekannten Hex-Zeichen).",this.currentLength="Derzeit haben wir "+e.len+" Zeichen.")}}});n.default=u}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"infobox visible"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"infoboxtext visible"},[n("span",{staticClass:"close",on:{click:function(t){e.open=!e.open}}},[e._v("×")]),e._v(" "),n("h4",[e._v(e._s(e.$t("infoTitle")))]),e._v(" "),n("p",[e._v(e._s(e.infoAlgorithm))]),e._v(" "),n("p",[n("strong",[e._v(e._s(e.currentLength))])]),e._v(" "),"de"==e.lang?n("div",[e._v(e._s(e.hint)+"\n      "),n("p",[e._v("\n        Der Suchraum kann begrenzt werden, um die Suchzeit zu reduzieren.\n        Um dies zu tun, geben Sie bekannte Teile des Schlüssels in hexadezimaler Notation (0123456789ABCDEF) und unbekannte als * ein.\n      ")]),e._v(" "),n("h5",[e._v("Beispiel:")]),e._v(" "),n("p",[e._v("\n        Geben Sie 00 ** BB ** ... ** ein, um alle Schlüssel beginnend mit Null-Byte zu durchsuchen,\n        gefolgt von einem unbekannten Byte, das Byte BB und einem unbekannten Ende.\n      ")]),e._v(" "),n("h5",[e._v("Hinweis:")]),e._v(" "),n("p",[e._v("\n        Die Suchzeit wird in der Reihenfolge von Minuten bis Stunden liegen, wenn Sie 5 oder mehr Sternchen verwenden (einen 20-Bit-Suchraum verlassen).\n      ")])]):n("div",[e._v(e._s(e.hint)+"\n      "),n("p",[e._v("\n      The search space can be limited in order to reduce the search time.\n      To do this, enter known parts of the key in hexadecimal notation (0123456789ABCDEF), unknown as * .\n      ")]),e._v(" "),n("h5",[e._v("Example:")]),e._v(" "),n("p",[e._v("\n      Enter 00 ** BB ** ... **, to search all keys starting with zero byte,\n      followed by an unknown byte, the byte BB, and an unknown tail.\n      ")]),e._v(" "),n("h5",[e._v("Hint:")]),e._v(" "),n("p",[e._v("\n      The search time will be in the order of minutes to hours if you use 5 or more asterisks (leaving a 20-bit search space).\n      ")])])])])])},r.staticRenderFns=[]},{"../share/event.bus":125,"../share/event.names":126,vue:79}],121:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("../share/event.bus"),s=t(i),a=e("../share/event.names"),c=t(a),u=e("../config/app.data"),l=t(u),f=e("../config/app.config"),d=t(f),p=e("./infobox.vue"),h=t(p),v=o.default.component("keybox",{mixins:[s.default,c.default,l.default,d.default],beforeMount:function(){switch(this.selectOption=this.bitValue,this.bitValue){case"192":this.keyValue=this.keyValue192;break;case"256":this.keyValue=this.keyValue256;break;default:this.keyValue=this.keyValue128}},data:function(){return{selectOption:"",clazz:""}},methods:{checkKey:function(e){if(!e.ctrlKey&&17!=e.keyCode){var t=this.keyValue.length;this.keyValue=this.keyValue.toUpperCase();for(var n="*0123456789ABCDEF ",r=0;r<t;r++){var o=n.indexOf(this.keyValue[r]);if(o<0){var i=this.keyValue.substring(r,r+1);this.keyValue=this.keyValue.replace(i,"F")}}this.clazz="",this.warningLength=!1;var s=this.selectOption/4,a=this.keyValue.replace(/\s/g,"");a.length!==s&&(this.clazz="error",this.warningLength=!0),this.eventBus.$emit(c.default.KeyValue,this.keyValue)}},addChars:function(e,t){for(var n=e.length;n<t.length;n++)e+=t[n];return e},removeChars:function(e,t){return e.substring(0,t.length)},help:function(){var e=this.keyValue.replace(/\s/g,""),t={open:!0,bit:this.selectOption,len:e.length};this.eventBus.$emit(c.default.KeyInfoBox,t)},close:function(){var e={open:!1};this.eventBus.$emit(c.default.KeyInfoBox,e)}},watch:{selectOption:function(){this.clazz="",this.warningLength=!1;var e=this.keyValue.length;128==this.selectOption?e>this.keyValue128.length&&(this.keyValue=this.keyValue.substring(0,this.keyValue128.length)):192==this.selectOption?e<this.keyValue192.length?this.keyValue=this.addChars(this.keyValue,this.keyValue192):e>this.keyValue192.length&&(this.keyValue=this.keyValue.substring(0,this.keyValue192.length)):256==this.selectOption&&e<this.keyValue256.length&&(this.keyValue=this.addChars(this.keyValue,this.keyValue256));var t={bit:this.selectOption,keyValue:this.keyValue};this.eventBus.$emit(c.default.BitSelected,t)}},components:{InfoBox:h.default}});n.default=v}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"keyBox"}},[n("div",{staticClass:"keyBoxOptions"},[n("label",{attrs:{for:"bit"}},[e._v(e._s(e.$t("keyLength"))+":")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectOption,expression:"selectOption"}],attrs:{id:"bit"},on:{change:function(t){e.selectOption=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[n("option",{attrs:{value:"128"}},[e._v("128 Bit")]),e._v(" "),n("option",{attrs:{value:"192"}},[e._v("192 Bit")]),e._v(" "),n("option",{attrs:{value:"256"}},[e._v("256 Bit")])])]),e._v(" "),n("div",{staticClass:"keyBoxOptions has-feedback"},[n("label",{attrs:{for:"key"}},[e._v(e._s(e.$t("keyKnown"))+":")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyValue,expression:"keyValue"}],staticClass:"form-control",class:e.clazz,
attrs:{name:"key",type:"text",id:"key"},domProps:{value:e._s(e.keyValue)},on:{keyup:e.checkKey,input:function(t){t.target.composing||(e.keyValue=t.target.value)}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.warningLength,expression:"!warningLength"}],staticClass:"glyphicon glyphicon-ok form-control-feedback"}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.warningLength,expression:"warningLength"}],staticClass:"glyphicon glyphicon-warning-sign form-control-feedback"}),e._v(" "),n("svg",{staticClass:"icon",on:{mouseover:e.help,click:e.close}},[n("use",{attrs:{"xlink:href":"#signs"}})])])]),e._v(" "),n("infobox")],1)},r.staticRenderFns=[]},{"../config/app.config":94,"../config/app.data":95,"../share/event.bus":125,"../share/event.names":126,"./infobox.vue":120,vue:79}],122:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("../share/event.bus"),s=t(i),a=e("../share/event.names"),c=t(a),u=o.default.component("popup",{mixins:[s.default,c.default],created:function(){var e=this;this.eventBus.$on(c.default.Toggle,function(t){e.warningLength=t})},data:function(){return{warningLength:!1}}});n.default=u}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"popup visible"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.warningLength,expression:"warningLength"}],staticClass:"popuptext visible",attrs:{id:"messages"}},[n("h4",[e._v("Socket messages")])])])])},r.staticRenderFns=[]},{"../share/event.bus":125,"../share/event.names":126,vue:79}],123:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("vue"),i=r(o),s=e("../share/event.names"),a=r(s),c=e("../share/radio.group.btn"),u=r(c),l=i.default.component("radioGroups",{mixins:[u.default],created:function(){var e=this;this.eventBus.$on(a.default.GroupType,function(t){e.groupType=t})},watch:{groupType:function(e,t){"1"==e?this.eventBus.$emit(a.default.JobLocal,!0):this.eventBus.$emit(a.default.JobLocal,!1),"2"==e?this.eventBus.$emit(a.default.JobDefine,!0):this.eventBus.$emit(a.default.JobDefine,!1),"3"==e?this.eventBus.$emit(a.default.ResourceSpend,!0):this.eventBus.$emit(a.default.ResourceSpend,!1)}}});n.default=l},{"../share/event.names":126,"../share/radio.group.btn":127,vue:79}],124:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("./text/ciphertext.vue"),s=t(i),a=e("./options/keybox.vue"),c=t(a),u=e("./share/event.names"),l=t(u),f=e("./config/app.data"),d=t(f),p=e("./config/app.config"),h=t(p),v=e("./distribute/socketbox.vue"),y=t(v),m=e("./options/radio.choose.group"),g=t(m),_=o.default.extend({mixins:[d.default,h.default,l.default],beforeCreate:function(){var e=this;this._eventBus=new o.default,this._eventBus.$on(l.default.GroupType,function(t){e.define="3"!=t})},created:function(){"undefined"!=typeof window.CTO_Globals.lang?this.switchLang(window.CTO_Globals.lang):this.switchLang(document.documentElement.lang)},components:{Ciphertext:s.default,KeyBox:c.default,SocketBox:y.default,RadioChooseGroup:g.default},watch:{},methods:{switchLang:function(e){o.default.config.lang=e}}});n.default=_}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"containerFluid"},[n("div",{staticClass:"hide",attrs:{id:"lang"}},[n("button",{attrs:{name:"lang",id:"de",value:"DE"},on:{click:function(t){e.switchLang("de")}}},[e._v("DE")]),e._v(" "),n("button",{attrs:{name:"lang",id:"en",value:"EN"},on:{click:function(t){e.switchLang("en")}}},[e._v("EN")])]),e._v(" "),n("div",{attrs:{hidden:""}},[n("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[n("symbol",{attrs:{id:"signs",viewBox:"0 0 77.873 77.873"}},[n("title",[e._v("signs-1")]),e._v(" "),n("path",{attrs:{d:"M55.556,64.905c-0.896-0.732-2.134-0.884-3.176-0.393c-0.157,0.074-0.666,0.285-1.993,0.652 c-0.881,0.242-1.642,0.365-2.263,0.365c-1.266,0-1.861-0.167-2.066-0.24c-0.054-0.165-0.142-0.544-0.142-1.26 c0-0.24,0.03-0.968,0.316-2.543c0.214-1.223,0.462-2.33,0.743-3.306l3.682-13.036c0.42-1.387,0.71-2.919,0.86-4.549 c0.145-1.521,0.214-2.6,0.214-3.297c0-3.636-1.314-6.652-3.906-8.966c-2.492-2.224-5.944-3.352-10.261-3.352 c-2.285,0-4.714,0.403-7.217,1.198c-2.278,0.721-4.703,1.604-7.208,2.624c-0.891,0.362-1.553,1.13-1.782,2.064l-0.994,4.052 c-0.265,1.078,0.088,2.214,0.917,2.953c0.827,0.738,1.996,0.959,3.039,0.575c0.721-0.267,1.53-0.534,2.406-0.792 c0.739-0.218,1.446-0.329,2.103-0.329c1.074,0,1.629,0.123,1.868,0.198c0.058,0.186,0.143,0.583,0.143,1.306 c0,0.739-0.093,1.574-0.28,2.493c-0.204,1.027-0.465,2.141-0.78,3.35l-3.713,13.14c-0.011,0.039-0.021,0.078-0.031,0.118 c-0.35,1.464-0.611,2.81-0.776,4.005c-0.167,1.216-0.251,2.436-0.251,3.623c0,3.587,1.35,6.593,4.015,8.939 c2.553,2.24,6.041,3.376,10.367,3.376c2.67,0,5.076-0.366,7.15-1.088c1.835-0.637,4.268-1.553,7.229-2.723 c0.905-0.357,1.581-1.132,1.813-2.077l0.99-4.048C56.845,66.817,56.451,65.636,55.556,64.905z M45.545,40.037 c-0.114,1.235-0.326,2.369-0.645,3.425l-3.693,13.074c-0.336,1.167-0.634,2.485-0.881,3.899c-0.275,1.517-0.409,2.693-0.409,3.595 c0,2.679,0.765,4.658,2.282,5.892c0.654,0.527,1.449,0.923,2.398,1.189c-0.009,0.003-0.019,0.006-0.027,0.01 c-1.441,0.501-3.185,0.755-5.182,0.755c-2.827,0-4.984-0.635-6.406-1.883c-1.348-1.187-1.976-2.595-1.976-4.433 c0-0.917,0.066-1.862,0.195-2.805c0.136-0.983,0.356-2.116,0.654-3.37l3.712-13.136c0.361-1.381,0.648-2.608,0.874-3.741 c0.264-1.3,0.398-2.537,0.398-3.677c0-2.524-0.662-4.436-1.972-5.686c-0.627-0.596-1.418-1.043-2.386-1.345 c1.8-0.543,3.509-0.819,5.084-0.819c2.798,0,4.907,0.615,6.265,1.828c1.298,1.158,1.902,2.584,1.902,4.489 C45.732,37.581,45.708,38.31,45.545,40.037z"}}),e._v(" "),n("path",{attrs:{d:"M45.784,22.517c3.201,0,5.985-1.083,8.267-3.212c2.319-2.151,3.546-4.928,3.546-8.028c0-3.13-1.188-5.833-3.532-8.036 C51.774,1.091,48.989,0,45.785,0c-3.206,0-6,1.087-8.306,3.233c-2.332,2.175-3.565,4.956-3.565,8.043 c0,3.102,1.238,5.881,3.577,8.034C39.796,21.438,42.587,22.517,45.784,22.517z M41.568,7.624C42.758,6.517,44.097,6,45.784,6 c1.674,0,3,0.513,4.173,1.614c1.118,1.051,1.64,2.215,1.64,3.662s-0.517,2.601-1.633,3.636c-1.173,1.095-2.501,1.604-4.18,1.604 c-1.688,0-3.03-0.514-4.228-1.618c-1.121-1.032-1.644-2.183-1.644-3.622S40.44,8.676,41.568,7.624z"}})])])]),e._v(" "),n("radioGroups"),e._v(" "),n("cipher",{directives:[{name:"show",rawName:"v-show",value:e.define,expression:"define"}]}),e._v(" "),n("keybox",{directives:[{name:"show",rawName:"v-show",value:e.define,expression:"define"}]}),e._v(" "),n("socketbox"),e._v(" "),e._m(0)],1)])},r.staticRenderFns=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"authors"}},[n("em",[e._v("CTOAUTHOR: David Kuche")])])}]},{"./config/app.config":94,"./config/app.data":95,"./distribute/socketbox.vue":101,"./options/keybox.vue":121,"./options/radio.choose.group":123,"./share/event.names":126,"./text/ciphertext.vue":128,vue:79}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={computed:{eventBus:function(){for(var e=this;e&&!e._eventBus;)e=e.$parent;if(!e)throw new Error("should have event bus on ancestor");return e._eventBus}}};n.default=r},{}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={Atbash:"atbash",BitSelected:"bitSelect",CipherType:"cipherType",Code:"code",Column:"column",Compute:"compute",Computed:"computed",ComputingStart:"startComputing",ComputingStop:"stopComputing",ComputingRun:"runComputing",Crypt:"crypt",Distribute:"distribute",JobDefine:"defineJob",JobLocal:"localJob",KeyPress:"keyPress",KeyCheck:"checkKey",KeyInfoBox:"keyInfoBox",KeyIncrease:"increaseKey",KeyDecrease:"decreaseKey",KeySquareGen:"KeySquareGen",KeySquareMy:"KeySquareMy",KeySquareRandom:"KeysquareRandom",KeySquareStandard:"KeySquareStandard",KeyValue:"keyValue",Keywords:"keywords",KeywordType:"keywordType",KeywordFirst:"firstKeyword",KeywordSecond:"secondKeyword",Matrix:"matrix",OwnAlphabet:"ownAlphabet",OwnOption:"ownOption",OwnValue:"ownValue",Ciphertxt:"codtxt",CiphertextAlphabet:"ciphertextabc",PlaintextAlphabet:"plaintextabc",Plaintxt:"orgtxt",ResourceSpend:"spendResource",RoomSelected:"selectRoom",Substitutiontxt:"subtxt",SetAlphabet:"setAlphabet",Toggle:"toggle",ToggleAlphabetOptions:"toggleAlphabetOptions",ToggleDisplayOptions:"toggleDisplayOptions",WarningClash:"warnClash",WarningLength:"warnLength"};n.default=r},{}],127:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./event.bus"),i=r(o),s=e("./event.names"),a=r(s),c=e("../config/app.config"),u=r(c),l={mixins:[u.default,i.default,a.default],template:"<div class='radioGroups btn-group btn-group-justified'><input :id='group1' type='radio' value='1' v-model='groupType' @change='changeType()' /><label class='btn btn-success' :class='{ active: isActive1 }' :for='group1'>{{ $t('radioOne') }}</label><input :id='group2' type='radio' value='2' v-model='groupType' @change='changeType()' /><label class='btn btn-success' :class='{ active: isActive2 }' :for='group2'>{{ $t('radioTwo') }}</label><input :id='group3' type='radio' value='3' v-model='groupType' @change='changeType()' /><label class='btn btn-success' :class='{ active: isActive3 }' :for='group3'>{{ $t('radioThree') }}</label></div>",data:function(){return{eventName:a.default.GroupType,group1:"group1",group2:"group2",group3:"group3",clazz:"btn btn-success",clazzActive:"btn btn-success active",isActive1:!0,isActive2:!1,isActive3:!1}},methods:{changeType:function(){this.toggleAct(),this.eventBus.$emit(this.eventName,this.groupType)},toggleAct:function(){this.isActive1=!1,this.isActive2=!1,this.isActive3=!1,console.log(this.groupType),"1"==this.groupType&&(this.isActive1=!0),"2"==this.groupType&&(this.isActive2=!0),"3"==this.groupType&&(this.isActive3=!0)}}};n.default=l},{"../config/app.config":94,"./event.bus":125,"./event.names":126}],128:[function(e,t,n){!function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("vue"),o=t(r),i=e("../share/event.bus"),s=t(i),a=e("../share/event.names"),c=t(a),u=e("../config/app.data"),l=t(u),f=o.default.component("cipher",{mixins:[s.default,c.default,l.default],data:function(){return{clazz:"",warning:!1}},methods:{keyPress:function(e,t){var n={key:e,type:t};this.eventBus.$emit(c.default.KeyPress,n)},crypt:function(e){this.validate();var t={type:e,txt:this.codtxt};this.eventBus.$emit(c.default.Crypt,t)},validate:function(){this.clazz="",this.warning=!1,this.warningLength=!1,this.eventBus.$emit(c.default.WarningClash,!1);for(var e=this.codtxt.toUpperCase().replace(/\s/g,""),t=0;t<e.length;t++)this.hexKeys.indexOf(e[t])==-1&&(this.clazz="error",this.warning=!0,this.eventBus.$emit(c.default.WarningClash,!0));this.codtxt=this.codtxt.replace(/\s/g,""),this.codtxt.length%32==0&&0!=this.codtxt.length||(this.clazz="error",this.warningLength=!0,this.eventBus.$emit(c.default.WarningClash,!0))}}});n.default=f}(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options:t.exports;r.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"cipher"}},[n("label",[e._v(e._s(e.$t("ciphertext"))+" ")]),n("label",[e._v(" ("+e._s(e.$t("length"))+": "+e._s(e.codtxt.length)+"):")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.codtxt,expression:"codtxt"}],class:e.clazz,attrs:{name:"codtxt",id:"codtxt",rows:"10",wrap:"physical",spellcheck:"false"},domProps:{value:e._s(e.codtxt)},on:{keypress:function(t){e.keyPress(t.keyCode,"decode")},keyup:function(t){e.crypt("decode")},input:function(t){t.target.composing||(e.codtxt=t.target.value)}}}),e._v(" "),e.warning?n("label",{staticClass:"warning"},[e._v(" "+e._s(e.$t("warning"))+" ")]):e._e(),e.warningLength?n("label",{staticClass:"warning"},[e._v(" "+e._s(e.$t("warningLength"))+" ")]):e._e(),e._v(" "),n("div",{attrs:{id:"displayOptions"}},[e.useCase?n("label",{directives:[{name:"show",rawName:"v-show",value:!e.uppercase||!e.lowercase,expression:"!uppercase || !lowercase"}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.casesensitive,expression:"casesensitive"}],attrs:{name:"casesensitiv",type:"checkbox",id:"casesensitiv"},domProps:{checked:Array.isArray(e.casesensitive)?e._i(e.casesensitive,null)>-1:e.casesensitive},on:{click:[function(t){var n=e.casesensitive,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);o?s<0&&(e.casesensitive=n.concat(i)):s>-1&&(e.casesensitive=n.slice(0,s).concat(n.slice(s+1)))}else e.casesensitive=o},function(t){e.toggleOptions("casesensitive")}]}}),e._v("\n          "+e._s(e.$t("casesensitive"))+"\n        ")]):e._e(),e._v(" "),e.useSigns?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.signs,expression:"signs"}],attrs:{name:"signs",type:"checkbox",id:"signs"},domProps:{checked:Array.isArray(e.signs)?e._i(e.signs,null)>-1:e.signs},on:{click:[function(t){var n=e.signs,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);o?s<0&&(e.signs=n.concat(i)):s>-1&&(e.signs=n.slice(0,s).concat(n.slice(s+1)))}else e.signs=o},function(t){e.toggleOptions("signs")}]}}),e._v("\n          "+e._s(e.$t("signstext"))+"\n        ")]):e._e(),e._v(" "),e.useSpaces?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ignoreSpaces,expression:"ignoreSpaces"}],attrs:{name:"spaces",type:"checkbox",id:"spaces"},domProps:{checked:Array.isArray(e.ignoreSpaces)?e._i(e.ignoreSpaces,null)>-1:e.ignoreSpaces},on:{click:[function(t){var n=e.ignoreSpaces,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);o?s<0&&(e.ignoreSpaces=n.concat(i)):s>-1&&(e.ignoreSpaces=n.slice(0,s).concat(n.slice(s+1)))}else e.ignoreSpaces=o},function(t){e.toggleOptions("spaces")}]}}),e._v("\n          "+e._s(e.$t("whitespace"))+"\n        ")]):e._e(),e._v(" "),e.useGroup?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.showGroup,expression:"showGroup"}],attrs:{name:"clean",type:"checkbox",id:"clean"},domProps:{checked:Array.isArray(e.showGroup)?e._i(e.showGroup,null)>-1:e.showGroup},on:{click:[function(t){var n=e.showGroup,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);o?s<0&&(e.showGroup=n.concat(i)):s>-1&&(e.showGroup=n.slice(0,s).concat(n.slice(s+1)))}else e.showGroup=o},function(t){e.toggleOptions("clean")}]}}),e._v("\n          "+e._s(e.$t("cleanspace"))+"\n        ")]):e._e()])])},r.staticRenderFns=[]},{"../config/app.data":95,"../share/event.bus":125,"../share/event.names":126,vue:79}]},{},[112]);
